<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="267">
         <a:s>library HFACEIorARBorARNIforLVSD version '11.1.000'</a:s>
      </a:s>
   </annotation>
   <identifier id="HFACEIorARBorARNIforLVSD" version="11.1.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:23" localIdentifier="QDM" uri="urn:healthit-gov:qdm:v5_6" version="5.6">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>QDM</a:s>
               </a:s>
               <a:s> version '5.6'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:64" localIdentifier="Global" path="MATGlobalCommonFunctions" version="7.0.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>MATGlobalCommonFunctions</a:s>
               </a:s>
               <a:s> version '7.0.000' called Global</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="45" locator="44:1-44:49" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="45">
               <a:s>parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="44">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="43">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
            </a:s>
         </annotation>
         <parameterTypeSpecifier localId="44" locator="44:32-44:49" xsi:type="IntervalTypeSpecifier">
            <pointType localId="43" locator="44:41-44:48" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="3" locator="7:1-7:55" name="SNOMEDCT" id="urn:oid:2.16.840.1.113883.6.96" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>codesystem &quot;SNOMEDCT&quot;: 'urn:oid:2.16.840.1.113883.6.96'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="8:1-8:53" name="RXNORM" id="urn:oid:2.16.840.1.113883.6.88" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>codesystem &quot;RXNORM&quot;: 'urn:oid:2.16.840.1.113883.6.88'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="5" locator="10:1-10:84" name="ACE Inhibitor or ARB Ingredient" id="urn:oid:2.16.840.1.113883.3.526.3.1489" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>valueset &quot;ACE Inhibitor or ARB Ingredient&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1489'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="11:1-11:81" name="ACE Inhibitor or ARB or ARNI" id="urn:oid:2.16.840.1.113883.3.526.3.1139" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>valueset &quot;ACE Inhibitor or ARB or ARNI&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1139'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="12:1-12:84" name="Allergy to ACE Inhibitor or ARB" id="urn:oid:2.16.840.1.113883.3.526.3.1211" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>valueset &quot;Allergy to ACE Inhibitor or ARB&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1211'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="13:1-13:110" name="Care Services in Long Term Residential Facility" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1014" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>valueset &quot;Care Services in Long Term Residential Facility&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1014'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="14:1-14:70" name="Ejection Fraction" id="urn:oid:2.16.840.1.113883.3.526.3.1134" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>valueset &quot;Ejection Fraction&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1134'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="15:1-15:58" name="Ethnicity" id="urn:oid:2.16.840.1.114222.4.11.837" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>valueset &quot;Ethnicity&quot;: 'urn:oid:2.16.840.1.114222.4.11.837'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="16:1-16:65" name="Heart Failure" id="urn:oid:2.16.840.1.113883.3.526.3.376" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>valueset &quot;Heart Failure&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.376'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="12" locator="17:1-17:68" name="Heart Transplant" id="urn:oid:2.16.840.1.113762.1.4.1178.33" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="12">
               <a:s>valueset &quot;Heart Transplant&quot;: 'urn:oid:2.16.840.1.113762.1.4.1178.33'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="13" locator="18:1-18:86" name="Heart Transplant Related Diagnoses" id="urn:oid:2.16.840.1.113762.1.4.1178.56" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>valueset &quot;Heart Transplant Related Diagnoses&quot;: 'urn:oid:2.16.840.1.113762.1.4.1178.56'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="14" locator="19:1-19:87" name="Home Healthcare Services" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>valueset &quot;Home Healthcare Services&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="15" locator="20:1-20:88" name="Intolerance to ACE Inhibitor or ARB" id="urn:oid:2.16.840.1.113883.3.526.3.1212" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="15">
               <a:s>valueset &quot;Intolerance to ACE Inhibitor or ARB&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1212'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="16" locator="21:1-21:92" name="Left Ventricular Assist Device Placement" id="urn:oid:2.16.840.1.113762.1.4.1178.61" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="16">
               <a:s>valueset &quot;Left Ventricular Assist Device Placement&quot;: 'urn:oid:2.16.840.1.113762.1.4.1178.61'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="17" locator="22:1-22:100" name="Left Ventricular Assist Device Related Diagnoses" id="urn:oid:2.16.840.1.113762.1.4.1178.58" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="17">
               <a:s>valueset &quot;Left Ventricular Assist Device Related Diagnoses&quot;: 'urn:oid:2.16.840.1.113762.1.4.1178.58'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="18" locator="23:1-23:67" name="Medical Reason" id="urn:oid:2.16.840.1.113883.3.526.3.1007" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="18">
               <a:s>valueset &quot;Medical Reason&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1007'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="19" locator="24:1-24:71" name="Moderate or Severe" id="urn:oid:2.16.840.1.113883.3.526.3.1092" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="19">
               <a:s>valueset &quot;Moderate or Severe&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1092'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="20" locator="25:1-25:76" name="Moderate or Severe LVSD" id="urn:oid:2.16.840.1.113883.3.526.3.1090" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="20">
               <a:s>valueset &quot;Moderate or Severe LVSD&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1090'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="21" locator="26:1-26:85" name="Nursing Facility Visit" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1012" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="21">
               <a:s>valueset &quot;Nursing Facility Visit&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1012'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="22" locator="27:1-27:75" name="Office Visit" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="22">
               <a:s>valueset &quot;Office Visit&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="23" locator="28:1-28:68" name="ONC Administrative Sex" id="urn:oid:2.16.840.1.113762.1.4.1" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="23">
               <a:s>valueset &quot;ONC Administrative Sex&quot;: 'urn:oid:2.16.840.1.113762.1.4.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="24" locator="29:1-29:86" name="Outpatient Consultation" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="24">
               <a:s>valueset &quot;Outpatient Consultation&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="25" locator="30:1-30:81" name="Patient Provider Interaction" id="urn:oid:2.16.840.1.113883.3.526.3.1012" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="25">
               <a:s>valueset &quot;Patient Provider Interaction&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1012'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="26" locator="31:1-31:67" name="Patient Reason" id="urn:oid:2.16.840.1.113883.3.526.3.1008" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="26">
               <a:s>valueset &quot;Patient Reason&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1008'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="27" locator="32:1-32:100" name="Patient Reason for ACE Inhibitor or ARB Decline" id="urn:oid:2.16.840.1.113883.3.526.3.1140" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="27">
               <a:s>valueset &quot;Patient Reason for ACE Inhibitor or ARB Decline&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1140'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="28" locator="33:1-33:55" name="Payer" id="urn:oid:2.16.840.1.114222.4.11.3591" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="28">
               <a:s>valueset &quot;Payer&quot;: 'urn:oid:2.16.840.1.114222.4.11.3591'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="29" locator="34:1-34:61" name="Pregnancy" id="urn:oid:2.16.840.1.113883.3.526.3.378" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="29">
               <a:s>valueset &quot;Pregnancy&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.378'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="30" locator="35:1-35:53" name="Race" id="urn:oid:2.16.840.1.114222.4.11.836" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="30">
               <a:s>valueset &quot;Race&quot;: 'urn:oid:2.16.840.1.114222.4.11.836'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="32" locator="37:1-37:207" name="Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)" id="422593004" display="Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="32">
               <a:s>code &quot;Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)&quot;: '422593004' from </a:s>
               <a:s r="31">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="31" locator="37:107-37:116" name="SNOMEDCT"/>
      </def>
      <def localId="34" locator="38:1-38:143" name="Left ventricular systolic dysfunction (disorder)" id="134401001" display="Left ventricular systolic dysfunction (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="34">
               <a:s>code &quot;Left ventricular systolic dysfunction (disorder)&quot;: '134401001' from </a:s>
               <a:s r="33">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Left ventricular systolic dysfunction (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="33" locator="38:75-38:84" name="SNOMEDCT"/>
      </def>
      <def localId="36" locator="39:1-39:63" name="sacubitril" id="1656328" display="sacubitril" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="36">
               <a:s>code &quot;sacubitril&quot;: '1656328' from </a:s>
               <a:s r="35">
                  <a:s>&quot;RXNORM&quot;</a:s>
               </a:s>
               <a:s> display 'sacubitril'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="35" locator="39:35-39:42" name="RXNORM"/>
      </def>
      <def localId="38" locator="40:1-40:209" name="Substance with angiotensin II receptor antagonist mechanism of action (substance)" id="372913009" display="Substance with angiotensin II receptor antagonist mechanism of action (substance)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="38">
               <a:s>code &quot;Substance with angiotensin II receptor antagonist mechanism of action (substance)&quot;: '372913009' from </a:s>
               <a:s r="37">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Substance with angiotensin II receptor antagonist mechanism of action (substance)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="37" locator="40:108-40:117" name="SNOMEDCT"/>
      </def>
      <def localId="40" locator="41:1-41:219" name="Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)" id="372733002" display="Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="40">
               <a:s>code &quot;Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)&quot;: '372733002' from </a:s>
               <a:s r="39">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="39" locator="41:113-41:122" name="SNOMEDCT"/>
      </def>
      <def localId="42" locator="42:1-42:181" name="Substance with neprilysin inhibitor mechanism of action (substance)" id="786886009" display="Substance with neprilysin inhibitor mechanism of action (substance)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="42">
               <a:s>code &quot;Substance with neprilysin inhibitor mechanism of action (substance)&quot;: '786886009' from </a:s>
               <a:s r="41">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Substance with neprilysin inhibitor mechanism of action (substance)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="41" locator="42:94-42:103" name="SNOMEDCT"/>
      </def>
   </codes>
   <contexts>
      <def locator="46:1-46:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="46:1-46:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="46:1-46:15" xmlns:ns0="urn:healthit-gov:qdm:v5_6" dataType="ns0:Patient" templateId="Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="71" locator="55:1-63:72" name="Heart Failure Outpatient Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="71">
               <a:s>define &quot;Heart Failure Outpatient Encounter&quot;:
  </a:s>
               <a:s r="70">
                  <a:s>
                     <a:s r="57">
                        <a:s r="56">
                           <a:s>( </a:s>
                           <a:s r="56">
                              <a:s r="54">
                                 <a:s r="52">
                                    <a:s r="50">
                                       <a:s r="48">
                                          <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Care Services in Long Term Residential Facility&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>
    union </a:s>
                                       <a:s r="49">
                                          <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Home Healthcare Services&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    union </a:s>
                                    <a:s r="51">
                                       <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Nursing Facility Visit&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="53">
                                    <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Office Visit&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    union </a:s>
                              <a:s r="55">
                                 <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Outpatient Consultation&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="65">
                     <a:s>with </a:s>
                     <a:s r="59">
                        <a:s r="58">
                           <a:s r="58">
                              <a:s>[&quot;Diagnosis&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Heart Failure&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> HeartFailure</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="64">
                        <a:s r="61">
                           <a:s r="60">
                              <a:s>HeartFailure</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="61">
                              <a:s>prevalencePeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="64"> overlaps </a:s>
                        <a:s r="63">
                           <a:s r="62">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="63">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="69">
                     <a:s>where </a:s>
                     <a:s r="69">
                        <a:s r="67">
                           <a:s r="66">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="67">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="69"> during </a:s>
                        <a:s r="68">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="70" locator="56:3-63:72" xsi:type="Query">
            <source localId="57" locator="56:3-60:83" alias="QualifyingEncounter">
               <expression localId="56" locator="56:3-60:63" xsi:type="Union">
                  <operand localId="54" locator="56:5-59:50" xsi:type="Union">
                     <operand localId="50" locator="56:5-57:62" xsi:type="Union">
                        <operand localId="48" locator="56:5-56:79" xmlns:ns1="urn:healthit-gov:qdm:v5_6" dataType="ns1:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="56:30-56:78" name="Care Services in Long Term Residential Facility" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="49" locator="57:11-57:62" xmlns:ns2="urn:healthit-gov:qdm:v5_6" dataType="ns2:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="57:36-57:61" name="Home Healthcare Services" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="51" locator="58:11-58:60" xmlns:ns3="urn:healthit-gov:qdm:v5_6" dataType="ns3:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="58:36-58:59" name="Nursing Facility Visit" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="53" locator="59:11-59:50" xmlns:ns4="urn:healthit-gov:qdm:v5_6" dataType="ns4:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="59:36-59:49" name="Office Visit" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="55" locator="60:11-60:61" xmlns:ns5="urn:healthit-gov:qdm:v5_6" dataType="ns5:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="60:36-60:60" name="Outpatient Consultation" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <relationship localId="65" locator="61:5-62:89" alias="HeartFailure" xsi:type="With">
               <expression localId="58" locator="61:10-61:39" xmlns:ns6="urn:healthit-gov:qdm:v5_6" dataType="ns6:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="61:24-61:38" name="Heart Failure" xsi:type="ValueSetRef"/>
               </expression>
               <suchThat localId="64" locator="62:17-62:89" xsi:type="Overlaps">
                  <operand localId="61" locator="62:17-62:45" path="prevalencePeriod" scope="HeartFailure" xsi:type="Property"/>
                  <operand localId="63" locator="62:56-62:89" path="relevantPeriod" scope="QualifyingEncounter" xsi:type="Property"/>
               </suchThat>
            </relationship>
            <where localId="69" locator="63:5-63:72" xsi:type="IncludedIn">
               <operand localId="67" locator="63:11-63:44" path="relevantPeriod" scope="QualifyingEncounter" xsi:type="Property"/>
               <operand localId="68" locator="63:53-63:72" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="91" locator="101:1-108:5" name="Moderate or Severe LVSD Findings" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="91">
               <a:s>define &quot;Moderate or Severe LVSD Findings&quot;:
  </a:s>
               <a:s r="90">
                  <a:s r="82">
                     <a:s r="80">
                        <a:s>( </a:s>
                        <a:s r="80">
                           <a:s>
                              <a:s r="75">
                                 <a:s r="74">
                                    <a:s r="74">
                                       <a:s>[&quot;Diagnostic Study, Performed&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Ejection Fraction&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> EjectionFraction</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="79">
                              <a:s>where </a:s>
                              <a:s r="79">
                                 <a:s r="77">
                                    <a:s r="76">
                                       <a:s>EjectionFraction</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="77">
                                       <a:s>result</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> &lt;= </a:s>
                                 <a:s r="78">
                                    <a:s>40 '%'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                     <a:s>
    union </a:s>
                     <a:s r="81">
                        <a:s>[&quot;Diagnosis&quot;: </a:s>
                        <a:s>
                           <a:s>&quot;Moderate or Severe LVSD&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    union </a:s>
                  <a:s r="89">
                     <a:s>( </a:s>
                     <a:s r="89">
                        <a:s>
                           <a:s r="84">
                              <a:s r="83">
                                 <a:s r="83">
                                    <a:s>[&quot;Diagnosis&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Left ventricular systolic dysfunction (disorder)&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> LVSD</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="88">
                           <a:s>where </a:s>
                           <a:s r="88">
                              <a:s r="86">
                                 <a:s r="85">
                                    <a:s>LVSD</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="86">
                                    <a:s>severity</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="87">
                                 <a:s>&quot;Moderate or Severe&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="90" locator="102:3-108:5" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="82" locator="102:3-105:50" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="80" locator="102:3-104:3" xsi:type="Query">
                        <source localId="75" locator="102:5-102:73" alias="EjectionFraction">
                           <expression localId="74" locator="102:5-102:56" xmlns:ns7="urn:healthit-gov:qdm:v5_6" dataType="ns7:PositiveDiagnosticStudyPerformed" templateId="PositiveDiagnosticStudyPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                              <codes locator="102:37-102:55" name="Ejection Fraction" xsi:type="ValueSetRef"/>
                           </expression>
                        </source>
                        <where localId="79" locator="103:7-103:45" xsi:type="LessOrEqual">
                           <operand asType="t:Quantity" xsi:type="As">
                              <operand localId="77" locator="103:13-103:35" path="result" scope="EjectionFraction" xsi:type="Property"/>
                           </operand>
                           <operand localId="78" locator="103:40-103:45" value="40" unit="%" xsi:type="Quantity"/>
                        </where>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xmlns:ns8="urn:healthit-gov:qdm:v5_6" name="ns8:Diagnosis" xsi:type="NamedTypeSpecifier"/>
                           <choice xmlns:ns9="urn:healthit-gov:qdm:v5_6" name="ns9:PositiveDiagnosticStudyPerformed" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="81" locator="105:11-105:50" xmlns:ns10="urn:healthit-gov:qdm:v5_6" dataType="ns10:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="105:25-105:49" name="Moderate or Severe LVSD" xsi:type="ValueSetRef"/>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xmlns:ns11="urn:healthit-gov:qdm:v5_6" name="ns11:Diagnosis" xsi:type="NamedTypeSpecifier"/>
                           <choice xmlns:ns12="urn:healthit-gov:qdm:v5_6" name="ns12:PositiveDiagnosticStudyPerformed" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xmlns:ns13="urn:healthit-gov:qdm:v5_6" name="ns13:Diagnosis" xsi:type="NamedTypeSpecifier"/>
                     <choice xmlns:ns14="urn:healthit-gov:qdm:v5_6" name="ns14:PositiveDiagnosticStudyPerformed" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="89" locator="106:11-108:5" xsi:type="Query">
                  <source localId="84" locator="106:13-106:82" alias="LVSD">
                     <expression localId="83" locator="106:13-106:77" xmlns:ns15="urn:healthit-gov:qdm:v5_6" dataType="ns15:Diagnosis" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                        <codes xsi:type="ToList">
                           <operand locator="106:27-106:76" name="Left ventricular systolic dysfunction (disorder)" xsi:type="CodeRef"/>
                        </codes>
                     </expression>
                  </source>
                  <where localId="88" locator="107:9-107:51" xsi:type="InValueSet">
                     <code localId="86" locator="107:15-107:27" path="severity" scope="LVSD" xsi:type="Property"/>
                     <valueset localId="87" locator="107:32-107:51" name="Moderate or Severe" xsi:type="ValueSetRef"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xmlns:ns16="urn:healthit-gov:qdm:v5_6" name="ns16:Diagnosis" xsi:type="NamedTypeSpecifier"/>
                     <choice xmlns:ns17="urn:healthit-gov:qdm:v5_6" name="ns17:PositiveDiagnosticStudyPerformed" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="109" locator="110:1-114:49" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="109">
               <a:s>define &quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;:
  </a:s>
               <a:s r="108">
                  <a:s>
                     <a:s r="73">
                        <a:s r="72">
                           <a:s>
                              <a:s>&quot;Heart Failure Outpatient Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> HFOutpatientEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="107">
                     <a:s>with </a:s>
                     <a:s r="93">
                        <a:s r="92">
                           <a:s>
                              <a:s>&quot;Moderate or Severe LVSD Findings&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> LVSDFindings</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="106">
                        <a:s r="102">
                           <a:s>Coalesce(</a:s>
                           <a:s r="95">
                              <a:s r="94">
                                 <a:s>LVSDFindings</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="95">
                                 <a:s>prevalencePeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="101">
                              <a:s r="96">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="101">
                                 <a:s>&quot;NormalizeInterval&quot;(</a:s>
                                 <a:s r="98">
                                    <a:s r="97">
                                       <a:s>LVSDFindings</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="98">
                                       <a:s>relevantDatetime</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="100">
                                    <a:s r="99">
                                       <a:s>LVSDFindings</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="100">
                                       <a:s>relevantPeriod</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="106">starts before 
      </a:s>
                        <a:s r="105">
                           <a:s>end of </a:s>
                           <a:s r="104">
                              <a:s r="103">
                                 <a:s>HFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="104">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="108" locator="111:3-114:49" xsi:type="Query">
            <source localId="73" locator="111:3-111:60" alias="HFOutpatientEncounter">
               <expression localId="72" locator="111:3-111:38" name="Heart Failure Outpatient Encounter" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="107" locator="112:5-114:49" alias="LVSDFindings" xsi:type="With">
               <expression localId="92" locator="112:10-112:43" name="Moderate or Severe LVSD Findings" xsi:type="ExpressionRef"/>
               <suchThat localId="106" locator="113:17-114:49" xsi:type="Before">
                  <operand locator="113:144-113:149" xsi:type="Start">
                     <operand localId="102" locator="113:17-113:143" xsi:type="Coalesce">
                        <operand localId="95" locator="113:26-113:54" path="prevalencePeriod" scope="LVSDFindings" xsi:type="Property"/>
                        <operand localId="101" locator="113:57-113:142" name="NormalizeInterval" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="98" locator="113:84-113:112" path="relevantDatetime" scope="LVSDFindings" xsi:type="Property"/>
                           <operand localId="100" locator="113:115-113:141" path="relevantPeriod" scope="LVSDFindings" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="105" locator="114:7-114:49" xsi:type="End">
                     <operand localId="104" locator="114:14-114:49" path="relevantPeriod" scope="HFOutpatientEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="134" locator="174:1-181:5" name="Has Medical or Patient Reason for Not Ordering ACEI or ARB or ARNI" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="134">
               <a:s>define &quot;Has Medical or Patient Reason for Not Ordering ACEI or ARB or ARNI&quot;:
  </a:s>
               <a:s r="133">
                  <a:s>exists </a:s>
                  <a:s r="132">
                     <a:s>
                        <a:s r="47">
                           <a:s r="46">
                              <a:s r="46">
                                 <a:s>[&quot;Medication, Not Ordered&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;ACE Inhibitor or ARB or ARNI&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> NoACEIOrARBOrARNIOrdered</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="117">
                        <a:s>with </a:s>
                        <a:s r="111">
                           <a:s r="110">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="116">
                           <a:s r="113">
                              <a:s r="112">
                                 <a:s>NoACEIOrARBOrARNIOrdered</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="113">
                                 <a:s>authorDatetime</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="116"> during </a:s>
                           <a:s r="115">
                              <a:s r="114">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="115">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="131">
                        <a:s>where </a:s>
                        <a:s r="131">
                           <a:s>( </a:s>
                           <a:s r="131">
                              <a:s r="126">
                                 <a:s r="121">
                                    <a:s r="119">
                                       <a:s r="118">
                                          <a:s>NoACEIOrARBOrARNIOrdered</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="119">
                                          <a:s>negationRationale</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="120">
                                       <a:s>&quot;Medical Reason&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
        or </a:s>
                                 <a:s r="125">
                                    <a:s r="123">
                                       <a:s r="122">
                                          <a:s>NoACEIOrARBOrARNIOrdered</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="123">
                                          <a:s>negationRationale</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="124">
                                       <a:s>&quot;Patient Reason&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        or </a:s>
                              <a:s r="130">
                                 <a:s r="128">
                                    <a:s r="127">
                                       <a:s>NoACEIOrARBOrARNIOrdered</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="128">
                                       <a:s>negationRationale</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="129">
                                    <a:s>&quot;Patient Reason for ACE Inhibitor or ARB Decline&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="133" locator="175:3-181:5" xsi:type="Exists">
            <operand localId="132" locator="175:10-181:5" xsi:type="Query">
               <source localId="47" locator="175:10-175:93" alias="NoACEIOrARBOrARNIOrdered">
                  <expression localId="46" locator="175:10-175:68" xmlns:ns18="urn:healthit-gov:qdm:v5_6" dataType="ns18:NegativeMedicationOrder" templateId="NegativeMedicationOrder" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="175:38-175:67" name="ACE Inhibitor or ARB or ARNI" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="117" locator="176:5-177:119" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="110" locator="176:10-176:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="116" locator="177:17-177:119" xsi:type="In">
                     <operand localId="113" locator="177:17-177:55" path="authorDatetime" scope="NoACEIOrARBOrARNIOrdered" xsi:type="Property"/>
                     <operand localId="115" locator="177:64-177:119" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
               <where localId="131" locator="178:5-181:5" xsi:type="Or">
                  <operand localId="126" locator="178:13-179:73" xsi:type="Or">
                     <operand localId="121" locator="178:13-178:74" xsi:type="InValueSet">
                        <code localId="119" locator="178:13-178:54" path="negationRationale" scope="NoACEIOrARBOrARNIOrdered" xsi:type="Property"/>
                        <valueset localId="120" locator="178:59-178:74" name="Medical Reason" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="125" locator="179:12-179:73" xsi:type="InValueSet">
                        <code localId="123" locator="179:12-179:53" path="negationRationale" scope="NoACEIOrARBOrARNIOrdered" xsi:type="Property"/>
                        <valueset localId="124" locator="179:58-179:73" name="Patient Reason" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
                  <operand localId="130" locator="180:12-180:106" xsi:type="InValueSet">
                     <code localId="128" locator="180:12-180:53" path="negationRationale" scope="NoACEIOrARBOrARNIOrdered" xsi:type="Property"/>
                     <valueset localId="129" locator="180:58-180:106" name="Patient Reason for ACE Inhibitor or ARB Decline" xsi:type="ValueSetRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="156" locator="125:1-132:138" name="Has Allergy or Intolerance to ACEI or ARB or ARNI Ingredient" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="156">
               <a:s>define &quot;Has Allergy or Intolerance to ACEI or ARB or ARNI Ingredient&quot;:
  </a:s>
               <a:s r="155">
                  <a:s>exists </a:s>
                  <a:s r="154">
                     <a:s>
                        <a:s r="145">
                           <a:s r="144">
                              <a:s>( </a:s>
                              <a:s r="144">
                                 <a:s r="142">
                                    <a:s r="140">
                                       <a:s r="138">
                                          <a:s r="136">
                                             <a:s>[&quot;Allergy/Intolerance&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;ACE Inhibitor or ARB Ingredient&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>
    union </a:s>
                                          <a:s r="137">
                                             <a:s>[&quot;Allergy/Intolerance&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
    union </a:s>
                                       <a:s r="139">
                                          <a:s>[&quot;Allergy/Intolerance&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Substance with angiotensin II receptor antagonist mechanism of action (substance)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    union </a:s>
                                    <a:s r="141">
                                       <a:s>[&quot;Allergy/Intolerance&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Substance with neprilysin inhibitor mechanism of action (substance)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="143">
                                    <a:s>[&quot;Allergy/Intolerance&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;sacubitril&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ACEIOrARBOrARNIAllergyIntolerance</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="153">
                        <a:s>with </a:s>
                        <a:s r="147">
                           <a:s r="146">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="152">
                           <a:s r="149">
                              <a:s r="148">
                                 <a:s>ACEIOrARBOrARNIAllergyIntolerance</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="149">
                                 <a:s>prevalencePeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="152"> overlaps after </a:s>
                           <a:s r="151">
                              <a:s r="150">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="151">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="155" locator="126:3-132:138" xsi:type="Exists">
            <operand localId="154" locator="126:10-132:138" xsi:type="Query">
               <source localId="145" locator="126:10-130:83" alias="ACEIOrARBOrARNIAllergyIntolerance">
                  <expression localId="144" locator="126:10-130:49" xsi:type="Union">
                     <operand localId="142" locator="126:12-129:104" xsi:type="Union">
                        <operand localId="138" locator="126:12-127:123" xsi:type="Union">
                           <operand localId="136" locator="126:12-126:69" xmlns:ns19="urn:healthit-gov:qdm:v5_6" dataType="ns19:AllergyIntolerance" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                              <codes locator="126:36-126:68" name="ACE Inhibitor or ARB Ingredient" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="137" locator="127:11-127:123" xmlns:ns20="urn:healthit-gov:qdm:v5_6" dataType="ns20:AllergyIntolerance" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                              <codes xsi:type="ToList">
                                 <operand locator="127:35-127:122" name="Substance with angiotensin-converting enzyme inhibitor mechanism of action (substance)" xsi:type="CodeRef"/>
                              </codes>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="139" locator="128:11-128:118" xmlns:ns21="urn:healthit-gov:qdm:v5_6" dataType="ns21:AllergyIntolerance" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                              <codes xsi:type="ToList">
                                 <operand locator="128:35-128:117" name="Substance with angiotensin II receptor antagonist mechanism of action (substance)" xsi:type="CodeRef"/>
                              </codes>
                           </operand>
                           <operand localId="141" locator="129:11-129:104" xmlns:ns22="urn:healthit-gov:qdm:v5_6" dataType="ns22:AllergyIntolerance" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                              <codes xsi:type="ToList">
                                 <operand locator="129:35-129:103" name="Substance with neprilysin inhibitor mechanism of action (substance)" xsi:type="CodeRef"/>
                              </codes>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="143" locator="130:11-130:47" xmlns:ns23="urn:healthit-gov:qdm:v5_6" dataType="ns23:AllergyIntolerance" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                        <codes xsi:type="ToList">
                           <operand locator="130:35-130:46" name="sacubitril" xsi:type="CodeRef"/>
                        </codes>
                     </operand>
                  </expression>
               </source>
               <relationship localId="153" locator="131:5-132:138" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="146" locator="131:10-131:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="152" locator="132:17-132:138" xsi:type="OverlapsAfter">
                     <operand localId="149" locator="132:17-132:66" path="prevalencePeriod" scope="ACEIOrARBOrARNIAllergyIntolerance" xsi:type="Property"/>
                     <operand localId="151" locator="132:83-132:138" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="173" locator="134:1-138:143" name="Has Diagnosis of Allergy or Intolerance to ACEI or ARB" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="173">
               <a:s>define &quot;Has Diagnosis of Allergy or Intolerance to ACEI or ARB&quot;:
  </a:s>
               <a:s r="172">
                  <a:s>exists </a:s>
                  <a:s r="171">
                     <a:s>
                        <a:s r="162">
                           <a:s r="161">
                              <a:s>( </a:s>
                              <a:s r="161">
                                 <a:s r="159">
                                    <a:s>[&quot;Diagnosis&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Allergy to ACE Inhibitor or ARB&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="160">
                                    <a:s>[&quot;Diagnosis&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Intolerance to ACE Inhibitor or ARB&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ACEIOrARBAllergyOrIntoleranceDiagnosis</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="170">
                        <a:s>with </a:s>
                        <a:s r="164">
                           <a:s r="163">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="169">
                           <a:s r="166">
                              <a:s r="165">
                                 <a:s>ACEIOrARBAllergyOrIntoleranceDiagnosis</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="166">
                                 <a:s>prevalencePeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="169"> overlaps after </a:s>
                           <a:s r="168">
                              <a:s r="167">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="168">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="172" locator="135:3-138:143" xsi:type="Exists">
            <operand localId="171" locator="135:10-138:143" xsi:type="Query">
               <source localId="162" locator="135:10-136:103" alias="ACEIOrARBAllergyOrIntoleranceDiagnosis">
                  <expression localId="161" locator="135:10-136:64" xsi:type="Union">
                     <operand localId="159" locator="135:12-135:59" xmlns:ns24="urn:healthit-gov:qdm:v5_6" dataType="ns24:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="135:26-135:58" name="Allergy to ACE Inhibitor or ARB" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="160" locator="136:11-136:62" xmlns:ns25="urn:healthit-gov:qdm:v5_6" dataType="ns25:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="136:25-136:61" name="Intolerance to ACE Inhibitor or ARB" xsi:type="ValueSetRef"/>
                     </operand>
                  </expression>
               </source>
               <relationship localId="170" locator="137:5-138:143" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="163" locator="137:10-137:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="169" locator="138:17-138:143" xsi:type="OverlapsAfter">
                     <operand localId="166" locator="138:17-138:71" path="prevalencePeriod" scope="ACEIOrARBAllergyOrIntoleranceDiagnosis" xsi:type="Property"/>
                     <operand localId="168" locator="138:88-138:143" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="189" locator="140:1-143:142" name="Has Diagnosis of Pregnancy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="189">
               <a:s>define &quot;Has Diagnosis of Pregnancy&quot;:
  </a:s>
               <a:s r="188">
                  <a:s>exists </a:s>
                  <a:s r="187">
                     <a:s>
                        <a:s r="177">
                           <a:s r="176">
                              <a:s r="176">
                                 <a:s>[&quot;Diagnosis&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Pregnancy&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> Pregnancy</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="186">
                        <a:s>with </a:s>
                        <a:s r="179">
                           <a:s r="178">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="185">
                           <a:s r="181">
                              <a:s r="180">
                                 <a:s>Pregnancy</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="181">
                                 <a:s>prevalencePeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="185">
                              <a:s>starts </a:s>
                              <a:s r="184">
                                 <a:s>9 months</a:s>
                              </a:s>
                              <a:s> or less before or on start</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="183">
                              <a:s r="182">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="183">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="188" locator="141:3-143:142" xsi:type="Exists">
            <operand localId="187" locator="141:10-143:142" xsi:type="Query">
               <source localId="177" locator="141:10-141:45" alias="Pregnancy">
                  <expression localId="176" locator="141:10-141:35" xmlns:ns26="urn:healthit-gov:qdm:v5_6" dataType="ns26:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="141:24-141:34" name="Pregnancy" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="186" locator="142:5-143:142" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="178" locator="142:10-142:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="185" locator="143:17-143:142" xsi:type="And">
                     <operand locator="143:51-143:66" xsi:type="In">
                        <operand locator="143:44-143:49" xsi:type="Start">
                           <operand localId="181" locator="143:17-143:42" path="prevalencePeriod" scope="Pregnancy" xsi:type="Property"/>
                        </operand>
                        <operand locator="143:51-143:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                           <low locator="143:81-143:85" xsi:type="Subtract">
                              <operand locator="143:81-143:85" xsi:type="Start">
                                 <operand localId="183" locator="143:87-143:142" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                              </operand>
                              <operand localId="184" locator="143:51-143:58" value="9" unit="months" xsi:type="Quantity"/>
                           </low>
                           <high locator="143:81-143:85" xsi:type="Start">
                              <operand localId="183" locator="143:87-143:142" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                           </high>
                        </operand>
                     </operand>
                     <operand locator="143:51-143:66" xsi:type="Not">
                        <operand locator="143:51-143:66" xsi:type="IsNull">
                           <operand locator="143:81-143:85" xsi:type="Start">
                              <operand localId="183" locator="143:87-143:142" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="204" locator="145:1-148:120" name="Has Diagnosis of Renal Failure Due to ACEI" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="204">
               <a:s>define &quot;Has Diagnosis of Renal Failure Due to ACEI&quot;:
  </a:s>
               <a:s r="203">
                  <a:s>exists </a:s>
                  <a:s r="202">
                     <a:s>
                        <a:s r="193">
                           <a:s r="192">
                              <a:s r="192">
                                 <a:s>[&quot;Diagnosis&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> RenalFailureDueToACEI</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="201">
                        <a:s>with </a:s>
                        <a:s r="195">
                           <a:s r="194">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="200">
                           <a:s r="197">
                              <a:s r="196">
                                 <a:s>RenalFailureDueToACEI</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="197">
                                 <a:s>prevalencePeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="200"> overlaps </a:s>
                           <a:s r="199">
                              <a:s r="198">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="199">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="203" locator="146:3-148:120" xsi:type="Exists">
            <operand localId="202" locator="146:10-148:120" xsi:type="Query">
               <source localId="193" locator="146:10-146:128" alias="RenalFailureDueToACEI">
                  <expression localId="192" locator="146:10-146:106" xmlns:ns27="urn:healthit-gov:qdm:v5_6" dataType="ns27:Diagnosis" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                     <codes xsi:type="ToList">
                        <operand locator="146:24-146:105" name="Acute renal failure caused by angiotensin-converting-enzyme inhibitor (disorder)" xsi:type="CodeRef"/>
                     </codes>
                  </expression>
               </source>
               <relationship localId="201" locator="147:5-148:120" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="194" locator="147:10-147:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="200" locator="148:17-148:120" xsi:type="Overlaps">
                     <operand localId="197" locator="148:17-148:54" path="prevalencePeriod" scope="RenalFailureDueToACEI" xsi:type="Property"/>
                     <operand localId="199" locator="148:65-148:120" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="207" locator="48:1-53:51" name="Denominator Exceptions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>define &quot;Denominator Exceptions&quot;:
  </a:s>
               <a:s r="206">
                  <a:s r="191">
                     <a:s r="175">
                        <a:s r="158">
                           <a:s r="135">
                              <a:s>&quot;Has Medical or Patient Reason for Not Ordering ACEI or ARB or ARNI&quot;</a:s>
                           </a:s>
                           <a:s>
    or </a:s>
                           <a:s r="157">
                              <a:s>&quot;Has Allergy or Intolerance to ACEI or ARB or ARNI Ingredient&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="174">
                           <a:s>&quot;Has Diagnosis of Allergy or Intolerance to ACEI or ARB&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="190">
                        <a:s>&quot;Has Diagnosis of Pregnancy&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="205">
                     <a:s>&quot;Has Diagnosis of Renal Failure Due to ACEI&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="206" locator="49:3-53:51" xsi:type="Or">
            <operand localId="191" locator="49:3-52:35" xsi:type="Or">
               <operand localId="175" locator="49:3-51:63" xsi:type="Or">
                  <operand localId="158" locator="49:3-50:69" xsi:type="Or">
                     <operand localId="135" locator="49:3-49:70" name="Has Medical or Patient Reason for Not Ordering ACEI or ARB or ARNI" xsi:type="ExpressionRef"/>
                     <operand localId="157" locator="50:8-50:69" name="Has Allergy or Intolerance to ACEI or ARB or ARNI Ingredient" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="174" locator="51:8-51:63" name="Has Diagnosis of Allergy or Intolerance to ACEI or ARB" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="190" locator="52:8-52:35" name="Has Diagnosis of Pregnancy" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="205" locator="53:8-53:51" name="Has Diagnosis of Renal Failure Due to ACEI" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="231" locator="74:1-81:67" name="Qualifying Encounter During Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="231">
               <a:s>define &quot;Qualifying Encounter During Measurement Period&quot;:
  </a:s>
               <a:s r="230">
                  <a:s>
                     <a:s r="225">
                        <a:s r="224">
                           <a:s>( </a:s>
                           <a:s r="224">
                              <a:s r="222">
                                 <a:s r="220">
                                    <a:s r="218">
                                       <a:s r="216">
                                          <a:s r="214">
                                             <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Office Visit&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>
    union </a:s>
                                          <a:s r="215">
                                             <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Outpatient Consultation&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
    union </a:s>
                                       <a:s r="217">
                                          <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Nursing Facility Visit&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    union </a:s>
                                    <a:s r="219">
                                       <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Care Services in Long Term Residential Facility&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="221">
                                    <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Home Healthcare Services&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    union </a:s>
                              <a:s r="223">
                                 <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Patient Provider Interaction&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> ValidEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="229">
                     <a:s>where </a:s>
                     <a:s r="229">
                        <a:s r="227">
                           <a:s r="226">
                              <a:s>ValidEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="227">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="229"> during </a:s>
                        <a:s r="228">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="230" locator="75:3-81:67" xsi:type="Query">
            <source localId="225" locator="75:3-80:83" alias="ValidEncounter">
               <expression localId="224" locator="75:3-80:68" xsi:type="Union">
                  <operand localId="220" locator="75:5-78:85" xsi:type="Union">
                     <operand localId="216" locator="75:5-76:61" xsi:type="Union">
                        <operand localId="214" locator="75:5-75:44" xmlns:ns28="urn:healthit-gov:qdm:v5_6" dataType="ns28:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="75:30-75:43" name="Office Visit" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="215" locator="76:11-76:61" xmlns:ns29="urn:healthit-gov:qdm:v5_6" dataType="ns29:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="76:36-76:60" name="Outpatient Consultation" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="217" locator="77:11-77:60" xmlns:ns30="urn:healthit-gov:qdm:v5_6" dataType="ns30:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="77:36-77:59" name="Nursing Facility Visit" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="219" locator="78:11-78:85" xmlns:ns31="urn:healthit-gov:qdm:v5_6" dataType="ns31:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="78:36-78:84" name="Care Services in Long Term Residential Facility" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="221" locator="79:11-79:62" xmlns:ns32="urn:healthit-gov:qdm:v5_6" dataType="ns32:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="79:36-79:61" name="Home Healthcare Services" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="223" locator="80:11-80:66" xmlns:ns33="urn:healthit-gov:qdm:v5_6" dataType="ns33:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="80:36-80:65" name="Patient Provider Interaction" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
               </expression>
            </source>
            <where localId="229" locator="81:5-81:67" xsi:type="IncludedIn">
               <operand localId="227" locator="81:11-81:39" path="relevantPeriod" scope="ValidEncounter" xsi:type="Property"/>
               <operand localId="228" locator="81:48-81:67" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="240" locator="65:1-68:51" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="240">
               <a:s>define &quot;Initial Population&quot;:
  </a:s>
               <a:s r="239">
                  <a:s r="236">
                     <a:s r="213">
                        <a:s r="211">
                           <a:s>AgeInYearsAt(</a:s>
                           <a:s r="210">
                              <a:s>date from </a:s>
                              <a:s r="209">
                                 <a:s>start of </a:s>
                                 <a:s r="208">
                                    <a:s>&quot;Measurement Period&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="212">>= 18</a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="235">
                        <a:s r="233">
                           <a:s>Count(</a:s>
                           <a:s r="232">
                              <a:s>&quot;Qualifying Encounter During Measurement Period&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="234">>= 2</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="238">
                     <a:s>exists </a:s>
                     <a:s r="237">
                        <a:s>&quot;Heart Failure Outpatient Encounter&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="239" locator="66:3-68:51" xsi:type="And">
            <operand localId="236" locator="66:3-67:67" xsi:type="And">
               <operand localId="213" locator="66:3-66:60" xsi:type="GreaterOrEqual">
                  <operand localId="211" locator="66:3-66:55" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDate">
                        <operand path="birthDatetime" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand localId="210" locator="66:16-66:54" xsi:type="DateFrom">
                        <operand localId="209" locator="66:26-66:54" xsi:type="Start">
                           <operand localId="208" locator="66:35-66:54" name="Measurement Period" xsi:type="ParameterRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="212" locator="66:59-66:60" valueType="t:Integer" value="18" xsi:type="Literal"/>
               </operand>
               <operand localId="235" locator="67:9-67:67" xsi:type="GreaterOrEqual">
                  <operand localId="233" locator="67:9-67:63" xsi:type="Count">
                     <source localId="232" locator="67:15-67:62" name="Qualifying Encounter During Measurement Period" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="234" locator="67:67" valueType="t:Integer" value="2" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="238" locator="68:9-68:51" xsi:type="Exists">
               <operand localId="237" locator="68:16-68:51" name="Heart Failure Outpatient Encounter" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="253" locator="120:1-123:117" name="Has ACEI or ARB or ARNI Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="253">
               <a:s>define &quot;Has ACEI or ARB or ARNI Ordered&quot;:
  </a:s>
               <a:s r="252">
                  <a:s>exists </a:s>
                  <a:s r="251">
                     <a:s>
                        <a:s r="242">
                           <a:s r="241">
                              <a:s r="241">
                                 <a:s>[&quot;Medication, Order&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;ACE Inhibitor or ARB or ARNI&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ACEIOrARBOrARNIOrdered</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="250">
                        <a:s>with </a:s>
                        <a:s r="244">
                           <a:s r="243">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="249">
                           <a:s r="246">
                              <a:s r="245">
                                 <a:s>ACEIOrARBOrARNIOrdered</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="246">
                                 <a:s>authorDatetime</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="249"> during </a:s>
                           <a:s r="248">
                              <a:s r="247">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="248">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="252" locator="121:3-123:117" xsi:type="Exists">
            <operand localId="251" locator="121:10-123:117" xsi:type="Query">
               <source localId="242" locator="121:10-121:85" alias="ACEIOrARBOrARNIOrdered">
                  <expression localId="241" locator="121:10-121:62" xmlns:ns34="urn:healthit-gov:qdm:v5_6" dataType="ns34:PositiveMedicationOrder" templateId="PositiveMedicationOrder" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="121:32-121:61" name="ACE Inhibitor or ARB or ARNI" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="250" locator="122:5-123:117" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="243" locator="122:10-122:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="249" locator="123:17-123:117" xsi:type="In">
                     <operand localId="246" locator="123:17-123:53" path="authorDatetime" scope="ACEIOrARBOrARNIOrdered" xsi:type="Property"/>
                     <operand localId="248" locator="123:62-123:117" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="267" locator="183:1-186:124" name="Is Currently Taking ACEI or ARB or ARNI" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="267">
               <a:s>define &quot;Is Currently Taking ACEI or ARB or ARNI&quot;:
  </a:s>
               <a:s r="266">
                  <a:s>exists </a:s>
                  <a:s r="265">
                     <a:s>
                        <a:s r="256">
                           <a:s r="255">
                              <a:s r="255">
                                 <a:s>[&quot;Medication, Active&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;ACE Inhibitor or ARB or ARNI&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ActiveACEIOrARBOrARNI</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="264">
                        <a:s>with </a:s>
                        <a:s r="258">
                           <a:s r="257">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="263">
                           <a:s r="260">
                              <a:s r="259">
                                 <a:s>ActiveACEIOrARBOrARNI</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="260">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="263"> overlaps after </a:s>
                           <a:s r="262">
                              <a:s r="261">
                                 <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="262">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="266" locator="184:3-186:124" xsi:type="Exists">
            <operand localId="265" locator="184:10-186:124" xsi:type="Query">
               <source localId="256" locator="184:10-184:85" alias="ActiveACEIOrARBOrARNI">
                  <expression localId="255" locator="184:10-184:63" xmlns:ns35="urn:healthit-gov:qdm:v5_6" dataType="ns35:MedicationActive" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="184:33-184:62" name="ACE Inhibitor or ARB or ARNI" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="264" locator="185:5-186:124" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="257" locator="185:10-185:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="263" locator="186:17-186:124" xsi:type="OverlapsAfter">
                     <operand localId="260" locator="186:17-186:52" path="relevantPeriod" scope="ActiveACEIOrARBOrARNI" xsi:type="Property"/>
                     <operand localId="262" locator="186:69-186:124" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="270" locator="70:1-72:48" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="270">
               <a:s>define &quot;Numerator&quot;:
  </a:s>
               <a:s r="269">
                  <a:s r="254">
                     <a:s>&quot;Has ACEI or ARB or ARNI Ordered&quot;</a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="268">
                     <a:s>&quot;Is Currently Taking ACEI or ARB or ARNI&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="269" locator="71:3-72:48" xsi:type="Or">
            <operand localId="254" locator="71:3-71:35" name="Has ACEI or ARB or ARNI Ordered" xsi:type="ExpressionRef"/>
            <operand localId="268" locator="72:8-72:48" name="Is Currently Taking ACEI or ARB or ARNI" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="272" locator="83:1-84:51" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="272">
               <a:s>define &quot;SDE Ethnicity&quot;:
  </a:s>
               <a:s r="271">
                  <a:s>[&quot;Patient Characteristic Ethnicity&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Ethnicity&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="271" locator="84:3-84:51" xmlns:ns36="urn:healthit-gov:qdm:v5_6" dataType="ns36:PatientCharacteristicEthnicity" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="84:40-84:50" name="Ethnicity" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="274" locator="86:1-87:43" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="274">
               <a:s>define &quot;SDE Payer&quot;:
  </a:s>
               <a:s r="273">
                  <a:s>[&quot;Patient Characteristic Payer&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Payer&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="273" locator="87:3-87:43" xmlns:ns37="urn:healthit-gov:qdm:v5_6" dataType="ns37:PatientCharacteristicPayer" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="87:36-87:42" name="Payer" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="276" locator="89:1-90:41" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="276">
               <a:s>define &quot;SDE Race&quot;:
  </a:s>
               <a:s r="275">
                  <a:s>[&quot;Patient Characteristic Race&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Race&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="275" locator="90:3-90:41" xmlns:ns38="urn:healthit-gov:qdm:v5_6" dataType="ns38:PatientCharacteristicRace" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="90:35-90:40" name="Race" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="278" locator="92:1-93:58" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="278">
               <a:s>define &quot;SDE Sex&quot;:
  </a:s>
               <a:s r="277">
                  <a:s>[&quot;Patient Characteristic Sex&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;ONC Administrative Sex&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="277" locator="93:3-93:58" xmlns:ns39="urn:healthit-gov:qdm:v5_6" dataType="ns39:PatientCharacteristicSex" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="93:34-93:57" name="ONC Administrative Sex" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="296" locator="150:1-154:69" name="Has Heart Transplant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="296">
               <a:s>define &quot;Has Heart Transplant&quot;:
  </a:s>
               <a:s r="295">
                  <a:s>exists </a:s>
                  <a:s r="294">
                     <a:s>
                        <a:s r="280">
                           <a:s r="279">
                              <a:s r="279">
                                 <a:s>[&quot;Procedure, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Heart Transplant&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> HeartTransplant</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="293">
                        <a:s>with </a:s>
                        <a:s r="282">
                           <a:s r="281">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="292">
                           <a:s r="288">
                              <a:s>( </a:s>
                              <a:s r="288">
                                 <a:s r="283">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="288">
                                    <a:s>&quot;NormalizeInterval&quot; ( </a:s>
                                    <a:s r="285">
                                       <a:s r="284">
                                          <a:s>HeartTransplant</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="285">
                                          <a:s>relevantDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="287">
                                       <a:s r="286">
                                          <a:s>HeartTransplant</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="287">
                                          <a:s>relevantPeriod</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s r="292"> starts before 
      </a:s>
                           <a:s r="291">
                              <a:s>end of </a:s>
                              <a:s r="290">
                                 <a:s r="289">
                                    <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="290">
                                    <a:s>relevantPeriod</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="295" locator="151:3-154:69" xsi:type="Exists">
            <operand localId="294" locator="151:10-154:69" xsi:type="Query">
               <source localId="280" locator="151:10-151:69" alias="HeartTransplant">
                  <expression localId="279" locator="151:10-151:53" xmlns:ns40="urn:healthit-gov:qdm:v5_6" dataType="ns40:PositiveProcedurePerformed" templateId="PositiveProcedurePerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="151:35-151:52" name="Heart Transplant" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="293" locator="152:5-154:69" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="281" locator="152:10-152:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="292" locator="153:17-154:69" xsi:type="Before">
                     <operand locator="153:117-153:122" xsi:type="Start">
                        <operand localId="288" locator="153:17-153:115" name="NormalizeInterval" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="285" locator="153:48-153:79" path="relevantDatetime" scope="HeartTransplant" xsi:type="Property"/>
                           <operand localId="287" locator="153:82-153:111" path="relevantPeriod" scope="HeartTransplant" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="291" locator="154:7-154:69" xsi:type="End">
                        <operand localId="290" locator="154:14-154:69" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="315" locator="156:1-160:69" name="Has Heart Transplant Related Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="315">
               <a:s>define &quot;Has Heart Transplant Related Diagnosis&quot;:
  </a:s>
               <a:s r="314">
                  <a:s>exists </a:s>
                  <a:s r="313">
                     <a:s>
                        <a:s r="299">
                           <a:s r="298">
                              <a:s r="298">
                                 <a:s>[&quot;Diagnosis&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Heart Transplant Related Diagnoses&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> HeartTransplantCondition</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="312">
                        <a:s>with </a:s>
                        <a:s r="301">
                           <a:s r="300">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="311">
                           <a:s r="307">
                              <a:s>( </a:s>
                              <a:s r="307">
                                 <a:s r="302">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="307">
                                    <a:s>&quot;NormalizeInterval&quot; ( </a:s>
                                    <a:s r="304">
                                       <a:s r="303">
                                          <a:s>HeartTransplantCondition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="304">
                                          <a:s>authorDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="306">
                                       <a:s r="305">
                                          <a:s>HeartTransplantCondition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="306">
                                          <a:s>prevalencePeriod</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s r="311"> starts before 
      </a:s>
                           <a:s r="310">
                              <a:s>end of </a:s>
                              <a:s r="309">
                                 <a:s r="308">
                                    <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="309">
                                    <a:s>relevantPeriod</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="314" locator="157:3-160:69" xsi:type="Exists">
            <operand localId="313" locator="157:10-160:69" xsi:type="Query">
               <source localId="299" locator="157:10-157:85" alias="HeartTransplantCondition">
                  <expression localId="298" locator="157:10-157:60" xmlns:ns41="urn:healthit-gov:qdm:v5_6" dataType="ns41:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="157:24-157:59" name="Heart Transplant Related Diagnoses" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="312" locator="158:5-160:69" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="300" locator="158:10-158:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="311" locator="159:17-160:69" xsi:type="Before">
                     <operand locator="159:135-159:140" xsi:type="Start">
                        <operand localId="307" locator="159:17-159:133" name="NormalizeInterval" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="304" locator="159:48-159:86" path="authorDatetime" scope="HeartTransplantCondition" xsi:type="Property"/>
                           <operand localId="306" locator="159:89-159:129" path="prevalencePeriod" scope="HeartTransplantCondition" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="310" locator="160:7-160:69" xsi:type="End">
                        <operand localId="309" locator="160:14-160:69" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="335" locator="162:1-166:69" name="Has Left Ventricular Assist Device" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="335">
               <a:s>define &quot;Has Left Ventricular Assist Device&quot;:
  </a:s>
               <a:s r="334">
                  <a:s>exists </a:s>
                  <a:s r="333">
                     <a:s>
                        <a:s r="319">
                           <a:s r="318">
                              <a:s r="318">
                                 <a:s>[&quot;Procedure, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Left Ventricular Assist Device Placement&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> LVADOutpatient</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="332">
                        <a:s>with </a:s>
                        <a:s r="321">
                           <a:s r="320">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="331">
                           <a:s r="327">
                              <a:s>( </a:s>
                              <a:s r="327">
                                 <a:s r="322">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="327">
                                    <a:s>&quot;NormalizeInterval&quot; ( </a:s>
                                    <a:s r="324">
                                       <a:s r="323">
                                          <a:s>LVADOutpatient</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="324">
                                          <a:s>relevantDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="326">
                                       <a:s r="325">
                                          <a:s>LVADOutpatient</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="326">
                                          <a:s>relevantPeriod</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s r="331"> starts before 
      </a:s>
                           <a:s r="330">
                              <a:s>end of </a:s>
                              <a:s r="329">
                                 <a:s r="328">
                                    <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="329">
                                    <a:s>relevantPeriod</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="334" locator="163:3-166:69" xsi:type="Exists">
            <operand localId="333" locator="163:10-166:69" xsi:type="Query">
               <source localId="319" locator="163:10-163:92" alias="LVADOutpatient">
                  <expression localId="318" locator="163:10-163:77" xmlns:ns42="urn:healthit-gov:qdm:v5_6" dataType="ns42:PositiveProcedurePerformed" templateId="PositiveProcedurePerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="163:35-163:76" name="Left Ventricular Assist Device Placement" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="332" locator="164:5-166:69" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="320" locator="164:10-164:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="331" locator="165:17-166:69" xsi:type="Before">
                     <operand locator="165:115-165:120" xsi:type="Start">
                        <operand localId="327" locator="165:17-165:113" name="NormalizeInterval" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="324" locator="165:48-165:78" path="relevantDatetime" scope="LVADOutpatient" xsi:type="Property"/>
                           <operand localId="326" locator="165:81-165:109" path="relevantPeriod" scope="LVADOutpatient" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="330" locator="166:7-166:69" xsi:type="End">
                        <operand localId="329" locator="166:14-166:69" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="355" locator="168:1-172:69" name="Has Left Ventricular Assist Device Related Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="355">
               <a:s>define &quot;Has Left Ventricular Assist Device Related Diagnosis&quot;:
  </a:s>
               <a:s r="354">
                  <a:s>exists </a:s>
                  <a:s r="353">
                     <a:s>
                        <a:s r="339">
                           <a:s r="338">
                              <a:s r="338">
                                 <a:s>[&quot;Diagnosis&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Left Ventricular Assist Device Related Diagnoses&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> LVADCondition</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="352">
                        <a:s>with </a:s>
                        <a:s r="341">
                           <a:s r="340">
                              <a:s>
                                 <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                        </a:s>
                        <a:s>
      such that </a:s>
                        <a:s r="351">
                           <a:s r="347">
                              <a:s>( </a:s>
                              <a:s r="347">
                                 <a:s r="342">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="347">
                                    <a:s>&quot;NormalizeInterval&quot; ( </a:s>
                                    <a:s r="344">
                                       <a:s r="343">
                                          <a:s>LVADCondition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="344">
                                          <a:s>authorDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="346">
                                       <a:s r="345">
                                          <a:s>LVADCondition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="346">
                                          <a:s>prevalencePeriod</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s r="351"> starts before 
      </a:s>
                           <a:s r="350">
                              <a:s>end of </a:s>
                              <a:s r="349">
                                 <a:s r="348">
                                    <a:s>ModerateOrSevereLVSDHFOutpatientEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="349">
                                    <a:s>relevantPeriod</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="354" locator="169:3-172:69" xsi:type="Exists">
            <operand localId="353" locator="169:10-172:69" xsi:type="Query">
               <source localId="339" locator="169:10-169:88" alias="LVADCondition">
                  <expression localId="338" locator="169:10-169:74" xmlns:ns43="urn:healthit-gov:qdm:v5_6" dataType="ns43:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="169:24-169:73" name="Left Ventricular Assist Device Related Diagnoses" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="352" locator="170:5-172:69" alias="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="With">
                  <expression localId="340" locator="170:10-170:85" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
                  <suchThat localId="351" locator="171:17-172:69" xsi:type="Before">
                     <operand locator="171:113-171:118" xsi:type="Start">
                        <operand localId="347" locator="171:17-171:111" name="NormalizeInterval" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="344" locator="171:48-171:75" path="authorDatetime" scope="LVADCondition" xsi:type="Property"/>
                           <operand localId="346" locator="171:78-171:107" path="prevalencePeriod" scope="LVADCondition" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="350" locator="172:7-172:69" xsi:type="End">
                        <operand localId="349" locator="172:14-172:69" path="relevantPeriod" scope="ModerateOrSevereLVSDHFOutpatientEncounter" xsi:type="Property"/>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="358" locator="95:1-99:61" name="Denominator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="358">
               <a:s>define &quot;Denominator Exclusions&quot;:
  </a:s>
               <a:s r="357">
                  <a:s r="337">
                     <a:s r="317">
                        <a:s r="297">
                           <a:s>&quot;Has Heart Transplant&quot;</a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="316">
                           <a:s>&quot;Has Heart Transplant Related Diagnosis&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="336">
                        <a:s>&quot;Has Left Ventricular Assist Device&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="356">
                     <a:s>&quot;Has Left Ventricular Assist Device Related Diagnosis&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="357" locator="96:3-99:61" xsi:type="Or">
            <operand localId="337" locator="96:3-98:43" xsi:type="Or">
               <operand localId="317" locator="96:3-97:47" xsi:type="Or">
                  <operand localId="297" locator="96:3-96:24" name="Has Heart Transplant" xsi:type="ExpressionRef"/>
                  <operand localId="316" locator="97:8-97:47" name="Has Heart Transplant Related Diagnosis" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="336" locator="98:8-98:43" name="Has Left Ventricular Assist Device" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="356" locator="99:8-99:61" name="Has Left Ventricular Assist Device Related Diagnosis" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="363" locator="116:1-118:91" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="363">
               <a:s>define &quot;Denominator&quot;:
  </a:s>
               <a:s r="362">
                  <a:s r="359">
                     <a:s>&quot;Initial Population&quot;</a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="361">
                     <a:s>exists </a:s>
                     <a:s r="360">
                        <a:s>&quot;Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="362" locator="117:3-118:91" xsi:type="And">
            <operand localId="359" locator="117:3-117:22" name="Initial Population" xsi:type="ExpressionRef"/>
            <operand localId="361" locator="118:9-118:91" xsi:type="Exists">
               <operand localId="360" locator="118:16-118:91" name="Heart Failure Outpatient Encounter with History of Moderate or Severe LVSD" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
   </statements>
</library>
