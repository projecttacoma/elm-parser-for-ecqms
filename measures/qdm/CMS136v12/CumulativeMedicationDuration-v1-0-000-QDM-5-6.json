{
   "library" : {
      "annotation" : [ {
         "translatorOptions" : "EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation",
         "type" : "CqlToElmInfo"
      }, {
         "type" : "Annotation",
         "s" : {
            "r" : "685",
            "s" : [ {
               "value" : [ "","library CumulativeMedicationDuration version '1.0.000'" ]
            } ]
         }
      } ],
      "identifier" : {
         "id" : "CumulativeMedicationDuration",
         "version" : "1.0.000"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localId" : "1",
            "locator" : "7:1-7:23",
            "localIdentifier" : "QDM",
            "uri" : "urn:healthit-gov:qdm:v5_6",
            "version" : "5.6",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "This library provides cumulative medication duration calculation logic for use with Quality Data Model prescription, discharge, administration, and dispensing events."
               }, {
                  "name" : "description",
                  "value" : "This library provides cumulative medication duration calculation logic for use with Quality Data Model prescription, discharge, administration, and dispensing events. \nThe logic here follows the guidance provided as part of the 5.6 version of Quality Data Model."
               }, {
                  "name" : "comment",
                  "value" : "Note that the logic here assumes single-instruction dosing information. Split-dosing, tapering, and other more complex dosing instructions are not handled."
               } ],
               "s" : {
                  "r" : "1",
                  "s" : [ {
                     "value" : [ "/*@description: This library provides cumulative medication duration calculation logic for use with Quality Data Model prescription, discharge, administration, and dispensing events. \nThe logic here follows the guidance provided as part of the 5.6 version of Quality Data Model.\n@comment: Note that the logic here assumes single-instruction dosing information. Split-dosing, tapering, and other more complex dosing instructions are not handled.*/","using " ]
                  }, {
                     "s" : [ {
                        "value" : [ "QDM" ]
                     } ]
                  }, {
                     "value" : [ " version ","'5.6'" ]
                  } ]
               }
            } ]
         } ]
      },
      "includes" : {
         "def" : [ {
            "localId" : "2",
            "locator" : "9:1-9:64",
            "localIdentifier" : "Global",
            "path" : "MATGlobalCommonFunctions",
            "version" : "7.0.000",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "2",
                  "s" : [ {
                     "value" : [ "","include " ]
                  }, {
                     "s" : [ {
                        "value" : [ "MATGlobalCommonFunctions" ]
                     } ]
                  }, {
                     "value" : [ " version ","'7.0.000'"," called ","Global" ]
                  } ]
               }
            } ]
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "localId" : "3",
            "locator" : "11:1-11:55",
            "name" : "SNOMEDCT",
            "id" : "urn:oid:2.16.840.1.113883.6.96",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "3",
                  "s" : [ {
                     "value" : [ "","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'" ]
                  } ]
               }
            } ]
         } ]
      },
      "codes" : {
         "def" : [ {
            "localId" : "5",
            "locator" : "13:1-13:117",
            "name" : "Every eight hours (qualifier value)",
            "id" : "307469008",
            "display" : "Every eight hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "5",
                  "s" : [ {
                     "value" : [ "","code ","\"Every eight hours (qualifier value)\"",": ","'307469008'"," from " ]
                  }, {
                     "r" : "4",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every eight hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "4",
               "locator" : "13:62-13:71",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "7",
            "locator" : "14:1-14:137",
            "name" : "Every eight to twelve hours (qualifier value)",
            "id" : "396140003",
            "display" : "Every eight to twelve hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "7",
                  "s" : [ {
                     "value" : [ "","code ","\"Every eight to twelve hours (qualifier value)\"",": ","'396140003'"," from " ]
                  }, {
                     "r" : "6",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every eight to twelve hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "6",
               "locator" : "14:72-14:81",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "9",
            "locator" : "15:1-15:129",
            "name" : "Every forty eight hours (qualifier value)",
            "id" : "396131002",
            "display" : "Every forty eight hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "9",
                  "s" : [ {
                     "value" : [ "","code ","\"Every forty eight hours (qualifier value)\"",": ","'396131002'"," from " ]
                  }, {
                     "r" : "8",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every forty eight hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "8",
               "locator" : "15:68-15:77",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "11",
            "locator" : "16:1-16:117",
            "name" : "Every forty hours (qualifier value)",
            "id" : "396130001",
            "display" : "Every forty hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "11",
                  "s" : [ {
                     "value" : [ "","code ","\"Every forty hours (qualifier value)\"",": ","'396130001'"," from " ]
                  }, {
                     "r" : "10",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every forty hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "10",
               "locator" : "16:62-16:71",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "13",
            "locator" : "17:1-17:115",
            "name" : "Every four hours (qualifier value)",
            "id" : "225756002",
            "display" : "Every four hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "13",
                  "s" : [ {
                     "value" : [ "","code ","\"Every four hours (qualifier value)\"",": ","'225756002'"," from " ]
                  }, {
                     "r" : "12",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every four hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "12",
               "locator" : "17:61-17:70",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "15",
            "locator" : "18:1-18:129",
            "name" : "Every seventy two hours (qualifier value)",
            "id" : "396143001",
            "display" : "Every seventy two hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "15",
                  "s" : [ {
                     "value" : [ "","code ","\"Every seventy two hours (qualifier value)\"",": ","'396143001'"," from " ]
                  }, {
                     "r" : "14",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every seventy two hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "14",
               "locator" : "18:68-18:77",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "17",
            "locator" : "19:1-19:113",
            "name" : "Every six hours (qualifier value)",
            "id" : "307468000",
            "display" : "Every six hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "17",
                  "s" : [ {
                     "value" : [ "","code ","\"Every six hours (qualifier value)\"",": ","'307468000'"," from " ]
                  }, {
                     "r" : "16",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every six hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "16",
               "locator" : "19:60-19:69",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "19",
            "locator" : "20:1-20:131",
            "name" : "Every six to eight hours (qualifier value)",
            "id" : "396139000",
            "display" : "Every six to eight hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "19",
                  "s" : [ {
                     "value" : [ "","code ","\"Every six to eight hours (qualifier value)\"",": ","'396139000'"," from " ]
                  }, {
                     "r" : "18",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every six to eight hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "18",
               "locator" : "20:69-20:78",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "21",
            "locator" : "21:1-21:127",
            "name" : "Every thirty six hours (qualifier value)",
            "id" : "396126004",
            "display" : "Every thirty six hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "21",
                  "s" : [ {
                     "value" : [ "","code ","\"Every thirty six hours (qualifier value)\"",": ","'396126004'"," from " ]
                  }, {
                     "r" : "20",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every thirty six hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "20",
               "locator" : "21:67-21:76",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "23",
            "locator" : "22:1-22:133",
            "name" : "Every three to four hours (qualifier value)",
            "id" : "225754004",
            "display" : "Every three to four hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "23",
                  "s" : [ {
                     "value" : [ "","code ","\"Every three to four hours (qualifier value)\"",": ","'225754004'"," from " ]
                  }, {
                     "r" : "22",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every three to four hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "22",
               "locator" : "22:70-22:79",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "25",
            "locator" : "23:1-23:131",
            "name" : "Every three to six hours (qualifier value)",
            "id" : "396127008",
            "display" : "Every three to six hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "25",
                  "s" : [ {
                     "value" : [ "","code ","\"Every three to six hours (qualifier value)\"",": ","'396127008'"," from " ]
                  }, {
                     "r" : "24",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every three to six hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "24",
               "locator" : "23:69-23:78",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "27",
            "locator" : "24:1-24:119",
            "name" : "Every twelve hours (qualifier value)",
            "id" : "307470009",
            "display" : "Every twelve hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "27",
                  "s" : [ {
                     "value" : [ "","code ","\"Every twelve hours (qualifier value)\"",": ","'307470009'"," from " ]
                  }, {
                     "r" : "26",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every twelve hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "26",
               "locator" : "24:63-24:72",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "29",
            "locator" : "25:1-25:129",
            "name" : "Every twenty four hours (qualifier value)",
            "id" : "396125000",
            "display" : "Every twenty four hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "29",
                  "s" : [ {
                     "value" : [ "","code ","\"Every twenty four hours (qualifier value)\"",": ","'396125000'"," from " ]
                  }, {
                     "r" : "28",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every twenty four hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "28",
               "locator" : "25:68-25:77",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "31",
            "locator" : "26:1-26:129",
            "name" : "Every two to four hours (qualifier value)",
            "id" : "225752000",
            "display" : "Every two to four hours (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "31",
                  "s" : [ {
                     "value" : [ "","code ","\"Every two to four hours (qualifier value)\"",": ","'225752000'"," from " ]
                  }, {
                     "r" : "30",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Every two to four hours (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "30",
               "locator" : "26:68-26:77",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "33",
            "locator" : "27:1-27:115",
            "name" : "Four times daily (qualifier value)",
            "id" : "307439001",
            "display" : "Four times daily (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "33",
                  "s" : [ {
                     "value" : [ "","code ","\"Four times daily (qualifier value)\"",": ","'307439001'"," from " ]
                  }, {
                     "r" : "32",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Four times daily (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "32",
               "locator" : "27:61-27:70",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "35",
            "locator" : "28:1-28:103",
            "name" : "Once daily (qualifier value)",
            "id" : "229797004",
            "display" : "Once daily (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "35",
                  "s" : [ {
                     "value" : [ "","code ","\"Once daily (qualifier value)\"",": ","'229797004'"," from " ]
                  }, {
                     "r" : "34",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Once daily (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "34",
               "locator" : "28:55-28:64",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "37",
            "locator" : "29:1-29:129",
            "name" : "One to four times a day (qualifier value)",
            "id" : "396109005",
            "display" : "One to four times a day (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "37",
                  "s" : [ {
                     "value" : [ "","code ","\"One to four times a day (qualifier value)\"",": ","'396109005'"," from " ]
                  }, {
                     "r" : "36",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'One to four times a day (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "36",
               "locator" : "29:68-29:77",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "39",
            "locator" : "30:1-30:131",
            "name" : "One to three times a day (qualifier value)",
            "id" : "396108002",
            "display" : "One to three times a day (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "39",
                  "s" : [ {
                     "value" : [ "","code ","\"One to three times a day (qualifier value)\"",": ","'396108002'"," from " ]
                  }, {
                     "r" : "38",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'One to three times a day (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "38",
               "locator" : "30:69-30:78",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "41",
            "locator" : "31:1-31:127",
            "name" : "One to two times a day (qualifier value)",
            "id" : "396107007",
            "display" : "One to two times a day (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "41",
                  "s" : [ {
                     "value" : [ "","code ","\"One to two times a day (qualifier value)\"",": ","'396107007'"," from " ]
                  }, {
                     "r" : "40",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'One to two times a day (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "40",
               "locator" : "31:67-31:76",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "43",
            "locator" : "32:1-32:117",
            "name" : "Three times daily (qualifier value)",
            "id" : "229798009",
            "display" : "Three times daily (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "43",
                  "s" : [ {
                     "value" : [ "","code ","\"Three times daily (qualifier value)\"",": ","'229798009'"," from " ]
                  }, {
                     "r" : "42",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Three times daily (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "42",
               "locator" : "32:62-32:71",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "45",
            "locator" : "33:1-33:105",
            "name" : "Twice a day (qualifier value)",
            "id" : "229799001",
            "display" : "Twice a day (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "45",
                  "s" : [ {
                     "value" : [ "","code ","\"Twice a day (qualifier value)\"",": ","'229799001'"," from " ]
                  }, {
                     "r" : "44",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Twice a day (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "44",
               "locator" : "33:56-33:65",
               "name" : "SNOMEDCT"
            }
         }, {
            "localId" : "47",
            "locator" : "34:1-34:129",
            "name" : "Two to four times a day (qualifier value)",
            "id" : "396111001",
            "display" : "Two to four times a day (qualifier value)",
            "accessLevel" : "Public",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "47",
                  "s" : [ {
                     "value" : [ "","code ","\"Two to four times a day (qualifier value)\"",": ","'396111001'"," from " ]
                  }, {
                     "r" : "46",
                     "s" : [ {
                        "value" : [ "\"SNOMEDCT\"" ]
                     } ]
                  }, {
                     "value" : [ " display ","'Two to four times a day (qualifier value)'" ]
                  } ]
               }
            } ],
            "codeSystem" : {
               "localId" : "46",
               "locator" : "34:68-34:77",
               "name" : "SNOMEDCT"
            }
         } ]
      },
      "contexts" : {
         "def" : [ {
            "locator" : "36:1-36:15",
            "name" : "Patient"
         } ]
      },
      "statements" : {
         "def" : [ {
            "locator" : "36:1-36:15",
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "locator" : "36:1-36:15",
                  "dataType" : "{urn:healthit-gov:qdm:v5_6}Patient",
                  "templateId" : "Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "localId" : "239",
            "locator" : "40:1-64:7",
            "name" : "QuantityToDaily",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Converts a frequency quantity to a daily frequency (as a decimal)"
               }, {
                  "name" : "description",
                  "value" : "Converts a frequency quantity to a daily frequency (as a decimal)"
               }, {
                  "name" : "comment",
                  "value" : "This function considers both the value and unit of the given frequency. E.g. the frequency `30 'min'` will result in a daily frequency of `48.0`"
               } ],
               "s" : {
                  "r" : "239",
                  "s" : [ {
                     "value" : [ "/*@description: Converts a frequency quantity to a daily frequency (as a decimal)\n@comment: This function considers both the value and unit of the given frequency. E.g. the frequency `30 'min'` will result in a daily frequency of `48.0`*/","define function ","\"QuantityToDaily\"","(","Frequency"," " ]
                  }, {
                     "r" : "48",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "238",
                     "s" : [ {
                        "r" : "238",
                        "s" : [ {
                           "value" : [ "case " ]
                        }, {
                           "r" : "50",
                           "s" : [ {
                              "r" : "49",
                              "s" : [ {
                                 "value" : [ "Frequency" ]
                              } ]
                           }, {
                              "value" : [ "." ]
                           }, {
                              "r" : "50",
                              "s" : [ {
                                 "value" : [ "unit" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "56",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "51",
                              "s" : [ {
                                 "value" : [ "'h'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "55",
                              "s" : [ {
                                 "value" : [ "(" ]
                              }, {
                                 "r" : "55",
                                 "s" : [ {
                                    "r" : "52",
                                    "value" : [ "24.0"," / " ]
                                 }, {
                                    "r" : "54",
                                    "s" : [ {
                                       "r" : "53",
                                       "s" : [ {
                                          "value" : [ "Frequency" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "54",
                                       "s" : [ {
                                          "value" : [ "value" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "64",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "57",
                              "s" : [ {
                                 "value" : [ "'min'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "63",
                              "s" : [ {
                                 "r" : "61",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "61",
                                    "s" : [ {
                                       "r" : "58",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "60",
                                       "s" : [ {
                                          "r" : "59",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "60",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "62",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "74",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "65",
                              "s" : [ {
                                 "value" : [ "'s'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "73",
                              "s" : [ {
                                 "r" : "71",
                                 "s" : [ {
                                    "r" : "69",
                                    "s" : [ {
                                       "value" : [ "(" ]
                                    }, {
                                       "r" : "69",
                                       "s" : [ {
                                          "r" : "66",
                                          "value" : [ "24.0"," / " ]
                                       }, {
                                          "r" : "68",
                                          "s" : [ {
                                             "r" : "67",
                                             "s" : [ {
                                                "value" : [ "Frequency" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "68",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "r" : "70",
                                    "value" : [ " * ","60" ]
                                 } ]
                              }, {
                                 "r" : "72",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "82",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "75",
                              "s" : [ {
                                 "value" : [ "'d'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "81",
                              "s" : [ {
                                 "r" : "79",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "79",
                                    "s" : [ {
                                       "r" : "76",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "78",
                                       "s" : [ {
                                          "r" : "77",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "78",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "80",
                                 "value" : [ " / ","24" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "92",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "83",
                              "s" : [ {
                                 "value" : [ "'wk'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "91",
                              "s" : [ {
                                 "r" : "87",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "87",
                                    "s" : [ {
                                       "r" : "84",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "86",
                                       "s" : [ {
                                          "r" : "85",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "86",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "90",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "90",
                                    "s" : [ {
                                       "r" : "88",
                                       "value" : [ "24"," * ","7" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "102",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "93",
                              "s" : [ {
                                 "value" : [ "'mo'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "101",
                              "s" : [ {
                                 "r" : "97",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "97",
                                    "s" : [ {
                                       "r" : "94",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "96",
                                       "s" : [ {
                                          "r" : "95",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "96",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "100",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "100",
                                    "s" : [ {
                                       "r" : "98",
                                       "value" : [ "24"," * ","30" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " /* assuming 30 days in month */\n      " ]
                        }, {
                           "r" : "112",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "103",
                              "s" : [ {
                                 "value" : [ "'a'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "111",
                              "s" : [ {
                                 "r" : "107",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "107",
                                    "s" : [ {
                                       "r" : "104",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "106",
                                       "s" : [ {
                                          "r" : "105",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "106",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "110",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "110",
                                    "s" : [ {
                                       "r" : "108",
                                       "value" : [ "24"," * ","365" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " /* assuming 365 days in year */\n      " ]
                        }, {
                           "r" : "118",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "113",
                              "s" : [ {
                                 "value" : [ "'hour'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "117",
                              "s" : [ {
                                 "value" : [ "(" ]
                              }, {
                                 "r" : "117",
                                 "s" : [ {
                                    "r" : "114",
                                    "value" : [ "24.0"," / " ]
                                 }, {
                                    "r" : "116",
                                    "s" : [ {
                                       "r" : "115",
                                       "s" : [ {
                                          "value" : [ "Frequency" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "116",
                                       "s" : [ {
                                          "value" : [ "value" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "126",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "119",
                              "s" : [ {
                                 "value" : [ "'minute'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "125",
                              "s" : [ {
                                 "r" : "123",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "123",
                                    "s" : [ {
                                       "r" : "120",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "122",
                                       "s" : [ {
                                          "r" : "121",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "122",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "124",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "136",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "127",
                              "s" : [ {
                                 "value" : [ "'second'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "135",
                              "s" : [ {
                                 "r" : "133",
                                 "s" : [ {
                                    "r" : "131",
                                    "s" : [ {
                                       "value" : [ "(" ]
                                    }, {
                                       "r" : "131",
                                       "s" : [ {
                                          "r" : "128",
                                          "value" : [ "24.0"," / " ]
                                       }, {
                                          "r" : "130",
                                          "s" : [ {
                                             "r" : "129",
                                             "s" : [ {
                                                "value" : [ "Frequency" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "130",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "r" : "132",
                                    "value" : [ " * ","60" ]
                                 } ]
                              }, {
                                 "r" : "134",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "144",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "137",
                              "s" : [ {
                                 "value" : [ "'day'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "143",
                              "s" : [ {
                                 "r" : "141",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "141",
                                    "s" : [ {
                                       "r" : "138",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "140",
                                       "s" : [ {
                                          "r" : "139",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "140",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "142",
                                 "value" : [ " / ","24" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "154",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "145",
                              "s" : [ {
                                 "value" : [ "'week'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "153",
                              "s" : [ {
                                 "r" : "149",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "149",
                                    "s" : [ {
                                       "r" : "146",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "148",
                                       "s" : [ {
                                          "r" : "147",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "148",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "152",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "152",
                                    "s" : [ {
                                       "r" : "150",
                                       "value" : [ "24"," * ","7" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "164",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "155",
                              "s" : [ {
                                 "value" : [ "'month'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "163",
                              "s" : [ {
                                 "r" : "159",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "159",
                                    "s" : [ {
                                       "r" : "156",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "158",
                                       "s" : [ {
                                          "r" : "157",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "158",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "162",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "162",
                                    "s" : [ {
                                       "r" : "160",
                                       "value" : [ "24"," * ","30" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " /* assuming 30 days in month */\n      " ]
                        }, {
                           "r" : "174",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "165",
                              "s" : [ {
                                 "value" : [ "'year'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "173",
                              "s" : [ {
                                 "r" : "169",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "169",
                                    "s" : [ {
                                       "r" : "166",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "168",
                                       "s" : [ {
                                          "r" : "167",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "168",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "172",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "172",
                                    "s" : [ {
                                       "r" : "170",
                                       "value" : [ "24"," * ","365" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " /* assuming 365 days in year */\n      " ]
                        }, {
                           "r" : "180",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "175",
                              "s" : [ {
                                 "value" : [ "'hours'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "179",
                              "s" : [ {
                                 "value" : [ "(" ]
                              }, {
                                 "r" : "179",
                                 "s" : [ {
                                    "r" : "176",
                                    "value" : [ "24.0"," / " ]
                                 }, {
                                    "r" : "178",
                                    "s" : [ {
                                       "r" : "177",
                                       "s" : [ {
                                          "value" : [ "Frequency" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "178",
                                       "s" : [ {
                                          "value" : [ "value" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "188",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "181",
                              "s" : [ {
                                 "value" : [ "'minutes'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "187",
                              "s" : [ {
                                 "r" : "185",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "185",
                                    "s" : [ {
                                       "r" : "182",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "184",
                                       "s" : [ {
                                          "r" : "183",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "184",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "186",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "198",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "189",
                              "s" : [ {
                                 "value" : [ "'seconds'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "197",
                              "s" : [ {
                                 "r" : "195",
                                 "s" : [ {
                                    "r" : "193",
                                    "s" : [ {
                                       "value" : [ "(" ]
                                    }, {
                                       "r" : "193",
                                       "s" : [ {
                                          "r" : "190",
                                          "value" : [ "24.0"," / " ]
                                       }, {
                                          "r" : "192",
                                          "s" : [ {
                                             "r" : "191",
                                             "s" : [ {
                                                "value" : [ "Frequency" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "192",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "r" : "194",
                                    "value" : [ " * ","60" ]
                                 } ]
                              }, {
                                 "r" : "196",
                                 "value" : [ " * ","60" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "206",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "199",
                              "s" : [ {
                                 "value" : [ "'days'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "205",
                              "s" : [ {
                                 "r" : "203",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "203",
                                    "s" : [ {
                                       "r" : "200",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "202",
                                       "s" : [ {
                                          "r" : "201",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "202",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "r" : "204",
                                 "value" : [ " / ","24" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "216",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "207",
                              "s" : [ {
                                 "value" : [ "'weeks'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "215",
                              "s" : [ {
                                 "r" : "211",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "211",
                                    "s" : [ {
                                       "r" : "208",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "210",
                                       "s" : [ {
                                          "r" : "209",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "210",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "214",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "214",
                                    "s" : [ {
                                       "r" : "212",
                                       "value" : [ "24"," * ","7" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n      " ]
                        }, {
                           "r" : "226",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "217",
                              "s" : [ {
                                 "value" : [ "'months'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "225",
                              "s" : [ {
                                 "r" : "221",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "221",
                                    "s" : [ {
                                       "r" : "218",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "220",
                                       "s" : [ {
                                          "r" : "219",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "220",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "224",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "224",
                                    "s" : [ {
                                       "r" : "222",
                                       "value" : [ "24"," * ","30" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " /* assuming 30 days in month */\n      " ]
                        }, {
                           "r" : "236",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "227",
                              "s" : [ {
                                 "value" : [ "'years'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "235",
                              "s" : [ {
                                 "r" : "231",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "231",
                                    "s" : [ {
                                       "r" : "228",
                                       "value" : [ "24.0"," / " ]
                                    }, {
                                       "r" : "230",
                                       "s" : [ {
                                          "r" : "229",
                                          "s" : [ {
                                             "value" : [ "Frequency" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "230",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              }, {
                                 "value" : [ " / " ]
                              }, {
                                 "r" : "234",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "234",
                                    "s" : [ {
                                       "r" : "232",
                                       "value" : [ "24"," * ","365" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "r" : "237",
                           "value" : [ " /* assuming 365 days in year */\n      else ","null","\n    end" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "238",
               "locator" : "41:3-64:7",
               "type" : "Case",
               "comparand" : {
                  "localId" : "50",
                  "locator" : "41:8-41:21",
                  "path" : "unit",
                  "type" : "Property",
                  "source" : {
                     "localId" : "49",
                     "locator" : "41:8-41:16",
                     "name" : "Frequency",
                     "type" : "OperandRef"
                  }
               },
               "caseItem" : [ {
                  "localId" : "56",
                  "locator" : "42:7-42:44",
                  "when" : {
                     "localId" : "51",
                     "locator" : "42:12-42:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "h",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "55",
                     "locator" : "42:21-42:44",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "52",
                        "locator" : "42:22-42:25",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "value" : "24.0",
                        "type" : "Literal"
                     }, {
                        "localId" : "54",
                        "locator" : "42:29-42:43",
                        "path" : "value",
                        "type" : "Property",
                        "source" : {
                           "localId" : "53",
                           "locator" : "42:29-42:37",
                           "name" : "Frequency",
                           "type" : "OperandRef"
                        }
                     } ]
                  }
               }, {
                  "localId" : "64",
                  "locator" : "43:7-43:51",
                  "when" : {
                     "localId" : "57",
                     "locator" : "43:12-43:16",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "min",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "63",
                     "locator" : "43:23-43:51",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "61",
                        "locator" : "43:23-43:46",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "58",
                           "locator" : "43:24-43:27",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "60",
                           "locator" : "43:31-43:45",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "59",
                              "locator" : "43:31-43:39",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "62",
                           "locator" : "43:50-43:51",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "74",
                  "locator" : "44:7-44:54",
                  "when" : {
                     "localId" : "65",
                     "locator" : "44:12-44:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "s",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "73",
                     "locator" : "44:21-44:54",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "71",
                        "locator" : "44:21-44:49",
                        "type" : "Multiply",
                        "operand" : [ {
                           "localId" : "69",
                           "locator" : "44:21-44:44",
                           "type" : "Divide",
                           "operand" : [ {
                              "localId" : "66",
                              "locator" : "44:22-44:25",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "localId" : "68",
                              "locator" : "44:29-44:43",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "67",
                                 "locator" : "44:29-44:37",
                                 "name" : "Frequency",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "localId" : "70",
                              "locator" : "44:48-44:49",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "72",
                           "locator" : "44:53-44:54",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "82",
                  "locator" : "45:7-45:49",
                  "when" : {
                     "localId" : "75",
                     "locator" : "45:12-45:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "d",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "81",
                     "locator" : "45:21-45:49",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "79",
                        "locator" : "45:21-45:44",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "76",
                           "locator" : "45:22-45:25",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "78",
                           "locator" : "45:29-45:43",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "77",
                              "locator" : "45:29-45:37",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "80",
                           "locator" : "45:48-45:49",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "92",
                  "locator" : "46:7-46:56",
                  "when" : {
                     "localId" : "83",
                     "locator" : "46:12-46:15",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "wk",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "91",
                     "locator" : "46:22-46:56",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "87",
                        "locator" : "46:22-46:45",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "84",
                           "locator" : "46:23-46:26",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "86",
                           "locator" : "46:30-46:44",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "85",
                              "locator" : "46:30-46:38",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "90",
                           "locator" : "46:49-46:56",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "88",
                              "locator" : "46:50-46:51",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "89",
                              "locator" : "46:55",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "102",
                  "locator" : "47:7-47:57",
                  "when" : {
                     "localId" : "93",
                     "locator" : "47:12-47:15",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mo",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "101",
                     "locator" : "47:22-47:57",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "97",
                        "locator" : "47:22-47:45",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "94",
                           "locator" : "47:23-47:26",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "96",
                           "locator" : "47:30-47:44",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "95",
                              "locator" : "47:30-47:38",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "100",
                           "locator" : "47:49-47:57",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "98",
                              "locator" : "47:50-47:51",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "99",
                              "locator" : "47:55-47:56",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "112",
                  "locator" : "48:7-48:57",
                  "when" : {
                     "localId" : "103",
                     "locator" : "48:12-48:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "a",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "111",
                     "locator" : "48:21-48:57",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "107",
                        "locator" : "48:21-48:44",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "104",
                           "locator" : "48:22-48:25",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "106",
                           "locator" : "48:29-48:43",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "105",
                              "locator" : "48:29-48:37",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "110",
                           "locator" : "48:48-48:57",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "108",
                              "locator" : "48:49-48:50",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "109",
                              "locator" : "48:54-48:56",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "118",
                  "locator" : "49:7-49:47",
                  "when" : {
                     "localId" : "113",
                     "locator" : "49:12-49:17",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "hour",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "117",
                     "locator" : "49:24-49:47",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "114",
                        "locator" : "49:25-49:28",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "value" : "24.0",
                        "type" : "Literal"
                     }, {
                        "localId" : "116",
                        "locator" : "49:32-49:46",
                        "path" : "value",
                        "type" : "Property",
                        "source" : {
                           "localId" : "115",
                           "locator" : "49:32-49:40",
                           "name" : "Frequency",
                           "type" : "OperandRef"
                        }
                     } ]
                  }
               }, {
                  "localId" : "126",
                  "locator" : "50:7-50:54",
                  "when" : {
                     "localId" : "119",
                     "locator" : "50:12-50:19",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "minute",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "125",
                     "locator" : "50:26-50:54",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "123",
                        "locator" : "50:26-50:49",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "120",
                           "locator" : "50:27-50:30",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "122",
                           "locator" : "50:34-50:48",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "121",
                              "locator" : "50:34-50:42",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "124",
                           "locator" : "50:53-50:54",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "136",
                  "locator" : "51:7-51:59",
                  "when" : {
                     "localId" : "127",
                     "locator" : "51:12-51:19",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "second",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "135",
                     "locator" : "51:26-51:59",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "133",
                        "locator" : "51:26-51:54",
                        "type" : "Multiply",
                        "operand" : [ {
                           "localId" : "131",
                           "locator" : "51:26-51:49",
                           "type" : "Divide",
                           "operand" : [ {
                              "localId" : "128",
                              "locator" : "51:27-51:30",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "localId" : "130",
                              "locator" : "51:34-51:48",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "129",
                                 "locator" : "51:34-51:42",
                                 "name" : "Frequency",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "localId" : "132",
                              "locator" : "51:53-51:54",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "134",
                           "locator" : "51:58-51:59",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "144",
                  "locator" : "52:7-52:51",
                  "when" : {
                     "localId" : "137",
                     "locator" : "52:12-52:16",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "day",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "143",
                     "locator" : "52:23-52:51",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "141",
                        "locator" : "52:23-52:46",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "138",
                           "locator" : "52:24-52:27",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "140",
                           "locator" : "52:31-52:45",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "139",
                              "locator" : "52:31-52:39",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "142",
                           "locator" : "52:50-52:51",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "154",
                  "locator" : "53:7-53:58",
                  "when" : {
                     "localId" : "145",
                     "locator" : "53:12-53:17",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "week",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "153",
                     "locator" : "53:24-53:58",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "149",
                        "locator" : "53:24-53:47",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "146",
                           "locator" : "53:25-53:28",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "148",
                           "locator" : "53:32-53:46",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "147",
                              "locator" : "53:32-53:40",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "152",
                           "locator" : "53:51-53:58",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "150",
                              "locator" : "53:52-53:53",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "151",
                              "locator" : "53:57",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "164",
                  "locator" : "54:7-54:60",
                  "when" : {
                     "localId" : "155",
                     "locator" : "54:12-54:18",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "month",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "163",
                     "locator" : "54:25-54:60",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "159",
                        "locator" : "54:25-54:48",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "156",
                           "locator" : "54:26-54:29",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "158",
                           "locator" : "54:33-54:47",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "157",
                              "locator" : "54:33-54:41",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "162",
                           "locator" : "54:52-54:60",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "160",
                              "locator" : "54:53-54:54",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "161",
                              "locator" : "54:58-54:59",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "174",
                  "locator" : "55:7-55:60",
                  "when" : {
                     "localId" : "165",
                     "locator" : "55:12-55:17",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "year",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "173",
                     "locator" : "55:24-55:60",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "169",
                        "locator" : "55:24-55:47",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "166",
                           "locator" : "55:25-55:28",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "168",
                           "locator" : "55:32-55:46",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "167",
                              "locator" : "55:32-55:40",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "172",
                           "locator" : "55:51-55:60",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "170",
                              "locator" : "55:52-55:53",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "171",
                              "locator" : "55:57-55:59",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "180",
                  "locator" : "56:7-56:48",
                  "when" : {
                     "localId" : "175",
                     "locator" : "56:12-56:18",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "hours",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "179",
                     "locator" : "56:25-56:48",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "176",
                        "locator" : "56:26-56:29",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "value" : "24.0",
                        "type" : "Literal"
                     }, {
                        "localId" : "178",
                        "locator" : "56:33-56:47",
                        "path" : "value",
                        "type" : "Property",
                        "source" : {
                           "localId" : "177",
                           "locator" : "56:33-56:41",
                           "name" : "Frequency",
                           "type" : "OperandRef"
                        }
                     } ]
                  }
               }, {
                  "localId" : "188",
                  "locator" : "57:7-57:55",
                  "when" : {
                     "localId" : "181",
                     "locator" : "57:12-57:20",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "minutes",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "187",
                     "locator" : "57:27-57:55",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "185",
                        "locator" : "57:27-57:50",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "182",
                           "locator" : "57:28-57:31",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "184",
                           "locator" : "57:35-57:49",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "183",
                              "locator" : "57:35-57:43",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "186",
                           "locator" : "57:54-57:55",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "198",
                  "locator" : "58:7-58:60",
                  "when" : {
                     "localId" : "189",
                     "locator" : "58:12-58:20",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "seconds",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "197",
                     "locator" : "58:27-58:60",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "195",
                        "locator" : "58:27-58:55",
                        "type" : "Multiply",
                        "operand" : [ {
                           "localId" : "193",
                           "locator" : "58:27-58:50",
                           "type" : "Divide",
                           "operand" : [ {
                              "localId" : "190",
                              "locator" : "58:28-58:31",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "localId" : "192",
                              "locator" : "58:35-58:49",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "191",
                                 "locator" : "58:35-58:43",
                                 "name" : "Frequency",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "localId" : "194",
                              "locator" : "58:54-58:55",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "196",
                           "locator" : "58:59-58:60",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "206",
                  "locator" : "59:7-59:52",
                  "when" : {
                     "localId" : "199",
                     "locator" : "59:12-59:17",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "days",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "205",
                     "locator" : "59:24-59:52",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "203",
                        "locator" : "59:24-59:47",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "200",
                           "locator" : "59:25-59:28",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "202",
                           "locator" : "59:32-59:46",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "201",
                              "locator" : "59:32-59:40",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "204",
                           "locator" : "59:51-59:52",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "localId" : "216",
                  "locator" : "60:7-60:59",
                  "when" : {
                     "localId" : "207",
                     "locator" : "60:12-60:18",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "weeks",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "215",
                     "locator" : "60:25-60:59",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "211",
                        "locator" : "60:25-60:48",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "208",
                           "locator" : "60:26-60:29",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "210",
                           "locator" : "60:33-60:47",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "209",
                              "locator" : "60:33-60:41",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "214",
                           "locator" : "60:52-60:59",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "212",
                              "locator" : "60:53-60:54",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "213",
                              "locator" : "60:58",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "226",
                  "locator" : "61:7-61:61",
                  "when" : {
                     "localId" : "217",
                     "locator" : "61:12-61:19",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "months",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "225",
                     "locator" : "61:26-61:61",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "221",
                        "locator" : "61:26-61:49",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "218",
                           "locator" : "61:27-61:30",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "220",
                           "locator" : "61:34-61:48",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "219",
                              "locator" : "61:34-61:42",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "224",
                           "locator" : "61:53-61:61",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "222",
                              "locator" : "61:54-61:55",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "223",
                              "locator" : "61:59-61:60",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "localId" : "236",
                  "locator" : "62:7-62:61",
                  "when" : {
                     "localId" : "227",
                     "locator" : "62:12-62:18",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "years",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "235",
                     "locator" : "62:25-62:61",
                     "type" : "Divide",
                     "operand" : [ {
                        "localId" : "231",
                        "locator" : "62:25-62:48",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "228",
                           "locator" : "62:26-62:29",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "localId" : "230",
                           "locator" : "62:33-62:47",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "229",
                              "locator" : "62:33-62:41",
                              "name" : "Frequency",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "234",
                           "locator" : "62:52-62:61",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "232",
                              "locator" : "62:53-62:54",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "localId" : "233",
                              "locator" : "62:58-62:60",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "As",
                  "operand" : {
                     "localId" : "237",
                     "locator" : "63:12-63:15",
                     "type" : "Null"
                  }
               }
            },
            "operand" : [ {
               "name" : "Frequency",
               "operandTypeSpecifier" : {
                  "localId" : "48",
                  "locator" : "40:45-40:52",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "348",
            "locator" : "69:1-93:5",
            "name" : "CodeToDaily",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Returns the equivalent daily frequency (as a decimal) of the given code"
               }, {
                  "name" : "description",
                  "value" : "Returns the equivalent daily frequency (as a decimal) of the given code"
               }, {
                  "name" : "comment",
                  "value" : "Note that for ranges, the upper range is used. E.g. `Every two to four hours`\nresults in `6.0` and `One to two` times a day results in `2.0`."
               } ],
               "s" : {
                  "r" : "348",
                  "s" : [ {
                     "value" : [ "/*@description: Returns the equivalent daily frequency (as a decimal) of the given code\n@comment: Note that for ranges, the upper range is used. E.g. `Every two to four hours`\nresults in `6.0` and `One to two` times a day results in `2.0`.*/","define function ","\"CodeToDaily\"","(","Frequency"," " ]
                  }, {
                     "r" : "240",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "347",
                     "s" : [ {
                        "r" : "347",
                        "s" : [ {
                           "value" : [ "case\n    " ]
                        }, {
                           "r" : "245",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "243",
                              "s" : [ {
                                 "r" : "241",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "242",
                                 "s" : [ {
                                    "value" : [ "\"Once daily (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "244",
                              "value" : [ " then ","1.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "250",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "248",
                              "s" : [ {
                                 "r" : "246",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "247",
                                 "s" : [ {
                                    "value" : [ "\"Twice a day (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "249",
                              "value" : [ " then ","2.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "255",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "253",
                              "s" : [ {
                                 "r" : "251",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "252",
                                 "s" : [ {
                                    "value" : [ "\"Three times daily (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "254",
                              "value" : [ " then ","3.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "260",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "258",
                              "s" : [ {
                                 "r" : "256",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "257",
                                 "s" : [ {
                                    "value" : [ "\"Four times daily (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "259",
                              "value" : [ " then ","4.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "265",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "263",
                              "s" : [ {
                                 "r" : "261",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "262",
                                 "s" : [ {
                                    "value" : [ "\"Every twenty four hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "264",
                              "value" : [ " then ","1.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "270",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "268",
                              "s" : [ {
                                 "r" : "266",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "267",
                                 "s" : [ {
                                    "value" : [ "\"Every twelve hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "269",
                              "value" : [ " then ","2.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "275",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "273",
                              "s" : [ {
                                 "r" : "271",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "272",
                                 "s" : [ {
                                    "value" : [ "\"Every thirty six hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "274",
                              "value" : [ " then ","0.67" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "280",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "278",
                              "s" : [ {
                                 "r" : "276",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "277",
                                 "s" : [ {
                                    "value" : [ "\"Every eight hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "279",
                              "value" : [ " then ","3.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "285",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "283",
                              "s" : [ {
                                 "r" : "281",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "282",
                                 "s" : [ {
                                    "value" : [ "\"Every four hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "284",
                              "value" : [ " then ","6.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "290",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "288",
                              "s" : [ {
                                 "r" : "286",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "287",
                                 "s" : [ {
                                    "value" : [ "\"Every six hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "289",
                              "value" : [ " then ","4.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "295",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "293",
                              "s" : [ {
                                 "r" : "291",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "292",
                                 "s" : [ {
                                    "value" : [ "\"Every seventy two hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "294",
                              "value" : [ " then ","0.34" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "300",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "298",
                              "s" : [ {
                                 "r" : "296",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "297",
                                 "s" : [ {
                                    "value" : [ "\"Every forty eight hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "299",
                              "value" : [ " then ","0.5" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "305",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "303",
                              "s" : [ {
                                 "r" : "301",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "302",
                                 "s" : [ {
                                    "value" : [ "\"Every eight to twelve hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "304",
                              "value" : [ " then ","2.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "310",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "308",
                              "s" : [ {
                                 "r" : "306",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "307",
                                 "s" : [ {
                                    "value" : [ "\"Every six to eight hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "309",
                              "value" : [ " then ","3.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "315",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "313",
                              "s" : [ {
                                 "r" : "311",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "312",
                                 "s" : [ {
                                    "value" : [ "\"Every three to four hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "314",
                              "value" : [ " then ","6.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "320",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "318",
                              "s" : [ {
                                 "r" : "316",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "317",
                                 "s" : [ {
                                    "value" : [ "\"Every three to six hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "319",
                              "value" : [ " then ","4.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "325",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "323",
                              "s" : [ {
                                 "r" : "321",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "322",
                                 "s" : [ {
                                    "value" : [ "\"Every two to four hours (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "324",
                              "value" : [ " then ","6.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "330",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "328",
                              "s" : [ {
                                 "r" : "326",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "327",
                                 "s" : [ {
                                    "value" : [ "\"One to four times a day (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "329",
                              "value" : [ " then ","4.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "335",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "333",
                              "s" : [ {
                                 "r" : "331",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "332",
                                 "s" : [ {
                                    "value" : [ "\"One to three times a day (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "334",
                              "value" : [ " then ","3.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "340",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "338",
                              "s" : [ {
                                 "r" : "336",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "337",
                                 "s" : [ {
                                    "value" : [ "\"One to two times a day (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "339",
                              "value" : [ " then ","2.0" ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "345",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "343",
                              "s" : [ {
                                 "r" : "341",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " ","~"," " ]
                              }, {
                                 "r" : "342",
                                 "s" : [ {
                                    "value" : [ "\"Two to four times a day (qualifier value)\"" ]
                                 } ]
                              } ]
                           }, {
                              "r" : "344",
                              "value" : [ " then ","4.0" ]
                           } ]
                        }, {
                           "r" : "346",
                           "value" : [ "\n    else ","null","\n  end" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "347",
               "locator" : "70:3-93:5",
               "type" : "Case",
               "caseItem" : [ {
                  "localId" : "245",
                  "locator" : "71:5-71:60",
                  "when" : {
                     "localId" : "243",
                     "locator" : "71:10-71:51",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "241",
                        "locator" : "71:10-71:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "242",
                        "locator" : "71:22-71:51",
                        "name" : "Once daily (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "244",
                     "locator" : "71:58-71:60",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "1.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "250",
                  "locator" : "72:5-72:61",
                  "when" : {
                     "localId" : "248",
                     "locator" : "72:10-72:52",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "246",
                        "locator" : "72:10-72:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "247",
                        "locator" : "72:22-72:52",
                        "name" : "Twice a day (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "249",
                     "locator" : "72:59-72:61",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "2.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "255",
                  "locator" : "73:5-73:67",
                  "when" : {
                     "localId" : "253",
                     "locator" : "73:10-73:58",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "251",
                        "locator" : "73:10-73:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "252",
                        "locator" : "73:22-73:58",
                        "name" : "Three times daily (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "254",
                     "locator" : "73:65-73:67",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "3.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "260",
                  "locator" : "74:5-74:66",
                  "when" : {
                     "localId" : "258",
                     "locator" : "74:10-74:57",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "256",
                        "locator" : "74:10-74:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "257",
                        "locator" : "74:22-74:57",
                        "name" : "Four times daily (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "259",
                     "locator" : "74:64-74:66",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "4.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "265",
                  "locator" : "75:5-75:73",
                  "when" : {
                     "localId" : "263",
                     "locator" : "75:10-75:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "261",
                        "locator" : "75:10-75:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "262",
                        "locator" : "75:22-75:64",
                        "name" : "Every twenty four hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "264",
                     "locator" : "75:71-75:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "1.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "270",
                  "locator" : "76:5-76:68",
                  "when" : {
                     "localId" : "268",
                     "locator" : "76:10-76:59",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "266",
                        "locator" : "76:10-76:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "267",
                        "locator" : "76:22-76:59",
                        "name" : "Every twelve hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "269",
                     "locator" : "76:66-76:68",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "2.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "275",
                  "locator" : "77:5-77:73",
                  "when" : {
                     "localId" : "273",
                     "locator" : "77:10-77:63",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "271",
                        "locator" : "77:10-77:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "272",
                        "locator" : "77:22-77:63",
                        "name" : "Every thirty six hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "274",
                     "locator" : "77:70-77:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.67",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "280",
                  "locator" : "78:5-78:67",
                  "when" : {
                     "localId" : "278",
                     "locator" : "78:10-78:58",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "276",
                        "locator" : "78:10-78:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "277",
                        "locator" : "78:22-78:58",
                        "name" : "Every eight hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "279",
                     "locator" : "78:65-78:67",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "3.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "285",
                  "locator" : "79:5-79:66",
                  "when" : {
                     "localId" : "283",
                     "locator" : "79:10-79:57",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "281",
                        "locator" : "79:10-79:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "282",
                        "locator" : "79:22-79:57",
                        "name" : "Every four hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "284",
                     "locator" : "79:64-79:66",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "6.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "290",
                  "locator" : "80:5-80:65",
                  "when" : {
                     "localId" : "288",
                     "locator" : "80:10-80:56",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "286",
                        "locator" : "80:10-80:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "287",
                        "locator" : "80:22-80:56",
                        "name" : "Every six hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "289",
                     "locator" : "80:63-80:65",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "4.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "295",
                  "locator" : "81:5-81:74",
                  "when" : {
                     "localId" : "293",
                     "locator" : "81:10-81:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "291",
                        "locator" : "81:10-81:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "292",
                        "locator" : "81:22-81:64",
                        "name" : "Every seventy two hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "294",
                     "locator" : "81:71-81:74",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.34",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "300",
                  "locator" : "82:5-82:73",
                  "when" : {
                     "localId" : "298",
                     "locator" : "82:10-82:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "296",
                        "locator" : "82:10-82:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "297",
                        "locator" : "82:22-82:64",
                        "name" : "Every forty eight hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "299",
                     "locator" : "82:71-82:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.5",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "305",
                  "locator" : "83:5-83:77",
                  "when" : {
                     "localId" : "303",
                     "locator" : "83:10-83:68",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "301",
                        "locator" : "83:10-83:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "302",
                        "locator" : "83:22-83:68",
                        "name" : "Every eight to twelve hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "304",
                     "locator" : "83:75-83:77",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "2.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "310",
                  "locator" : "84:5-84:74",
                  "when" : {
                     "localId" : "308",
                     "locator" : "84:10-84:65",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "306",
                        "locator" : "84:10-84:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "307",
                        "locator" : "84:22-84:65",
                        "name" : "Every six to eight hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "309",
                     "locator" : "84:72-84:74",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "3.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "315",
                  "locator" : "85:5-85:75",
                  "when" : {
                     "localId" : "313",
                     "locator" : "85:10-85:66",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "311",
                        "locator" : "85:10-85:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "312",
                        "locator" : "85:22-85:66",
                        "name" : "Every three to four hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "314",
                     "locator" : "85:73-85:75",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "6.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "320",
                  "locator" : "86:5-86:74",
                  "when" : {
                     "localId" : "318",
                     "locator" : "86:10-86:65",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "316",
                        "locator" : "86:10-86:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "317",
                        "locator" : "86:22-86:65",
                        "name" : "Every three to six hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "319",
                     "locator" : "86:72-86:74",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "4.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "325",
                  "locator" : "87:5-87:73",
                  "when" : {
                     "localId" : "323",
                     "locator" : "87:10-87:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "321",
                        "locator" : "87:10-87:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "322",
                        "locator" : "87:22-87:64",
                        "name" : "Every two to four hours (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "324",
                     "locator" : "87:71-87:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "6.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "330",
                  "locator" : "88:5-88:73",
                  "when" : {
                     "localId" : "328",
                     "locator" : "88:10-88:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "326",
                        "locator" : "88:10-88:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "327",
                        "locator" : "88:22-88:64",
                        "name" : "One to four times a day (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "329",
                     "locator" : "88:71-88:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "4.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "335",
                  "locator" : "89:5-89:74",
                  "when" : {
                     "localId" : "333",
                     "locator" : "89:10-89:65",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "331",
                        "locator" : "89:10-89:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "332",
                        "locator" : "89:22-89:65",
                        "name" : "One to three times a day (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "334",
                     "locator" : "89:72-89:74",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "3.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "340",
                  "locator" : "90:5-90:72",
                  "when" : {
                     "localId" : "338",
                     "locator" : "90:10-90:63",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "336",
                        "locator" : "90:10-90:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "337",
                        "locator" : "90:22-90:63",
                        "name" : "One to two times a day (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "339",
                     "locator" : "90:70-90:72",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "2.0",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "345",
                  "locator" : "91:5-91:73",
                  "when" : {
                     "localId" : "343",
                     "locator" : "91:10-91:64",
                     "type" : "Equivalent",
                     "operand" : [ {
                        "localId" : "341",
                        "locator" : "91:10-91:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     }, {
                        "localId" : "342",
                        "locator" : "91:22-91:64",
                        "name" : "Two to four times a day (qualifier value)",
                        "type" : "CodeRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "344",
                     "locator" : "91:71-91:73",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "4.0",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "As",
                  "operand" : {
                     "localId" : "346",
                     "locator" : "92:10-92:13",
                     "type" : "Null"
                  }
               }
            },
            "operand" : [ {
               "name" : "Frequency",
               "operandTypeSpecifier" : {
                  "localId" : "240",
                  "locator" : "69:41-69:44",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "365",
            "locator" : "96:1-100:5",
            "name" : "ToDaily",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Returns the daily frequency (as a decimal) of the given input*/"
               }, {
                  "name" : "description",
                  "value" : "Returns the daily frequency (as a decimal) of the given input*/"
               } ],
               "s" : {
                  "r" : "365",
                  "s" : [ {
                     "value" : [ "/*@description: Returns the daily frequency (as a decimal) of the given input*/","define function ","\"ToDaily\"","(","Frequency"," " ]
                  }, {
                     "r" : "351",
                     "s" : [ {
                        "value" : [ "Choice<" ]
                     }, {
                        "r" : "349",
                        "s" : [ {
                           "value" : [ "Quantity" ]
                        } ]
                     }, {
                        "value" : [ ", " ]
                     }, {
                        "r" : "350",
                        "s" : [ {
                           "value" : [ "Code" ]
                        } ]
                     }, {
                        "value" : [ ">" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "364",
                     "s" : [ {
                        "r" : "364",
                        "s" : [ {
                           "value" : [ "case\n    " ]
                        }, {
                           "r" : "359",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "354",
                              "s" : [ {
                                 "r" : "352",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " is " ]
                              }, {
                                 "r" : "353",
                                 "s" : [ {
                                    "value" : [ "Quantity" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "358",
                              "s" : [ {
                                 "value" : [ "QuantityToDaily","(" ]
                              }, {
                                 "r" : "357",
                                 "s" : [ {
                                    "r" : "355",
                                    "s" : [ {
                                       "value" : [ "Frequency" ]
                                    } ]
                                 }, {
                                    "value" : [ " as " ]
                                 }, {
                                    "r" : "356",
                                    "s" : [ {
                                       "value" : [ "Quantity" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    else " ]
                        }, {
                           "r" : "363",
                           "s" : [ {
                              "value" : [ "CodeToDaily","(" ]
                           }, {
                              "r" : "362",
                              "s" : [ {
                                 "r" : "360",
                                 "s" : [ {
                                    "value" : [ "Frequency" ]
                                 } ]
                              }, {
                                 "value" : [ " as " ]
                              }, {
                                 "r" : "361",
                                 "s" : [ {
                                    "value" : [ "Code" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ "\n  end" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "364",
               "locator" : "97:3-100:5",
               "type" : "Case",
               "caseItem" : [ {
                  "localId" : "359",
                  "locator" : "98:5-98:74",
                  "when" : {
                     "localId" : "354",
                     "locator" : "98:10-98:30",
                     "type" : "Is",
                     "operand" : {
                        "localId" : "352",
                        "locator" : "98:10-98:18",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     },
                     "isTypeSpecifier" : {
                        "localId" : "353",
                        "locator" : "98:23-98:30",
                        "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "then" : {
                     "localId" : "358",
                     "locator" : "98:37-98:74",
                     "name" : "QuantityToDaily",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "localId" : "357",
                        "locator" : "98:53-98:73",
                        "strict" : false,
                        "type" : "As",
                        "operand" : {
                           "localId" : "355",
                           "locator" : "98:53-98:61",
                           "name" : "Frequency",
                           "type" : "OperandRef"
                        },
                        "asTypeSpecifier" : {
                           "localId" : "356",
                           "locator" : "98:66-98:73",
                           "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "localId" : "363",
                  "locator" : "99:10-99:39",
                  "name" : "CodeToDaily",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "localId" : "362",
                     "locator" : "99:22-99:38",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "localId" : "360",
                        "locator" : "99:22-99:30",
                        "name" : "Frequency",
                        "type" : "OperandRef"
                     },
                     "asTypeSpecifier" : {
                        "localId" : "361",
                        "locator" : "99:35-99:38",
                        "name" : "{urn:hl7-org:elm-types:r1}Code",
                        "type" : "NamedTypeSpecifier"
                     }
                  } ]
               }
            },
            "operand" : [ {
               "name" : "Frequency",
               "operandTypeSpecifier" : {
                  "localId" : "351",
                  "locator" : "96:37-96:58",
                  "type" : "ChoiceTypeSpecifier",
                  "choice" : [ {
                     "localId" : "349",
                     "locator" : "96:44-96:51",
                     "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "localId" : "350",
                     "locator" : "96:54-96:57",
                     "name" : "{urn:hl7-org:elm-types:r1}Code",
                     "type" : "NamedTypeSpecifier"
                  } ]
               }
            } ]
         }, {
            "localId" : "439",
            "locator" : "107:1-124:14",
            "name" : "MedicationOrderPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates the Medication Period for a single Medication, Order"
               }, {
                  "name" : "description",
                  "value" : "Calculates the Medication Period for a single Medication, Order"
               }, {
                  "name" : "comment",
                  "value" : "This function calculates the expected period of a medication order using the following approach: If the `relevantPeriod` element is present and completely specified, it is used directly. If the `daysSupplied` element is present, the duration is `daysSupplied * (1 + refills)`. Otherwise, `daysSupplied` is calculated using `(supply / (dosage * frequency)) * (1 + refills)`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL."
               }, {
                  "name" : "seealso",
                  "value" : "[CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that relevantPeriod.low represents the interval's lower boundary and relevantPeriod.high represents the interval's higher boundary."
               } ],
               "s" : {
                  "r" : "439",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates the Medication Period for a single Medication, Order\n@comment: This function calculates the expected period of a medication order using the following approach: If the `relevantPeriod` element is present and completely specified, it is used directly. If the `daysSupplied` element is present, the duration is `daysSupplied * (1 + refills)`. Otherwise, `daysSupplied` is calculated using `(supply / (dosage * frequency)) * (1 + refills)`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL.\n@seealso: [CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that relevantPeriod.low represents the interval's lower boundary and relevantPeriod.high represents the interval's higher boundary.*/","define function ","\"MedicationOrderPeriod\"","(","Order"," " ]
                  }, {
                     "r" : "366",
                     "s" : [ {
                        "value" : [ "\"Medication, Order\"" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "438",
                     "s" : [ {
                        "r" : "438",
                        "s" : [ {
                           "value" : [ "if " ]
                        }, {
                           "r" : "374",
                           "s" : [ {
                              "r" : "370",
                              "s" : [ {
                                 "r" : "369",
                                 "s" : [ {
                                    "r" : "368",
                                    "s" : [ {
                                       "r" : "367",
                                       "s" : [ {
                                          "value" : [ "Order" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "368",
                                       "s" : [ {
                                          "value" : [ "relevantPeriod" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "369",
                                    "s" : [ {
                                       "value" : [ "low" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " is null" ]
                              } ]
                           }, {
                              "value" : [ " and " ]
                           }, {
                              "r" : "373",
                              "s" : [ {
                                 "r" : "372",
                                 "s" : [ {
                                    "r" : "371",
                                    "s" : [ {
                                       "value" : [ "Order" ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "372",
                                    "s" : [ {
                                       "value" : [ "authorDatetime" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " is null" ]
                              } ]
                           } ]
                        }, {
                           "r" : "375",
                           "value" : [ " then\n    ","null","\n  else " ]
                        }, {
                           "r" : "437",
                           "s" : [ {
                              "value" : [ "if " ]
                           }, {
                              "r" : "379",
                              "s" : [ {
                                 "r" : "378",
                                 "s" : [ {
                                    "r" : "377",
                                    "s" : [ {
                                       "r" : "376",
                                       "s" : [ {
                                          "value" : [ "Order" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "377",
                                       "s" : [ {
                                          "value" : [ "relevantPeriod" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "378",
                                    "s" : [ {
                                       "value" : [ "high" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " is not null" ]
                              } ]
                           }, {
                              "value" : [ " then\n    " ]
                           }, {
                              "r" : "391",
                              "s" : [ {
                                 "value" : [ "Interval[" ]
                              }, {
                                 "r" : "386",
                                 "s" : [ {
                                    "value" : [ "date from " ]
                                 }, {
                                    "r" : "385",
                                    "s" : [ {
                                       "value" : [ "Coalesce","(" ]
                                    }, {
                                       "r" : "382",
                                       "s" : [ {
                                          "r" : "381",
                                          "s" : [ {
                                             "r" : "380",
                                             "s" : [ {
                                                "value" : [ "Order" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "381",
                                             "s" : [ {
                                                "value" : [ "relevantPeriod" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "382",
                                          "s" : [ {
                                             "value" : [ "low" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "384",
                                       "s" : [ {
                                          "r" : "383",
                                          "s" : [ {
                                             "value" : [ "Order" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "384",
                                          "s" : [ {
                                             "value" : [ "authorDatetime" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ", " ]
                              }, {
                                 "r" : "390",
                                 "s" : [ {
                                    "value" : [ "date from " ]
                                 }, {
                                    "r" : "389",
                                    "s" : [ {
                                       "value" : [ "end of " ]
                                    }, {
                                       "r" : "388",
                                       "s" : [ {
                                          "r" : "387",
                                          "s" : [ {
                                             "value" : [ "Order" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "388",
                                          "s" : [ {
                                             "value" : [ "relevantPeriod" ]
                                          } ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "]" ]
                              } ]
                           }, {
                              "value" : [ "\n  else\n    " ]
                           }, {
                              "r" : "436",
                              "s" : [ {
                                 "s" : [ {
                                    "r" : "413",
                                    "s" : [ {
                                       "r" : "412",
                                       "s" : [ {
                                          "value" : [ "(\n      " ]
                                       }, {
                                          "r" : "412",
                                          "s" : [ {
                                             "r" : "405",
                                             "s" : [ {
                                                "value" : [ "Coalesce","(\n        " ]
                                             }, {
                                                "r" : "393",
                                                "s" : [ {
                                                   "r" : "392",
                                                   "s" : [ {
                                                      "value" : [ "Order" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "393",
                                                   "s" : [ {
                                                      "value" : [ "daysSupplied" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ",\n        " ]
                                             }, {
                                                "r" : "404",
                                                "s" : [ {
                                                   "r" : "396",
                                                   "s" : [ {
                                                      "r" : "395",
                                                      "s" : [ {
                                                         "r" : "394",
                                                         "s" : [ {
                                                            "value" : [ "Order" ]
                                                         } ]
                                                      }, {
                                                         "value" : [ "." ]
                                                      }, {
                                                         "r" : "395",
                                                         "s" : [ {
                                                            "value" : [ "supply" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ "." ]
                                                   }, {
                                                      "r" : "396",
                                                      "s" : [ {
                                                         "value" : [ "value" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " / " ]
                                                }, {
                                                   "r" : "403",
                                                   "s" : [ {
                                                      "value" : [ "(" ]
                                                   }, {
                                                      "r" : "403",
                                                      "s" : [ {
                                                         "r" : "399",
                                                         "s" : [ {
                                                            "r" : "398",
                                                            "s" : [ {
                                                               "r" : "397",
                                                               "s" : [ {
                                                                  "value" : [ "Order" ]
                                                               } ]
                                                            }, {
                                                               "value" : [ "." ]
                                                            }, {
                                                               "r" : "398",
                                                               "s" : [ {
                                                                  "value" : [ "dosage" ]
                                                               } ]
                                                            } ]
                                                         }, {
                                                            "value" : [ "." ]
                                                         }, {
                                                            "r" : "399",
                                                            "s" : [ {
                                                               "value" : [ "value" ]
                                                            } ]
                                                         } ]
                                                      }, {
                                                         "value" : [ " * " ]
                                                      }, {
                                                         "r" : "402",
                                                         "s" : [ {
                                                            "value" : [ "ToDaily","(" ]
                                                         }, {
                                                            "r" : "401",
                                                            "s" : [ {
                                                               "r" : "400",
                                                               "s" : [ {
                                                                  "value" : [ "Order" ]
                                                               } ]
                                                            }, {
                                                               "value" : [ "." ]
                                                            }, {
                                                               "r" : "401",
                                                               "s" : [ {
                                                                  "value" : [ "frequency" ]
                                                               } ]
                                                            } ]
                                                         }, {
                                                            "value" : [ ")" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ ")" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ "\n      )" ]
                                             } ]
                                          }, {
                                             "value" : [ " * " ]
                                          }, {
                                             "r" : "411",
                                             "s" : [ {
                                                "value" : [ "(" ]
                                             }, {
                                                "r" : "411",
                                                "s" : [ {
                                                   "r" : "406",
                                                   "value" : [ "1"," + " ]
                                                }, {
                                                   "r" : "410",
                                                   "s" : [ {
                                                      "value" : [ "Coalesce","(" ]
                                                   }, {
                                                      "r" : "408",
                                                      "s" : [ {
                                                         "r" : "407",
                                                         "s" : [ {
                                                            "value" : [ "Order" ]
                                                         } ]
                                                      }, {
                                                         "value" : [ "." ]
                                                      }, {
                                                         "r" : "408",
                                                         "s" : [ {
                                                            "value" : [ "refills" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "r" : "409",
                                                      "value" : [ ", ","0",")" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "\n    )" ]
                                       } ]
                                    }, {
                                       "value" : [ " ","totalDaysSupplied" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "\n      " ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "let " ]
                                 }, {
                                    "r" : "421",
                                    "s" : [ {
                                       "value" : [ "startDate",": " ]
                                    }, {
                                       "r" : "420",
                                       "s" : [ {
                                          "value" : [ "date from " ]
                                       }, {
                                          "r" : "419",
                                          "s" : [ {
                                             "value" : [ "Coalesce","(" ]
                                          }, {
                                             "r" : "416",
                                             "s" : [ {
                                                "r" : "415",
                                                "s" : [ {
                                                   "r" : "414",
                                                   "s" : [ {
                                                      "value" : [ "Order" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "415",
                                                   "s" : [ {
                                                      "value" : [ "relevantPeriod" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "416",
                                                "s" : [ {
                                                   "value" : [ "low" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "418",
                                             "s" : [ {
                                                "r" : "417",
                                                "s" : [ {
                                                   "value" : [ "Order" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "418",
                                                "s" : [ {
                                                   "value" : [ "authorDatetime" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "\n      " ]
                              }, {
                                 "r" : "435",
                                 "s" : [ {
                                    "value" : [ "return\n        " ]
                                 }, {
                                    "r" : "434",
                                    "s" : [ {
                                       "value" : [ "if " ]
                                    }, {
                                       "r" : "423",
                                       "s" : [ {
                                          "r" : "422",
                                          "s" : [ {
                                             "value" : [ "totalDaysSupplied" ]
                                          } ]
                                       }, {
                                          "value" : [ " is not null" ]
                                       } ]
                                    }, {
                                       "value" : [ " then\n          " ]
                                    }, {
                                       "r" : "432",
                                       "s" : [ {
                                          "value" : [ "Interval[" ]
                                       }, {
                                          "r" : "424",
                                          "s" : [ {
                                             "value" : [ "startDate" ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "r" : "431",
                                          "s" : [ {
                                             "r" : "425",
                                             "s" : [ {
                                                "value" : [ "startDate" ]
                                             } ]
                                          }, {
                                             "value" : [ " + " ]
                                          }, {
                                             "r" : "430",
                                             "s" : [ {
                                                "value" : [ "Quantity"," { " ]
                                             }, {
                                                "s" : [ {
                                                   "value" : [ "value",": " ]
                                                }, {
                                                   "r" : "428",
                                                   "s" : [ {
                                                      "r" : "426",
                                                      "s" : [ {
                                                         "value" : [ "totalDaysSupplied" ]
                                                      } ]
                                                   }, {
                                                      "r" : "427",
                                                      "value" : [ " - ","1" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ", " ]
                                             }, {
                                                "s" : [ {
                                                   "value" : [ "unit",": " ]
                                                }, {
                                                   "r" : "429",
                                                   "s" : [ {
                                                      "value" : [ "'day'" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " }" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "]" ]
                                       } ]
                                    }, {
                                       "r" : "433",
                                       "value" : [ "\n        else\n          ","null" ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "438",
               "locator" : "108:3-124:14",
               "type" : "If",
               "condition" : {
                  "localId" : "374",
                  "locator" : "108:6-108:70",
                  "type" : "And",
                  "operand" : [ {
                     "localId" : "370",
                     "locator" : "108:6-108:37",
                     "type" : "IsNull",
                     "operand" : {
                        "localId" : "369",
                        "locator" : "108:6-108:29",
                        "path" : "low",
                        "type" : "Property",
                        "source" : {
                           "localId" : "368",
                           "locator" : "108:6-108:25",
                           "path" : "relevantPeriod",
                           "type" : "Property",
                           "source" : {
                              "localId" : "367",
                              "locator" : "108:6-108:10",
                              "name" : "Order",
                              "type" : "OperandRef"
                           }
                        }
                     }
                  }, {
                     "localId" : "373",
                     "locator" : "108:43-108:70",
                     "type" : "IsNull",
                     "operand" : {
                        "localId" : "372",
                        "locator" : "108:43-108:62",
                        "path" : "authorDatetime",
                        "type" : "Property",
                        "source" : {
                           "localId" : "371",
                           "locator" : "108:43-108:47",
                           "name" : "Order",
                           "type" : "OperandRef"
                        }
                     }
                  } ]
               },
               "then" : {
                  "type" : "As",
                  "operand" : {
                     "localId" : "375",
                     "locator" : "109:5-109:8",
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}Date",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               },
               "else" : {
                  "localId" : "437",
                  "locator" : "110:8-124:14",
                  "type" : "If",
                  "condition" : {
                     "localId" : "379",
                     "locator" : "110:11-110:47",
                     "type" : "Not",
                     "operand" : {
                        "locator" : "110:11-110:47",
                        "type" : "IsNull",
                        "operand" : {
                           "localId" : "378",
                           "locator" : "110:11-110:35",
                           "path" : "high",
                           "type" : "Property",
                           "source" : {
                              "localId" : "377",
                              "locator" : "110:11-110:30",
                              "path" : "relevantPeriod",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "376",
                                 "locator" : "110:11-110:15",
                                 "name" : "Order",
                                 "type" : "OperandRef"
                              }
                           }
                        }
                     }
                  },
                  "then" : {
                     "localId" : "391",
                     "locator" : "111:5-111:119",
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "localId" : "386",
                        "locator" : "111:14-111:79",
                        "type" : "DateFrom",
                        "operand" : {
                           "localId" : "385",
                           "locator" : "111:24-111:79",
                           "type" : "Coalesce",
                           "operand" : [ {
                              "localId" : "382",
                              "locator" : "111:33-111:56",
                              "path" : "low",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "381",
                                 "locator" : "111:33-111:52",
                                 "path" : "relevantPeriod",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "380",
                                    "locator" : "111:33-111:37",
                                    "name" : "Order",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "384",
                              "locator" : "111:59-111:78",
                              "path" : "authorDatetime",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "383",
                                 "locator" : "111:59-111:63",
                                 "name" : "Order",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }
                     },
                     "high" : {
                        "localId" : "390",
                        "locator" : "111:82-111:118",
                        "type" : "DateFrom",
                        "operand" : {
                           "localId" : "389",
                           "locator" : "111:92-111:118",
                           "type" : "End",
                           "operand" : {
                              "localId" : "388",
                              "locator" : "111:99-111:118",
                              "path" : "relevantPeriod",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "387",
                                 "locator" : "111:99-111:103",
                                 "name" : "Order",
                                 "type" : "OperandRef"
                              }
                           }
                        }
                     }
                  },
                  "else" : {
                     "localId" : "436",
                     "locator" : "113:5-124:14",
                     "type" : "Query",
                     "source" : [ {
                        "localId" : "413",
                        "locator" : "113:5-118:23",
                        "alias" : "totalDaysSupplied",
                        "expression" : {
                           "localId" : "412",
                           "locator" : "113:5-118:5",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "405",
                              "locator" : "114:7-117:7",
                              "type" : "Coalesce",
                              "operand" : [ {
                                 "type" : "ToDecimal",
                                 "operand" : {
                                    "localId" : "393",
                                    "locator" : "115:9-115:26",
                                    "path" : "daysSupplied",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "392",
                                       "locator" : "115:9-115:13",
                                       "name" : "Order",
                                       "type" : "OperandRef"
                                    }
                                 }
                              }, {
                                 "localId" : "404",
                                 "locator" : "116:9-116:76",
                                 "type" : "Divide",
                                 "operand" : [ {
                                    "localId" : "396",
                                    "locator" : "116:9-116:26",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "395",
                                       "locator" : "116:9-116:20",
                                       "path" : "supply",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "394",
                                          "locator" : "116:9-116:13",
                                          "name" : "Order",
                                          "type" : "OperandRef"
                                       }
                                    }
                                 }, {
                                    "localId" : "403",
                                    "locator" : "116:30-116:76",
                                    "type" : "Multiply",
                                    "operand" : [ {
                                       "localId" : "399",
                                       "locator" : "116:31-116:48",
                                       "path" : "value",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "398",
                                          "locator" : "116:31-116:42",
                                          "path" : "dosage",
                                          "type" : "Property",
                                          "source" : {
                                             "localId" : "397",
                                             "locator" : "116:31-116:35",
                                             "name" : "Order",
                                             "type" : "OperandRef"
                                          }
                                       }
                                    }, {
                                       "localId" : "402",
                                       "locator" : "116:52-116:75",
                                       "name" : "ToDaily",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "type" : "As",
                                          "operand" : {
                                             "localId" : "401",
                                             "locator" : "116:60-116:74",
                                             "path" : "frequency",
                                             "type" : "Property",
                                             "source" : {
                                                "localId" : "400",
                                                "locator" : "116:60-116:64",
                                                "name" : "Order",
                                                "type" : "OperandRef"
                                             }
                                          },
                                          "asTypeSpecifier" : {
                                             "type" : "ChoiceTypeSpecifier",
                                             "choice" : [ {
                                                "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                                                "type" : "NamedTypeSpecifier"
                                             }, {
                                                "name" : "{urn:hl7-org:elm-types:r1}Code",
                                                "type" : "NamedTypeSpecifier"
                                             } ]
                                          }
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "type" : "ToDecimal",
                              "operand" : {
                                 "localId" : "411",
                                 "locator" : "117:11-117:42",
                                 "type" : "Add",
                                 "operand" : [ {
                                    "localId" : "406",
                                    "locator" : "117:12",
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "1",
                                    "type" : "Literal"
                                 }, {
                                    "localId" : "410",
                                    "locator" : "117:16-117:41",
                                    "type" : "Coalesce",
                                    "operand" : [ {
                                       "localId" : "408",
                                       "locator" : "117:25-117:37",
                                       "path" : "refills",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "407",
                                          "locator" : "117:25-117:29",
                                          "name" : "Order",
                                          "type" : "OperandRef"
                                       }
                                    }, {
                                       "localId" : "409",
                                       "locator" : "117:40",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "0",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }
                           } ]
                        }
                     } ],
                     "let" : [ {
                        "localId" : "421",
                        "locator" : "119:11-119:87",
                        "identifier" : "startDate",
                        "expression" : {
                           "localId" : "420",
                           "locator" : "119:22-119:87",
                           "type" : "DateFrom",
                           "operand" : {
                              "localId" : "419",
                              "locator" : "119:32-119:87",
                              "type" : "Coalesce",
                              "operand" : [ {
                                 "localId" : "416",
                                 "locator" : "119:41-119:64",
                                 "path" : "low",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "415",
                                    "locator" : "119:41-119:60",
                                    "path" : "relevantPeriod",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "414",
                                       "locator" : "119:41-119:45",
                                       "name" : "Order",
                                       "type" : "OperandRef"
                                    }
                                 }
                              }, {
                                 "localId" : "418",
                                 "locator" : "119:67-119:86",
                                 "path" : "authorDatetime",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "417",
                                    "locator" : "119:67-119:71",
                                    "name" : "Order",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "localId" : "435",
                        "locator" : "120:7-124:14",
                        "expression" : {
                           "localId" : "434",
                           "locator" : "121:9-124:14",
                           "type" : "If",
                           "condition" : {
                              "localId" : "423",
                              "locator" : "121:12-121:40",
                              "type" : "Not",
                              "operand" : {
                                 "locator" : "121:12-121:40",
                                 "type" : "IsNull",
                                 "operand" : {
                                    "localId" : "422",
                                    "locator" : "121:12-121:28",
                                    "name" : "totalDaysSupplied",
                                    "type" : "AliasRef"
                                 }
                              }
                           },
                           "then" : {
                              "localId" : "432",
                              "locator" : "122:11-122:97",
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "localId" : "424",
                                 "locator" : "122:20-122:28",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              },
                              "high" : {
                                 "localId" : "431",
                                 "locator" : "122:31-122:96",
                                 "type" : "Add",
                                 "operand" : [ {
                                    "localId" : "425",
                                    "locator" : "122:31-122:39",
                                    "name" : "startDate",
                                    "type" : "QueryLetRef"
                                 }, {
                                    "localId" : "430",
                                    "locator" : "122:43-122:96",
                                    "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "type" : "Instance",
                                    "element" : [ {
                                       "name" : "value",
                                       "value" : {
                                          "localId" : "428",
                                          "locator" : "122:61-122:81",
                                          "type" : "Subtract",
                                          "operand" : [ {
                                             "localId" : "426",
                                             "locator" : "122:61-122:77",
                                             "name" : "totalDaysSupplied",
                                             "type" : "AliasRef"
                                          }, {
                                             "type" : "ToDecimal",
                                             "operand" : {
                                                "localId" : "427",
                                                "locator" : "122:81",
                                                "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "value" : "1",
                                                "type" : "Literal"
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "unit",
                                       "value" : {
                                          "localId" : "429",
                                          "locator" : "122:90-122:94",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "day",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 } ]
                              }
                           },
                           "else" : {
                              "type" : "As",
                              "operand" : {
                                 "localId" : "433",
                                 "locator" : "124:11-124:14",
                                 "type" : "Null"
                              },
                              "asTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}Date",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Order",
               "operandTypeSpecifier" : {
                  "localId" : "366",
                  "locator" : "107:47-107:65",
                  "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "498",
            "locator" : "131:1-139:15",
            "name" : "MedicationDispensedPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates Medication Period for a given Medication, Dispensed"
               }, {
                  "name" : "description",
                  "value" : "Calculates Medication Period for a given Medication, Dispensed"
               }, {
                  "name" : "comment",
                  "value" : "This function calculates the effective duration of a single medication dispensing event using the following approach: If the `relevantPeriod` is present (and completely specified), it is used directly. If the `daysSupplied` element is present, the duration is `daysSupplied`. Otherwise, `daysSupplied` is calculated using `(supply / (dosage * frequency))`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL."
               }, {
                  "name" : "seealso",
                  "value" : "[CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that relevantPeriod.low represents the interval's lower boundary and relevantPeriod.high represents the interval's higher boundary."
               } ],
               "s" : {
                  "r" : "498",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates Medication Period for a given Medication, Dispensed\n@comment: This function calculates the effective duration of a single medication dispensing event using the following approach: If the `relevantPeriod` is present (and completely specified), it is used directly. If the `daysSupplied` element is present, the duration is `daysSupplied`. Otherwise, `daysSupplied` is calculated using `(supply / (dosage * frequency))`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL.\n@seealso: [CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that relevantPeriod.low represents the interval's lower boundary and relevantPeriod.high represents the interval's higher boundary.*/","define function ","\"MedicationDispensedPeriod\"","(","MedDispense"," " ]
                  }, {
                     "r" : "440",
                     "s" : [ {
                        "value" : [ "\"Medication, Dispensed\"" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "497",
                     "s" : [ {
                        "r" : "497",
                        "s" : [ {
                           "s" : [ {
                              "r" : "442",
                              "s" : [ {
                                 "r" : "441",
                                 "s" : [ {
                                    "s" : [ {
                                       "value" : [ "MedDispense" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " ","Dispense" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "s" : [ {
                              "value" : [ "let " ]
                           }, {
                              "r" : "452",
                              "s" : [ {
                                 "value" : [ "startDate",": " ]
                              }, {
                                 "r" : "451",
                                 "s" : [ {
                                    "value" : [ "date from " ]
                                 }, {
                                    "r" : "450",
                                    "s" : [ {
                                       "value" : [ "Coalesce","(" ]
                                    }, {
                                       "r" : "445",
                                       "s" : [ {
                                          "r" : "444",
                                          "s" : [ {
                                             "r" : "443",
                                             "s" : [ {
                                                "value" : [ "Dispense" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "444",
                                             "s" : [ {
                                                "value" : [ "relevantPeriod" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "445",
                                          "s" : [ {
                                             "value" : [ "low" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "447",
                                       "s" : [ {
                                          "r" : "446",
                                          "s" : [ {
                                             "value" : [ "Dispense" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "447",
                                          "s" : [ {
                                             "value" : [ "relevantDatetime" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "449",
                                       "s" : [ {
                                          "r" : "448",
                                          "s" : [ {
                                             "value" : [ "Dispense" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "449",
                                          "s" : [ {
                                             "value" : [ "authorDatetime" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ",\n    " ]
                           }, {
                              "r" : "467",
                              "s" : [ {
                                 "value" : [ "totalDaysSupplied",": " ]
                              }, {
                                 "r" : "466",
                                 "s" : [ {
                                    "value" : [ "Coalesce","(" ]
                                 }, {
                                    "r" : "454",
                                    "s" : [ {
                                       "r" : "453",
                                       "s" : [ {
                                          "value" : [ "Dispense" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "454",
                                       "s" : [ {
                                          "value" : [ "daysSupplied" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "r" : "465",
                                    "s" : [ {
                                       "r" : "457",
                                       "s" : [ {
                                          "r" : "456",
                                          "s" : [ {
                                             "r" : "455",
                                             "s" : [ {
                                                "value" : [ "Dispense" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "456",
                                             "s" : [ {
                                                "value" : [ "supply" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "457",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " /" ]
                                    }, {
                                       "r" : "464",
                                       "s" : [ {
                                          "value" : [ "(" ]
                                       }, {
                                          "r" : "464",
                                          "s" : [ {
                                             "r" : "460",
                                             "s" : [ {
                                                "r" : "459",
                                                "s" : [ {
                                                   "r" : "458",
                                                   "s" : [ {
                                                      "value" : [ "Dispense" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "459",
                                                   "s" : [ {
                                                      "value" : [ "dosage" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "460",
                                                "s" : [ {
                                                   "value" : [ "value" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " * " ]
                                          }, {
                                             "r" : "463",
                                             "s" : [ {
                                                "value" : [ "ToDaily","(" ]
                                             }, {
                                                "r" : "462",
                                                "s" : [ {
                                                   "r" : "461",
                                                   "s" : [ {
                                                      "value" : [ "Dispense" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "462",
                                                   "s" : [ {
                                                      "value" : [ "frequency" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "496",
                           "s" : [ {
                              "value" : [ "return " ]
                           }, {
                              "r" : "495",
                              "s" : [ {
                                 "value" : [ "if " ]
                              }, {
                                 "r" : "469",
                                 "s" : [ {
                                    "r" : "468",
                                    "s" : [ {
                                       "value" : [ "startDate" ]
                                    } ]
                                 }, {
                                    "value" : [ " is null" ]
                                 } ]
                              }, {
                                 "r" : "470",
                                 "value" : [ " then ","null"," \n      else " ]
                              }, {
                                 "r" : "494",
                                 "s" : [ {
                                    "value" : [ "if " ]
                                 }, {
                                    "r" : "474",
                                    "s" : [ {
                                       "r" : "473",
                                       "s" : [ {
                                          "r" : "472",
                                          "s" : [ {
                                             "r" : "471",
                                             "s" : [ {
                                                "value" : [ "Dispense" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "472",
                                             "s" : [ {
                                                "value" : [ "relevantPeriod" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "473",
                                          "s" : [ {
                                             "value" : [ "high" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " is not null" ]
                                    } ]
                                 }, {
                                    "value" : [ " then " ]
                                 }, {
                                    "r" : "480",
                                    "s" : [ {
                                       "value" : [ "Interval[" ]
                                    }, {
                                       "r" : "475",
                                       "s" : [ {
                                          "value" : [ "startDate" ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "479",
                                       "s" : [ {
                                          "value" : [ "date from \n    " ]
                                       }, {
                                          "r" : "478",
                                          "s" : [ {
                                             "value" : [ "end of " ]
                                          }, {
                                             "r" : "477",
                                             "s" : [ {
                                                "r" : "476",
                                                "s" : [ {
                                                   "value" : [ "Dispense" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "477",
                                                "s" : [ {
                                                   "value" : [ "relevantPeriod" ]
                                                } ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "]" ]
                                    } ]
                                 }, {
                                    "value" : [ "\n      else " ]
                                 }, {
                                    "r" : "493",
                                    "s" : [ {
                                       "value" : [ "if " ]
                                    }, {
                                       "r" : "482",
                                       "s" : [ {
                                          "r" : "481",
                                          "s" : [ {
                                             "value" : [ "totalDaysSupplied" ]
                                          } ]
                                       }, {
                                          "value" : [ " is not null" ]
                                       } ]
                                    }, {
                                       "value" : [ " then " ]
                                    }, {
                                       "r" : "491",
                                       "s" : [ {
                                          "value" : [ "Interval[" ]
                                       }, {
                                          "r" : "483",
                                          "s" : [ {
                                             "value" : [ "startDate" ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "r" : "490",
                                          "s" : [ {
                                             "r" : "484",
                                             "s" : [ {
                                                "value" : [ "startDate" ]
                                             } ]
                                          }, {
                                             "value" : [ " + " ]
                                          }, {
                                             "r" : "489",
                                             "s" : [ {
                                                "value" : [ "Quantity"," { " ]
                                             }, {
                                                "s" : [ {
                                                   "value" : [ "value",": " ]
                                                }, {
                                                   "r" : "487",
                                                   "s" : [ {
                                                      "r" : "485",
                                                      "s" : [ {
                                                         "value" : [ "totalDaysSupplied" ]
                                                      } ]
                                                   }, {
                                                      "r" : "486",
                                                      "value" : [ " - ","1" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ", " ]
                                             }, {
                                                "s" : [ {
                                                   "value" : [ "unit",": " ]
                                                }, {
                                                   "r" : "488",
                                                   "s" : [ {
                                                      "value" : [ "'day'" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " }" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "]" ]
                                       } ]
                                    }, {
                                       "r" : "492",
                                       "value" : [ "\n      else ","null" ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "497",
               "locator" : "132:3-139:15",
               "type" : "Query",
               "source" : [ {
                  "localId" : "442",
                  "locator" : "132:3-132:22",
                  "alias" : "Dispense",
                  "expression" : {
                     "localId" : "441",
                     "locator" : "132:3-132:13",
                     "name" : "MedDispense",
                     "type" : "OperandRef"
                  }
               } ],
               "let" : [ {
                  "localId" : "452",
                  "locator" : "133:9-133:118",
                  "identifier" : "startDate",
                  "expression" : {
                     "localId" : "451",
                     "locator" : "133:20-133:118",
                     "type" : "DateFrom",
                     "operand" : {
                        "localId" : "450",
                        "locator" : "133:30-133:118",
                        "type" : "Coalesce",
                        "operand" : [ {
                           "localId" : "445",
                           "locator" : "133:39-133:65",
                           "path" : "low",
                           "type" : "Property",
                           "source" : {
                              "localId" : "444",
                              "locator" : "133:39-133:61",
                              "path" : "relevantPeriod",
                              "scope" : "Dispense",
                              "type" : "Property"
                           }
                        }, {
                           "localId" : "447",
                           "locator" : "133:68-133:92",
                           "path" : "relevantDatetime",
                           "scope" : "Dispense",
                           "type" : "Property"
                        }, {
                           "localId" : "449",
                           "locator" : "133:95-133:117",
                           "path" : "authorDatetime",
                           "scope" : "Dispense",
                           "type" : "Property"
                        } ]
                     }
                  }
               }, {
                  "localId" : "467",
                  "locator" : "134:5-134:132",
                  "identifier" : "totalDaysSupplied",
                  "expression" : {
                     "localId" : "466",
                     "locator" : "134:24-134:132",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "454",
                           "locator" : "134:33-134:53",
                           "path" : "daysSupplied",
                           "scope" : "Dispense",
                           "type" : "Property"
                        }
                     }, {
                        "localId" : "465",
                        "locator" : "134:56-134:131",
                        "type" : "Divide",
                        "operand" : [ {
                           "localId" : "457",
                           "locator" : "134:56-134:76",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "456",
                              "locator" : "134:56-134:70",
                              "path" : "supply",
                              "scope" : "Dispense",
                              "type" : "Property"
                           }
                        }, {
                           "localId" : "464",
                           "locator" : "134:79-134:131",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "460",
                              "locator" : "134:80-134:100",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "459",
                                 "locator" : "134:80-134:94",
                                 "path" : "dosage",
                                 "scope" : "Dispense",
                                 "type" : "Property"
                              }
                           }, {
                              "localId" : "463",
                              "locator" : "134:104-134:130",
                              "name" : "ToDaily",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "type" : "As",
                                 "operand" : {
                                    "localId" : "462",
                                    "locator" : "134:112-134:129",
                                    "path" : "frequency",
                                    "scope" : "Dispense",
                                    "type" : "Property"
                                 },
                                 "asTypeSpecifier" : {
                                    "type" : "ChoiceTypeSpecifier",
                                    "choice" : [ {
                                       "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{urn:hl7-org:elm-types:r1}Code",
                                       "type" : "NamedTypeSpecifier"
                                    } ]
                                 }
                              } ]
                           } ]
                        } ]
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "localId" : "496",
                  "locator" : "135:5-139:15",
                  "expression" : {
                     "localId" : "495",
                     "locator" : "135:12-139:15",
                     "type" : "If",
                     "condition" : {
                        "localId" : "469",
                        "locator" : "135:15-135:31",
                        "type" : "IsNull",
                        "operand" : {
                           "localId" : "468",
                           "locator" : "135:15-135:23",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        }
                     },
                     "then" : {
                        "type" : "As",
                        "operand" : {
                           "localId" : "470",
                           "locator" : "135:38-135:41",
                           "type" : "Null"
                        },
                        "asTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Date",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "else" : {
                        "localId" : "494",
                        "locator" : "136:12-139:15",
                        "type" : "If",
                        "condition" : {
                           "localId" : "474",
                           "locator" : "136:15-136:54",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "136:15-136:54",
                              "type" : "IsNull",
                              "operand" : {
                                 "localId" : "473",
                                 "locator" : "136:15-136:42",
                                 "path" : "high",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "472",
                                    "locator" : "136:15-136:37",
                                    "path" : "relevantPeriod",
                                    "scope" : "Dispense",
                                    "type" : "Property"
                                 }
                              }
                           }
                        },
                        "then" : {
                           "localId" : "480",
                           "locator" : "136:61-137:35",
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "localId" : "475",
                              "locator" : "136:70-136:78",
                              "name" : "startDate",
                              "type" : "QueryLetRef"
                           },
                           "high" : {
                              "localId" : "479",
                              "locator" : "136:81-137:34",
                              "type" : "DateFrom",
                              "operand" : {
                                 "localId" : "478",
                                 "locator" : "137:5-137:34",
                                 "type" : "End",
                                 "operand" : {
                                    "localId" : "477",
                                    "locator" : "137:12-137:34",
                                    "path" : "relevantPeriod",
                                    "scope" : "Dispense",
                                    "type" : "Property"
                                 }
                              }
                           }
                        },
                        "else" : {
                           "localId" : "493",
                           "locator" : "138:12-139:15",
                           "type" : "If",
                           "condition" : {
                              "localId" : "482",
                              "locator" : "138:15-138:43",
                              "type" : "Not",
                              "operand" : {
                                 "locator" : "138:15-138:43",
                                 "type" : "IsNull",
                                 "operand" : {
                                    "localId" : "481",
                                    "locator" : "138:15-138:31",
                                    "name" : "totalDaysSupplied",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           },
                           "then" : {
                              "localId" : "491",
                              "locator" : "138:50-138:136",
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "localId" : "483",
                                 "locator" : "138:59-138:67",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              },
                              "high" : {
                                 "localId" : "490",
                                 "locator" : "138:70-138:135",
                                 "type" : "Add",
                                 "operand" : [ {
                                    "localId" : "484",
                                    "locator" : "138:70-138:78",
                                    "name" : "startDate",
                                    "type" : "QueryLetRef"
                                 }, {
                                    "localId" : "489",
                                    "locator" : "138:82-138:135",
                                    "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "type" : "Instance",
                                    "element" : [ {
                                       "name" : "value",
                                       "value" : {
                                          "localId" : "487",
                                          "locator" : "138:100-138:120",
                                          "type" : "Subtract",
                                          "operand" : [ {
                                             "localId" : "485",
                                             "locator" : "138:100-138:116",
                                             "name" : "totalDaysSupplied",
                                             "type" : "QueryLetRef"
                                          }, {
                                             "type" : "ToDecimal",
                                             "operand" : {
                                                "localId" : "486",
                                                "locator" : "138:120",
                                                "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "value" : "1",
                                                "type" : "Literal"
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "unit",
                                       "value" : {
                                          "localId" : "488",
                                          "locator" : "138:129-138:133",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "day",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 } ]
                              }
                           },
                           "else" : {
                              "type" : "As",
                              "operand" : {
                                 "localId" : "492",
                                 "locator" : "139:12-139:15",
                                 "type" : "Null"
                              },
                              "asTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}Date",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "MedDispense",
               "operandTypeSpecifier" : {
                  "localId" : "440",
                  "locator" : "131:57-131:79",
                  "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDispensed",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "501",
            "locator" : "145:1-146:9",
            "name" : "TherapeuticDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Returns the established therapeutic duration for a given medication"
               }, {
                  "name" : "description",
                  "value" : "Returns the established therapeutic duration for a given medication"
               }, {
                  "name" : "comment",
                  "value" : "This is likely measure specific, though could potentially be established for any drug and distributed as a CodeSystem supplement. Defaulting to 14 days here for illustration."
               }, {
                  "name" : "seealso",
                  "value" : "[CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\n  Note that this function is still under development and should not be used."
               } ],
               "s" : {
                  "r" : "501",
                  "s" : [ {
                     "value" : [ "/*@description: Returns the established therapeutic duration for a given medication\n  @comment: This is likely measure specific, though could potentially be established for any drug and distributed as a CodeSystem supplement. Defaulting to 14 days here for illustration.\n  @seealso: [CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\n  Note that this function is still under development and should not be used.*/","define function ","\"TherapeuticDuration\"","(","medication"," " ]
                  }, {
                     "r" : "499",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "500",
                     "s" : [ {
                        "r" : "500",
                        "s" : [ {
                           "value" : [ "14 ","days" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "500",
               "locator" : "146:3-146:9",
               "value" : 14,
               "unit" : "days",
               "type" : "Quantity"
            },
            "operand" : [ {
               "name" : "medication",
               "operandTypeSpecifier" : {
                  "localId" : "499",
                  "locator" : "145:50-145:53",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "533",
            "locator" : "152:1-161:15",
            "name" : "MedicationAdministrationPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates Medication Period for a given Medication, Administration"
               }, {
                  "name" : "description",
                  "value" : "Calculates Medication Period for a given Medication, Administration"
               }, {
                  "name" : "comment",
                  "value" : "This function calculates the effective duration of a single medication administration event using the following approach: If a TherapeuticDuration is defined for the medication, the result is the interval from the earliest of the `relevantDatetime` and `relevantPeriod` elements, to the end of the therapeutic duration."
               }, {
                  "name" : "seealso",
                  "value" : "[CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\n  Note that this function is still under development and should not be used."
               } ],
               "s" : {
                  "r" : "533",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates Medication Period for a given Medication, Administration\n  @comment: This function calculates the effective duration of a single medication administration event using the following approach: If a TherapeuticDuration is defined for the medication, the result is the interval from the earliest of the `relevantDatetime` and `relevantPeriod` elements, to the end of the therapeutic duration.\n  @seealso: [CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\n  Note that this function is still under development and should not be used.*/","define function ","\"MedicationAdministrationPeriod\"","(","MedAdministration"," " ]
                  }, {
                     "r" : "502",
                     "s" : [ {
                        "value" : [ "\"Medication, Administered\"" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "532",
                     "s" : [ {
                        "r" : "532",
                        "s" : [ {
                           "s" : [ {
                              "r" : "504",
                              "s" : [ {
                                 "r" : "503",
                                 "s" : [ {
                                    "s" : [ {
                                       "value" : [ "MedAdministration" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " ","Administration" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n       " ]
                        }, {
                           "s" : [ {
                              "value" : [ "let\n         " ]
                           }, {
                              "r" : "508",
                              "s" : [ {
                                 "value" : [ "therapeuticDuration",": " ]
                              }, {
                                 "r" : "507",
                                 "s" : [ {
                                    "value" : [ "TherapeuticDuration","(" ]
                                 }, {
                                    "r" : "506",
                                    "s" : [ {
                                       "r" : "505",
                                       "s" : [ {
                                          "value" : [ "Administration" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "506",
                                       "s" : [ {
                                          "value" : [ "code" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ",\n         " ]
                           }, {
                              "r" : "516",
                              "s" : [ {
                                 "value" : [ "startDate",": " ]
                              }, {
                                 "r" : "515",
                                 "s" : [ {
                                    "value" : [ "date from " ]
                                 }, {
                                    "r" : "514",
                                    "s" : [ {
                                       "r" : "509",
                                       "s" : [ {
                                          "value" : [ "Global" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "514",
                                       "s" : [ {
                                          "value" : [ "EarliestOf","(" ]
                                       }, {
                                          "r" : "511",
                                          "s" : [ {
                                             "r" : "510",
                                             "s" : [ {
                                                "value" : [ "Administration" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "511",
                                             "s" : [ {
                                                "value" : [ "relevantDatetime" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "r" : "513",
                                          "s" : [ {
                                             "r" : "512",
                                             "s" : [ {
                                                "value" : [ "Administration" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "513",
                                             "s" : [ {
                                                "value" : [ "relevantPeriod" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n       " ]
                        }, {
                           "r" : "531",
                           "s" : [ {
                              "value" : [ "return\n         " ]
                           }, {
                              "r" : "530",
                              "s" : [ {
                                 "value" : [ "if " ]
                              }, {
                                 "r" : "521",
                                 "s" : [ {
                                    "r" : "518",
                                    "s" : [ {
                                       "r" : "517",
                                       "s" : [ {
                                          "value" : [ "startDate" ]
                                       } ]
                                    }, {
                                       "value" : [ " is not null" ]
                                    } ]
                                 }, {
                                    "value" : [ " and " ]
                                 }, {
                                    "r" : "520",
                                    "s" : [ {
                                       "r" : "519",
                                       "s" : [ {
                                          "value" : [ "therapeuticDuration" ]
                                       } ]
                                    }, {
                                       "value" : [ " is not null" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " then\n           " ]
                              }, {
                                 "r" : "528",
                                 "s" : [ {
                                    "value" : [ "Interval[" ]
                                 }, {
                                    "r" : "522",
                                    "s" : [ {
                                       "value" : [ "startDate" ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "r" : "527",
                                    "s" : [ {
                                       "r" : "525",
                                       "s" : [ {
                                          "r" : "523",
                                          "s" : [ {
                                             "value" : [ "startDate" ]
                                          } ]
                                       }, {
                                          "value" : [ " + " ]
                                       }, {
                                          "r" : "524",
                                          "s" : [ {
                                             "value" : [ "therapeuticDuration" ]
                                          } ]
                                       } ]
                                    }, {
                                       "r" : "526",
                                       "value" : [ " - ","1" ]
                                    } ]
                                 }, {
                                    "value" : [ "]" ]
                                 } ]
                              }, {
                                 "r" : "529",
                                 "value" : [ "\n         else\n           ","null" ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "532",
               "locator" : "153:3-161:15",
               "type" : "Query",
               "source" : [ {
                  "localId" : "504",
                  "locator" : "153:3-153:34",
                  "alias" : "Administration",
                  "expression" : {
                     "localId" : "503",
                     "locator" : "153:3-153:19",
                     "name" : "MedAdministration",
                     "type" : "OperandRef"
                  }
               } ],
               "let" : [ {
                  "localId" : "508",
                  "locator" : "155:10-155:70",
                  "identifier" : "therapeuticDuration",
                  "expression" : {
                     "localId" : "507",
                     "locator" : "155:31-155:70",
                     "name" : "TherapeuticDuration",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "localId" : "506",
                        "locator" : "155:51-155:69",
                        "path" : "code",
                        "scope" : "Administration",
                        "type" : "Property"
                     } ]
                  }
               }, {
                  "localId" : "516",
                  "locator" : "156:10-156:111",
                  "identifier" : "startDate",
                  "expression" : {
                     "localId" : "515",
                     "locator" : "156:21-156:111",
                     "type" : "DateFrom",
                     "operand" : {
                        "localId" : "514",
                        "locator" : "156:31-156:111",
                        "name" : "EarliestOf",
                        "libraryName" : "Global",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "localId" : "511",
                           "locator" : "156:49-156:79",
                           "path" : "relevantDatetime",
                           "scope" : "Administration",
                           "type" : "Property"
                        }, {
                           "localId" : "513",
                           "locator" : "156:82-156:110",
                           "path" : "relevantPeriod",
                           "scope" : "Administration",
                           "type" : "Property"
                        } ]
                     }
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "localId" : "531",
                  "locator" : "157:8-161:15",
                  "expression" : {
                     "localId" : "530",
                     "locator" : "158:10-161:15",
                     "type" : "If",
                     "condition" : {
                        "localId" : "521",
                        "locator" : "158:13-158:69",
                        "type" : "And",
                        "operand" : [ {
                           "localId" : "518",
                           "locator" : "158:13-158:33",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "158:13-158:33",
                              "type" : "IsNull",
                              "operand" : {
                                 "localId" : "517",
                                 "locator" : "158:13-158:21",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              }
                           }
                        }, {
                           "localId" : "520",
                           "locator" : "158:39-158:69",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "158:39-158:69",
                              "type" : "IsNull",
                              "operand" : {
                                 "localId" : "519",
                                 "locator" : "158:39-158:57",
                                 "name" : "therapeuticDuration",
                                 "type" : "QueryLetRef"
                              }
                           }
                        } ]
                     },
                     "then" : {
                        "localId" : "528",
                        "locator" : "159:12-159:67",
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "localId" : "522",
                           "locator" : "159:21-159:29",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        },
                        "high" : {
                           "localId" : "527",
                           "locator" : "159:32-159:66",
                           "type" : "Subtract",
                           "operand" : [ {
                              "localId" : "525",
                              "locator" : "159:32-159:62",
                              "type" : "Add",
                              "operand" : [ {
                                 "localId" : "523",
                                 "locator" : "159:32-159:40",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              }, {
                                 "localId" : "524",
                                 "locator" : "159:44-159:62",
                                 "name" : "therapeuticDuration",
                                 "type" : "QueryLetRef"
                              } ]
                           }, {
                              "type" : "ToQuantity",
                              "operand" : {
                                 "localId" : "526",
                                 "locator" : "159:66",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     },
                     "else" : {
                        "type" : "As",
                        "operand" : {
                           "localId" : "529",
                           "locator" : "161:12-161:15",
                           "type" : "Null"
                        },
                        "asTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Date",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "MedAdministration",
               "operandTypeSpecifier" : {
                  "localId" : "502",
                  "locator" : "152:68-152:93",
                  "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "579",
            "locator" : "168:1-180:12",
            "name" : "MedicationDischargePeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates the Medication Period for a Medication, Discharge"
               }, {
                  "name" : "description",
                  "value" : "Calculates the Medication Period for a Medication, Discharge"
               }, {
                  "name" : "comment",
                  "value" : "This function calculates the effective duration of a single medication discharge event using the following approach: If the `daysSupplied` element is present, the duration is `daysSupplied * (1 + refills)`. Otherwise, the duration is calculated using `(supply / (dosage * frequency)) * (1 + refills)`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL."
               }, {
                  "name" : "seealso",
                  "value" : "[CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that this function has not been tested."
               } ],
               "s" : {
                  "r" : "579",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates the Medication Period for a Medication, Discharge\n@comment: This function calculates the effective duration of a single medication discharge event using the following approach: If the `daysSupplied` element is present, the duration is `daysSupplied * (1 + refills)`. Otherwise, the duration is calculated using `(supply / (dosage * frequency)) * (1 + refills)`. The result is then the interval from `authorDatetime` to `authorDatetime + daysSupplied`.\nNote that the supply and dosage Quantity values on the order are assumed to be in terms of the same unit, typically a tablet or mL.\n@seealso: [CumulativeMedicationDuration](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/blob/master/Source/Libraries)\nNote that this function has not been tested.*/","define function ","\"MedicationDischargePeriod\"","(","Medication"," " ]
                  }, {
                     "r" : "534",
                     "s" : [ {
                        "value" : [ "\"Medication, Discharge\"" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "578",
                     "s" : [ {
                        "r" : "578",
                        "s" : [ {
                           "s" : [ {
                              "r" : "556",
                              "s" : [ {
                                 "r" : "555",
                                 "s" : [ {
                                    "value" : [ "(\n    " ]
                                 }, {
                                    "r" : "555",
                                    "s" : [ {
                                       "r" : "548",
                                       "s" : [ {
                                          "value" : [ "Coalesce","(\n      " ]
                                       }, {
                                          "r" : "536",
                                          "s" : [ {
                                             "r" : "535",
                                             "s" : [ {
                                                "value" : [ "Medication" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "536",
                                             "s" : [ {
                                                "value" : [ "daysSupplied" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\n      " ]
                                       }, {
                                          "r" : "547",
                                          "s" : [ {
                                             "r" : "539",
                                             "s" : [ {
                                                "r" : "538",
                                                "s" : [ {
                                                   "r" : "537",
                                                   "s" : [ {
                                                      "value" : [ "Medication" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "538",
                                                   "s" : [ {
                                                      "value" : [ "supply" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "539",
                                                "s" : [ {
                                                   "value" : [ "value" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " / " ]
                                          }, {
                                             "r" : "546",
                                             "s" : [ {
                                                "value" : [ "(" ]
                                             }, {
                                                "r" : "546",
                                                "s" : [ {
                                                   "r" : "542",
                                                   "s" : [ {
                                                      "r" : "541",
                                                      "s" : [ {
                                                         "r" : "540",
                                                         "s" : [ {
                                                            "value" : [ "Medication" ]
                                                         } ]
                                                      }, {
                                                         "value" : [ "." ]
                                                      }, {
                                                         "r" : "541",
                                                         "s" : [ {
                                                            "value" : [ "dosage" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ "." ]
                                                   }, {
                                                      "r" : "542",
                                                      "s" : [ {
                                                         "value" : [ "value" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " * " ]
                                                }, {
                                                   "r" : "545",
                                                   "s" : [ {
                                                      "value" : [ "ToDaily","(" ]
                                                   }, {
                                                      "r" : "544",
                                                      "s" : [ {
                                                         "r" : "543",
                                                         "s" : [ {
                                                            "value" : [ "Medication" ]
                                                         } ]
                                                      }, {
                                                         "value" : [ "." ]
                                                      }, {
                                                         "r" : "544",
                                                         "s" : [ {
                                                            "value" : [ "frequency" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ ")" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "\n    )" ]
                                       } ]
                                    }, {
                                       "value" : [ " * " ]
                                    }, {
                                       "r" : "554",
                                       "s" : [ {
                                          "value" : [ "(" ]
                                       }, {
                                          "r" : "554",
                                          "s" : [ {
                                             "r" : "549",
                                             "value" : [ "1"," + " ]
                                          }, {
                                             "r" : "553",
                                             "s" : [ {
                                                "value" : [ "Coalesce","(" ]
                                             }, {
                                                "r" : "551",
                                                "s" : [ {
                                                   "r" : "550",
                                                   "s" : [ {
                                                      "value" : [ "Medication" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "551",
                                                   "s" : [ {
                                                      "value" : [ "refills" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "r" : "552",
                                                "value" : [ ", ","0",")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\n  )" ]
                                 } ]
                              }, {
                                 "value" : [ " ","totalDaysSupplied" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "s" : [ {
                              "value" : [ "let " ]
                           }, {
                              "r" : "560",
                              "s" : [ {
                                 "value" : [ "startDate",": " ]
                              }, {
                                 "r" : "559",
                                 "s" : [ {
                                    "value" : [ "date from " ]
                                 }, {
                                    "r" : "558",
                                    "s" : [ {
                                       "r" : "557",
                                       "s" : [ {
                                          "value" : [ "Medication" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "558",
                                       "s" : [ {
                                          "value" : [ "authorDatetime" ]
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "577",
                           "s" : [ {
                              "value" : [ "return\n      " ]
                           }, {
                              "r" : "576",
                              "s" : [ {
                                 "value" : [ "if " ]
                              }, {
                                 "r" : "565",
                                 "s" : [ {
                                    "r" : "562",
                                    "s" : [ {
                                       "r" : "561",
                                       "s" : [ {
                                          "value" : [ "startDate" ]
                                       } ]
                                    }, {
                                       "value" : [ " is not null" ]
                                    } ]
                                 }, {
                                    "value" : [ " and " ]
                                 }, {
                                    "r" : "564",
                                    "s" : [ {
                                       "r" : "563",
                                       "s" : [ {
                                          "value" : [ "totalDaysSupplied" ]
                                       } ]
                                    }, {
                                       "value" : [ " is not null" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " then\n        " ]
                              }, {
                                 "r" : "574",
                                 "s" : [ {
                                    "value" : [ "Interval[" ]
                                 }, {
                                    "r" : "566",
                                    "s" : [ {
                                       "value" : [ "startDate" ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "r" : "573",
                                    "s" : [ {
                                       "r" : "567",
                                       "s" : [ {
                                          "value" : [ "startDate" ]
                                       } ]
                                    }, {
                                       "value" : [ " + " ]
                                    }, {
                                       "r" : "572",
                                       "s" : [ {
                                          "value" : [ "Quantity"," { " ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "value",": " ]
                                          }, {
                                             "r" : "570",
                                             "s" : [ {
                                                "r" : "568",
                                                "s" : [ {
                                                   "value" : [ "totalDaysSupplied" ]
                                                } ]
                                             }, {
                                                "r" : "569",
                                                "value" : [ " - ","1" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "unit",": " ]
                                          }, {
                                             "r" : "571",
                                             "s" : [ {
                                                "value" : [ "'day'" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " }" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "]" ]
                                 } ]
                              }, {
                                 "r" : "575",
                                 "value" : [ "\n      else\n        ","null" ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "578",
               "locator" : "169:3-180:12",
               "type" : "Query",
               "source" : [ {
                  "localId" : "556",
                  "locator" : "169:3-174:21",
                  "alias" : "totalDaysSupplied",
                  "expression" : {
                     "localId" : "555",
                     "locator" : "169:3-174:3",
                     "type" : "Multiply",
                     "operand" : [ {
                        "localId" : "548",
                        "locator" : "170:5-173:5",
                        "type" : "Coalesce",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "localId" : "536",
                              "locator" : "171:7-171:29",
                              "path" : "daysSupplied",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "535",
                                 "locator" : "171:7-171:16",
                                 "name" : "Medication",
                                 "type" : "OperandRef"
                              }
                           }
                        }, {
                           "localId" : "547",
                           "locator" : "172:7-172:89",
                           "type" : "Divide",
                           "operand" : [ {
                              "localId" : "539",
                              "locator" : "172:7-172:29",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "538",
                                 "locator" : "172:7-172:23",
                                 "path" : "supply",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "537",
                                    "locator" : "172:7-172:16",
                                    "name" : "Medication",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "546",
                              "locator" : "172:33-172:89",
                              "type" : "Multiply",
                              "operand" : [ {
                                 "localId" : "542",
                                 "locator" : "172:34-172:56",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "541",
                                    "locator" : "172:34-172:50",
                                    "path" : "dosage",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "540",
                                       "locator" : "172:34-172:43",
                                       "name" : "Medication",
                                       "type" : "OperandRef"
                                    }
                                 }
                              }, {
                                 "localId" : "545",
                                 "locator" : "172:60-172:88",
                                 "name" : "ToDaily",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "type" : "As",
                                    "operand" : {
                                       "localId" : "544",
                                       "locator" : "172:68-172:87",
                                       "path" : "frequency",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "543",
                                          "locator" : "172:68-172:77",
                                          "name" : "Medication",
                                          "type" : "OperandRef"
                                       }
                                    },
                                    "asTypeSpecifier" : {
                                       "type" : "ChoiceTypeSpecifier",
                                       "choice" : [ {
                                          "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                                          "type" : "NamedTypeSpecifier"
                                       }, {
                                          "name" : "{urn:hl7-org:elm-types:r1}Code",
                                          "type" : "NamedTypeSpecifier"
                                       } ]
                                    }
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "554",
                           "locator" : "173:9-173:45",
                           "type" : "Add",
                           "operand" : [ {
                              "localId" : "549",
                              "locator" : "173:10",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "1",
                              "type" : "Literal"
                           }, {
                              "localId" : "553",
                              "locator" : "173:14-173:44",
                              "type" : "Coalesce",
                              "operand" : [ {
                                 "localId" : "551",
                                 "locator" : "173:23-173:40",
                                 "path" : "refills",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "550",
                                    "locator" : "173:23-173:32",
                                    "name" : "Medication",
                                    "type" : "OperandRef"
                                 }
                              }, {
                                 "localId" : "552",
                                 "locator" : "173:43",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "0",
                                 "type" : "Literal"
                              } ]
                           } ]
                        }
                     } ]
                  }
               } ],
               "let" : [ {
                  "localId" : "560",
                  "locator" : "175:9-175:54",
                  "identifier" : "startDate",
                  "expression" : {
                     "localId" : "559",
                     "locator" : "175:20-175:54",
                     "type" : "DateFrom",
                     "operand" : {
                        "localId" : "558",
                        "locator" : "175:30-175:54",
                        "path" : "authorDatetime",
                        "type" : "Property",
                        "source" : {
                           "localId" : "557",
                           "locator" : "175:30-175:39",
                           "name" : "Medication",
                           "type" : "OperandRef"
                        }
                     }
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "localId" : "577",
                  "locator" : "176:5-180:12",
                  "expression" : {
                     "localId" : "576",
                     "locator" : "177:7-180:12",
                     "type" : "If",
                     "condition" : {
                        "localId" : "565",
                        "locator" : "177:10-177:64",
                        "type" : "And",
                        "operand" : [ {
                           "localId" : "562",
                           "locator" : "177:10-177:30",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "177:10-177:30",
                              "type" : "IsNull",
                              "operand" : {
                                 "localId" : "561",
                                 "locator" : "177:10-177:18",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              }
                           }
                        }, {
                           "localId" : "564",
                           "locator" : "177:36-177:64",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "177:36-177:64",
                              "type" : "IsNull",
                              "operand" : {
                                 "localId" : "563",
                                 "locator" : "177:36-177:52",
                                 "name" : "totalDaysSupplied",
                                 "type" : "AliasRef"
                              }
                           }
                        } ]
                     },
                     "then" : {
                        "localId" : "574",
                        "locator" : "178:9-178:95",
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "localId" : "566",
                           "locator" : "178:18-178:26",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        },
                        "high" : {
                           "localId" : "573",
                           "locator" : "178:29-178:94",
                           "type" : "Add",
                           "operand" : [ {
                              "localId" : "567",
                              "locator" : "178:29-178:37",
                              "name" : "startDate",
                              "type" : "QueryLetRef"
                           }, {
                              "localId" : "572",
                              "locator" : "178:41-178:94",
                              "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "type" : "Instance",
                              "element" : [ {
                                 "name" : "value",
                                 "value" : {
                                    "localId" : "570",
                                    "locator" : "178:59-178:79",
                                    "type" : "Subtract",
                                    "operand" : [ {
                                       "localId" : "568",
                                       "locator" : "178:59-178:75",
                                       "name" : "totalDaysSupplied",
                                       "type" : "AliasRef"
                                    }, {
                                       "type" : "ToDecimal",
                                       "operand" : {
                                          "localId" : "569",
                                          "locator" : "178:79",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              }, {
                                 "name" : "unit",
                                 "value" : {
                                    "localId" : "571",
                                    "locator" : "178:88-178:92",
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "day",
                                    "type" : "Literal"
                                 }
                              } ]
                           } ]
                        }
                     },
                     "else" : {
                        "type" : "As",
                        "operand" : {
                           "localId" : "575",
                           "locator" : "180:9-180:12",
                           "type" : "Null"
                        },
                        "asTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Date",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Medication",
               "operandTypeSpecifier" : {
                  "localId" : "534",
                  "locator" : "168:56-168:78",
                  "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDischarge",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "596",
            "locator" : "184:1-185:103",
            "name" : "CumulativeDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Returns the total duration in days covered by the given periods"
               }, {
                  "name" : "description",
                  "value" : "Returns the total duration in days covered by the given periods"
               }, {
                  "name" : "comment",
                  "value" : "This function calculates the total duration in days covered by the given periods. If multiple periods in the input include the same day, that day is only counted once in the final result."
               } ],
               "s" : {
                  "r" : "596",
                  "s" : [ {
                     "value" : [ "/*@description: Returns the total duration in days covered by the given periods\n@comment: This function calculates the total duration in days covered by the given periods. If multiple periods in the input include the same day, that day is only counted once in the final result.*/","define function ","\"CumulativeDuration\"","(","Intervals"," " ]
                  }, {
                     "r" : "582",
                     "s" : [ {
                        "value" : [ "List<" ]
                     }, {
                        "r" : "581",
                        "s" : [ {
                           "value" : [ "Interval<" ]
                        }, {
                           "r" : "580",
                           "s" : [ {
                              "value" : [ "Date" ]
                           } ]
                        }, {
                           "value" : [ ">" ]
                        } ]
                     }, {
                        "value" : [ ">" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "595",
                     "s" : [ {
                        "r" : "595",
                        "s" : [ {
                           "value" : [ "Sum","(" ]
                        }, {
                           "r" : "594",
                           "s" : [ {
                              "s" : [ {
                                 "r" : "585",
                                 "s" : [ {
                                    "r" : "584",
                                    "s" : [ {
                                       "value" : [ "(" ]
                                    }, {
                                       "r" : "584",
                                       "s" : [ {
                                          "value" : [ "collapse " ]
                                       }, {
                                          "r" : "583",
                                          "s" : [ {
                                             "value" : [ "Intervals" ]
                                          } ]
                                       }, {
                                          "value" : [ " per ","day" ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "value" : [ " ","X" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " " ]
                           }, {
                              "r" : "593",
                              "s" : [ {
                                 "value" : [ "return all " ]
                              }, {
                                 "r" : "592",
                                 "s" : [ {
                                    "r" : "590",
                                    "s" : [ {
                                       "value" : [ "(" ]
                                    }, {
                                       "r" : "590",
                                       "s" : [ {
                                          "value" : [ "difference in days between " ]
                                       }, {
                                          "r" : "587",
                                          "s" : [ {
                                             "value" : [ "start of " ]
                                          }, {
                                             "r" : "586",
                                             "s" : [ {
                                                "value" : [ "X" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " and " ]
                                       }, {
                                          "r" : "589",
                                          "s" : [ {
                                             "value" : [ "end of " ]
                                          }, {
                                             "r" : "588",
                                             "s" : [ {
                                                "value" : [ "X" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "r" : "591",
                                    "value" : [ "+","1" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ ")" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "595",
               "locator" : "185:3-185:103",
               "type" : "Sum",
               "source" : {
                  "localId" : "594",
                  "locator" : "185:7-185:102",
                  "type" : "Query",
                  "source" : [ {
                     "localId" : "585",
                     "locator" : "185:7-185:36",
                     "alias" : "X",
                     "expression" : {
                        "localId" : "584",
                        "locator" : "185:7-185:34",
                        "type" : "Collapse",
                        "operand" : [ {
                           "localId" : "583",
                           "locator" : "185:17-185:25",
                           "name" : "Intervals",
                           "type" : "OperandRef"
                        }, {
                           "value" : 1.0,
                           "unit" : "day",
                           "type" : "Quantity"
                        } ]
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "localId" : "593",
                     "locator" : "185:38-185:102",
                     "distinct" : false,
                     "expression" : {
                        "localId" : "592",
                        "locator" : "185:49-185:102",
                        "type" : "Add",
                        "operand" : [ {
                           "localId" : "590",
                           "locator" : "185:49-185:100",
                           "precision" : "Day",
                           "type" : "DifferenceBetween",
                           "operand" : [ {
                              "localId" : "587",
                              "locator" : "185:77-185:86",
                              "type" : "Start",
                              "operand" : {
                                 "localId" : "586",
                                 "locator" : "185:86",
                                 "name" : "X",
                                 "type" : "AliasRef"
                              }
                           }, {
                              "localId" : "589",
                              "locator" : "185:92-185:99",
                              "type" : "End",
                              "operand" : {
                                 "localId" : "588",
                                 "locator" : "185:99",
                                 "name" : "X",
                                 "type" : "AliasRef"
                              }
                           } ]
                        }, {
                           "localId" : "591",
                           "locator" : "185:102",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "1",
                           "type" : "Literal"
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Intervals",
               "operandTypeSpecifier" : {
                  "localId" : "582",
                  "locator" : "184:48-184:67",
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "localId" : "581",
                     "locator" : "184:53-184:66",
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "localId" : "580",
                        "locator" : "184:62-184:65",
                        "name" : "{urn:hl7-org:elm-types:r1}Date",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }
            } ]
         }, {
            "localId" : "634",
            "locator" : "189:1-198:8",
            "name" : "RolloutIntervals",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Rolls out periods so that overlapping periods delay the start of subsequent periods"
               }, {
                  "name" : "description",
                  "value" : "Rolls out periods so that overlapping periods delay the start of subsequent periods"
               }, {
                  "name" : "comment",
                  "value" : "Returns the periods with overlapping periods delayed so that there is no overlap between any two periods in the result. Note that this function has not been tested."
               } ],
               "s" : {
                  "r" : "634",
                  "s" : [ {
                     "value" : [ "/*@description: Rolls out periods so that overlapping periods delay the start of subsequent periods\n@comment: Returns the periods with overlapping periods delayed so that there is no overlap between any two periods in the result. Note that this function has not been tested.*/","define function ","\"RolloutIntervals\"","(","intervals"," " ]
                  }, {
                     "r" : "599",
                     "s" : [ {
                        "value" : [ "List<" ]
                     }, {
                        "r" : "598",
                        "s" : [ {
                           "value" : [ "Interval<" ]
                        }, {
                           "r" : "597",
                           "s" : [ {
                              "value" : [ "Date" ]
                           } ]
                        }, {
                           "value" : [ ">" ]
                        } ]
                     }, {
                        "value" : [ ">" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "633",
                     "s" : [ {
                        "r" : "633",
                        "s" : [ {
                           "s" : [ {
                              "r" : "601",
                              "s" : [ {
                                 "r" : "600",
                                 "s" : [ {
                                    "s" : [ {
                                       "value" : [ "intervals" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " ","I" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n    " ]
                        }, {
                           "r" : "632",
                           "s" : [ {
                              "value" : [ "aggregate ","R"," " ]
                           }, {
                              "r" : "606",
                              "s" : [ {
                                 "value" : [ "starting (" ]
                              }, {
                                 "r" : "606",
                                 "s" : [ {
                                    "r" : "602",
                                    "value" : [ "null"," as " ]
                                 }, {
                                    "r" : "605",
                                    "s" : [ {
                                       "value" : [ "List<" ]
                                    }, {
                                       "r" : "604",
                                       "s" : [ {
                                          "value" : [ "Interval<" ]
                                       }, {
                                          "r" : "603",
                                          "s" : [ {
                                             "value" : [ "Date" ]
                                          } ]
                                       }, {
                                          "value" : [ ">" ]
                                       } ]
                                    }, {
                                       "value" : [ ">" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           }, {
                              "value" : [ ":\n      " ]
                           }, {
                              "r" : "631",
                              "s" : [ {
                                 "r" : "607",
                                 "s" : [ {
                                    "value" : [ "R" ]
                                 } ]
                              }, {
                                 "value" : [ " union " ]
                              }, {
                                 "r" : "630",
                                 "s" : [ {
                                    "value" : [ "(" ]
                                 }, {
                                    "r" : "630",
                                    "s" : [ {
                                       "value" : [ "{\n        " ]
                                    }, {
                                       "r" : "629",
                                       "s" : [ {
                                          "s" : [ {
                                             "r" : "609",
                                             "s" : [ {
                                                "r" : "608",
                                                "s" : [ {
                                                   "s" : [ {
                                                      "value" : [ "I" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " ","X" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "\n          " ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "let\n            " ]
                                          }, {
                                             "r" : "619",
                                             "s" : [ {
                                                "value" : [ "S",": " ]
                                             }, {
                                                "r" : "618",
                                                "s" : [ {
                                                   "value" : [ "Max","(" ]
                                                }, {
                                                   "r" : "617",
                                                   "s" : [ {
                                                      "value" : [ "{ " ]
                                                   }, {
                                                      "r" : "614",
                                                      "s" : [ {
                                                         "r" : "612",
                                                         "s" : [ {
                                                            "value" : [ "end of " ]
                                                         }, {
                                                            "r" : "611",
                                                            "s" : [ {
                                                               "value" : [ "Last","(" ]
                                                            }, {
                                                               "r" : "610",
                                                               "s" : [ {
                                                                  "value" : [ "R" ]
                                                               } ]
                                                            }, {
                                                               "value" : [ ")" ]
                                                            } ]
                                                         } ]
                                                      }, {
                                                         "value" : [ " + " ]
                                                      }, {
                                                         "r" : "613",
                                                         "s" : [ {
                                                            "value" : [ "1 ","day" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ ", " ]
                                                   }, {
                                                      "r" : "616",
                                                      "s" : [ {
                                                         "value" : [ "start of " ]
                                                      }, {
                                                         "r" : "615",
                                                         "s" : [ {
                                                            "value" : [ "X" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ " }" ]
                                                   } ]
                                                }, {
                                                   "value" : [ ")" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ",\n            " ]
                                          }, {
                                             "r" : "624",
                                             "s" : [ {
                                                "value" : [ "E",": " ]
                                             }, {
                                                "r" : "623",
                                                "s" : [ {
                                                   "r" : "620",
                                                   "s" : [ {
                                                      "value" : [ "S" ]
                                                   } ]
                                                }, {
                                                   "value" : [ " + " ]
                                                }, {
                                                   "r" : "622",
                                                   "s" : [ {
                                                      "value" : [ "duration in days of " ]
                                                   }, {
                                                      "r" : "621",
                                                      "s" : [ {
                                                         "value" : [ "X" ]
                                                      } ]
                                                   } ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "\n          " ]
                                       }, {
                                          "r" : "628",
                                          "s" : [ {
                                             "value" : [ "return " ]
                                          }, {
                                             "r" : "627",
                                             "s" : [ {
                                                "value" : [ "Interval[" ]
                                             }, {
                                                "r" : "625",
                                                "s" : [ {
                                                   "value" : [ "S" ]
                                                } ]
                                             }, {
                                                "value" : [ ", " ]
                                             }, {
                                                "r" : "626",
                                                "s" : [ {
                                                   "value" : [ "E" ]
                                                } ]
                                             }, {
                                                "value" : [ "]" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "\n      }" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "633",
               "locator" : "190:3-198:8",
               "type" : "Query",
               "source" : [ {
                  "localId" : "601",
                  "locator" : "190:3-190:13",
                  "alias" : "I",
                  "expression" : {
                     "localId" : "600",
                     "locator" : "190:3-190:11",
                     "name" : "intervals",
                     "type" : "OperandRef"
                  }
               } ],
               "relationship" : [ ],
               "aggregate" : {
                  "localId" : "632",
                  "locator" : "191:5-198:8",
                  "identifier" : "R",
                  "expression" : {
                     "localId" : "631",
                     "locator" : "192:7-198:8",
                     "type" : "Union",
                     "operand" : [ {
                        "localId" : "607",
                        "locator" : "192:7",
                        "name" : "R",
                        "type" : "QueryLetRef"
                     }, {
                        "localId" : "630",
                        "locator" : "192:15-198:8",
                        "type" : "List",
                        "element" : [ {
                           "localId" : "629",
                           "locator" : "193:9-197:31",
                           "type" : "Query",
                           "source" : [ {
                              "localId" : "609",
                              "locator" : "193:9-193:11",
                              "alias" : "X",
                              "expression" : {
                                 "localId" : "608",
                                 "locator" : "193:9",
                                 "name" : "I",
                                 "type" : "AliasRef"
                              }
                           } ],
                           "let" : [ {
                              "localId" : "619",
                              "locator" : "195:13-195:58",
                              "identifier" : "S",
                              "expression" : {
                                 "localId" : "618",
                                 "locator" : "195:16-195:58",
                                 "type" : "Max",
                                 "source" : {
                                    "localId" : "617",
                                    "locator" : "195:20-195:57",
                                    "type" : "List",
                                    "element" : [ {
                                       "localId" : "614",
                                       "locator" : "195:22-195:43",
                                       "type" : "Add",
                                       "operand" : [ {
                                          "localId" : "612",
                                          "locator" : "195:22-195:35",
                                          "type" : "End",
                                          "operand" : {
                                             "localId" : "611",
                                             "locator" : "195:29-195:35",
                                             "type" : "Last",
                                             "source" : {
                                                "localId" : "610",
                                                "locator" : "195:34",
                                                "name" : "R",
                                                "type" : "QueryLetRef"
                                             }
                                          }
                                       }, {
                                          "localId" : "613",
                                          "locator" : "195:39-195:43",
                                          "value" : 1,
                                          "unit" : "day",
                                          "type" : "Quantity"
                                       } ]
                                    }, {
                                       "localId" : "616",
                                       "locator" : "195:46-195:55",
                                       "type" : "Start",
                                       "operand" : {
                                          "localId" : "615",
                                          "locator" : "195:55",
                                          "name" : "X",
                                          "type" : "AliasRef"
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "localId" : "624",
                              "locator" : "196:13-196:40",
                              "identifier" : "E",
                              "expression" : {
                                 "localId" : "623",
                                 "locator" : "196:16-196:40",
                                 "type" : "Add",
                                 "operand" : [ {
                                    "localId" : "620",
                                    "locator" : "196:16",
                                    "name" : "S",
                                    "type" : "QueryLetRef"
                                 }, {
                                    "type" : "ToQuantity",
                                    "operand" : {
                                       "localId" : "622",
                                       "locator" : "196:20-196:40",
                                       "precision" : "Day",
                                       "type" : "DurationBetween",
                                       "operand" : [ {
                                          "type" : "Start",
                                          "operand" : {
                                             "localId" : "621",
                                             "locator" : "196:40",
                                             "name" : "X",
                                             "type" : "AliasRef"
                                          }
                                       }, {
                                          "type" : "End",
                                          "operand" : {
                                             "localId" : "621",
                                             "locator" : "196:40",
                                             "name" : "X",
                                             "type" : "AliasRef"
                                          }
                                       } ]
                                    }
                                 } ]
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "localId" : "628",
                              "locator" : "197:11-197:31",
                              "expression" : {
                                 "localId" : "627",
                                 "locator" : "197:18-197:31",
                                 "lowClosed" : true,
                                 "highClosed" : true,
                                 "type" : "Interval",
                                 "low" : {
                                    "localId" : "625",
                                    "locator" : "197:27",
                                    "name" : "S",
                                    "type" : "QueryLetRef"
                                 },
                                 "high" : {
                                    "localId" : "626",
                                    "locator" : "197:30",
                                    "name" : "E",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        } ]
                     } ]
                  },
                  "starting" : {
                     "localId" : "606",
                     "locator" : "191:17-191:55",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "localId" : "602",
                        "locator" : "191:27-191:30",
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "localId" : "605",
                        "locator" : "191:35-191:54",
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "localId" : "604",
                           "locator" : "191:40-191:53",
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "localId" : "603",
                              "locator" : "191:49-191:52",
                              "name" : "{urn:hl7-org:elm-types:r1}Date",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "intervals",
               "operandTypeSpecifier" : {
                  "localId" : "599",
                  "locator" : "189:46-189:65",
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "localId" : "598",
                     "locator" : "189:51-189:64",
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "localId" : "597",
                        "locator" : "189:60-189:63",
                        "name" : "{urn:hl7-org:elm-types:r1}Date",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }
            } ]
         }, {
            "localId" : "649",
            "locator" : "201:1-211:6",
            "name" : "MedicationPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates the effective duration of the given medication event, whether it is an order, dispense, discharge, or administration. Note that this function is still under development and should not be used.*/"
               }, {
                  "name" : "description",
                  "value" : "Calculates the effective duration of the given medication event, whether it is an order, dispense, discharge, or administration. Note that this function is still under development and should not be used.*/"
               } ],
               "s" : {
                  "r" : "649",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates the effective duration of the given medication event, whether it is an order, dispense, discharge, or administration. Note that this function is still under development and should not be used.*/","define function ","\"MedicationPeriod\"","(","Medication"," " ]
                  }, {
                     "r" : "639",
                     "s" : [ {
                        "value" : [ "Choice<" ]
                     }, {
                        "r" : "635",
                        "s" : [ {
                           "value" : [ "\"Medication, Order\"" ]
                        } ]
                     }, {
                        "value" : [ ",\n       " ]
                     }, {
                        "r" : "636",
                        "s" : [ {
                           "value" : [ "\"Medication, Dispensed\"" ]
                        } ]
                     }, {
                        "value" : [ ",\n       " ]
                     }, {
                        "r" : "637",
                        "s" : [ {
                           "value" : [ "\"Medication, Discharge\"" ]
                        } ]
                     }, {
                        "value" : [ ",\n       " ]
                     }, {
                        "r" : "638",
                        "s" : [ {
                           "value" : [ "\"Medication, Administered\"" ]
                        } ]
                     }, {
                        "value" : [ "\n     >" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "648",
                     "s" : [ {
                        "r" : "648",
                        "s" : [ {
                           "value" : [ "Coalesce","(\n       " ]
                        }, {
                           "r" : "641",
                           "s" : [ {
                              "value" : [ "MedicationOrderPeriod","(" ]
                           }, {
                              "r" : "640",
                              "s" : [ {
                                 "value" : [ "Medication" ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "643",
                           "s" : [ {
                              "value" : [ "MedicationDispensedPeriod","(" ]
                           }, {
                              "r" : "642",
                              "s" : [ {
                                 "value" : [ "Medication" ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "645",
                           "s" : [ {
                              "value" : [ "MedicationDischargePeriod","(" ]
                           }, {
                              "r" : "644",
                              "s" : [ {
                                 "value" : [ "Medication" ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "647",
                           "s" : [ {
                              "value" : [ "MedicationAdministrationPeriod","(" ]
                           }, {
                              "r" : "646",
                              "s" : [ {
                                 "value" : [ "Medication" ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ "\n     )" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "648",
               "locator" : "206:3-211:6",
               "type" : "Coalesce",
               "operand" : [ {
                  "localId" : "641",
                  "locator" : "207:8-207:40",
                  "name" : "MedicationOrderPeriod",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "asType" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                     "type" : "As",
                     "operand" : {
                        "localId" : "640",
                        "locator" : "207:30-207:39",
                        "name" : "Medication",
                        "type" : "OperandRef"
                     }
                  } ]
               }, {
                  "localId" : "643",
                  "locator" : "208:8-208:44",
                  "name" : "MedicationDispensedPeriod",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "asType" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDispensed",
                     "type" : "As",
                     "operand" : {
                        "localId" : "642",
                        "locator" : "208:34-208:43",
                        "name" : "Medication",
                        "type" : "OperandRef"
                     }
                  } ]
               }, {
                  "localId" : "645",
                  "locator" : "209:8-209:44",
                  "name" : "MedicationDischargePeriod",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "asType" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDischarge",
                     "type" : "As",
                     "operand" : {
                        "localId" : "644",
                        "locator" : "209:34-209:43",
                        "name" : "Medication",
                        "type" : "OperandRef"
                     }
                  } ]
               }, {
                  "localId" : "647",
                  "locator" : "210:8-210:49",
                  "name" : "MedicationAdministrationPeriod",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "asType" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered",
                     "type" : "As",
                     "operand" : {
                        "localId" : "646",
                        "locator" : "210:39-210:48",
                        "name" : "Medication",
                        "type" : "OperandRef"
                     }
                  } ]
               } ]
            },
            "operand" : [ {
               "name" : "Medication",
               "operandTypeSpecifier" : {
                  "localId" : "639",
                  "locator" : "201:47-205:6",
                  "type" : "ChoiceTypeSpecifier",
                  "choice" : [ {
                     "localId" : "635",
                     "locator" : "201:54-201:72",
                     "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "localId" : "636",
                     "locator" : "202:8-202:30",
                     "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDispensed",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "localId" : "637",
                     "locator" : "203:8-203:30",
                     "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDischarge",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "localId" : "638",
                     "locator" : "204:8-204:33",
                     "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered",
                     "type" : "NamedTypeSpecifier"
                  } ]
               }
            } ]
         }, {
            "localId" : "685",
            "locator" : "215:1-232:6",
            "name" : "CalculateCumulativeMedicationDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "t" : [ {
                  "name" : "description",
                  "value" : "Calculates the cumulative medication duration of the given medication events"
               }, {
                  "name" : "description",
                  "value" : "Calculates the cumulative medication duration of the given medication events"
               }, {
                  "name" : "comment",
                  "value" : "This function will _roll out_ periods from dispense and administration events, and then collapse across that result and periods from prescriptions. The separation of medications by type should already be done prior to using this function. In addition, calculations that combine dosages from different types of medications (such as Morphine Milligram Equivalent (MME)) require further consideration. Note that this function is still under development and should not be used."
               } ],
               "s" : {
                  "r" : "685",
                  "s" : [ {
                     "value" : [ "/*@description: Calculates the cumulative medication duration of the given medication events\n  @comment: This function will _roll out_ periods from dispense and administration events, and then collapse across that result and periods from prescriptions. The separation of medications by type should already be done prior to using this function. In addition, calculations that combine dosages from different types of medications (such as Morphine Milligram Equivalent (MME)) require further consideration. Note that this function is still under development and should not be used.*/","define function ","\"CalculateCumulativeMedicationDuration\"","(","Medications"," " ]
                  }, {
                     "r" : "655",
                     "s" : [ {
                        "value" : [ "List<" ]
                     }, {
                        "r" : "654",
                        "s" : [ {
                           "value" : [ "Choice<" ]
                        }, {
                           "r" : "650",
                           "s" : [ {
                              "value" : [ "\"Medication, Order\"" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "651",
                           "s" : [ {
                              "value" : [ "\"Medication, Dispensed\"" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "652",
                           "s" : [ {
                              "value" : [ "\"Medication, Discharge\"" ]
                           } ]
                        }, {
                           "value" : [ ",\n       " ]
                        }, {
                           "r" : "653",
                           "s" : [ {
                              "value" : [ "\"Medication, Administered\"" ]
                           } ]
                        }, {
                           "value" : [ "\n     >" ]
                        } ]
                     }, {
                        "value" : [ ">" ]
                     } ]
                  }, {
                     "value" : [ " ):\n  " ]
                  }, {
                     "r" : "684",
                     "s" : [ {
                        "r" : "684",
                        "s" : [ {
                           "value" : [ "CumulativeDuration","(" ]
                        }, {
                           "r" : "683",
                           "s" : [ {
                              "r" : "668",
                              "s" : [ {
                                 "value" : [ "(\n         " ]
                              }, {
                                 "r" : "668",
                                 "s" : [ {
                                    "s" : [ {
                                       "r" : "657",
                                       "s" : [ {
                                          "r" : "656",
                                          "s" : [ {
                                             "s" : [ {
                                                "value" : [ "Medications" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " ","M" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\n           " ]
                                 }, {
                                    "r" : "664",
                                    "s" : [ {
                                       "value" : [ "where " ]
                                    }, {
                                       "r" : "664",
                                       "s" : [ {
                                          "r" : "660",
                                          "s" : [ {
                                             "r" : "658",
                                             "s" : [ {
                                                "value" : [ "M" ]
                                             } ]
                                          }, {
                                             "value" : [ " is " ]
                                          }, {
                                             "r" : "659",
                                             "s" : [ {
                                                "value" : [ "\"Medication, Order\"" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " or " ]
                                       }, {
                                          "r" : "663",
                                          "s" : [ {
                                             "r" : "661",
                                             "s" : [ {
                                                "value" : [ "M" ]
                                             } ]
                                          }, {
                                             "value" : [ " is " ]
                                          }, {
                                             "r" : "662",
                                             "s" : [ {
                                                "value" : [ "\"Medication, Discharge\"" ]
                                             } ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\n           " ]
                                 }, {
                                    "r" : "667",
                                    "s" : [ {
                                       "value" : [ "return " ]
                                    }, {
                                       "r" : "666",
                                       "s" : [ {
                                          "value" : [ "MedicationPeriod","(" ]
                                       }, {
                                          "r" : "665",
                                          "s" : [ {
                                             "value" : [ "M" ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "\n       )" ]
                              } ]
                           }, {
                              "value" : [ "\n         union " ]
                           }, {
                              "r" : "682",
                              "s" : [ {
                                 "value" : [ "(\n           " ]
                              }, {
                                 "r" : "682",
                                 "s" : [ {
                                    "value" : [ "RolloutIntervals","(\n             " ]
                                 }, {
                                    "r" : "681",
                                    "s" : [ {
                                       "s" : [ {
                                          "r" : "670",
                                          "s" : [ {
                                             "r" : "669",
                                             "s" : [ {
                                                "s" : [ {
                                                   "value" : [ "Medications" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " ","M" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "\n               " ]
                                    }, {
                                       "r" : "677",
                                       "s" : [ {
                                          "value" : [ "where " ]
                                       }, {
                                          "r" : "677",
                                          "s" : [ {
                                             "r" : "673",
                                             "s" : [ {
                                                "r" : "671",
                                                "s" : [ {
                                                   "value" : [ "M" ]
                                                } ]
                                             }, {
                                                "value" : [ " is " ]
                                             }, {
                                                "r" : "672",
                                                "s" : [ {
                                                   "value" : [ "\"Medication, Dispensed\"" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " or " ]
                                          }, {
                                             "r" : "676",
                                             "s" : [ {
                                                "r" : "674",
                                                "s" : [ {
                                                   "value" : [ "M" ]
                                                } ]
                                             }, {
                                                "value" : [ " is " ]
                                             }, {
                                                "r" : "675",
                                                "s" : [ {
                                                   "value" : [ "\"Medication, Administered\"" ]
                                                } ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "\n               " ]
                                    }, {
                                       "r" : "680",
                                       "s" : [ {
                                          "value" : [ "return " ]
                                       }, {
                                          "r" : "679",
                                          "s" : [ {
                                             "value" : [ "MedicationPeriod","(" ]
                                          }, {
                                             "r" : "678",
                                             "s" : [ {
                                                "value" : [ "M" ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\n           )" ]
                                 } ]
                              }, {
                                 "value" : [ "\n         )" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\n     )" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "684",
               "locator" : "220:3-232:6",
               "name" : "CumulativeDuration",
               "type" : "FunctionRef",
               "operand" : [ {
                  "localId" : "683",
                  "locator" : "220:22-231:10",
                  "type" : "Union",
                  "operand" : [ {
                     "localId" : "668",
                     "locator" : "220:22-224:8",
                     "type" : "Query",
                     "source" : [ {
                        "localId" : "657",
                        "locator" : "221:10-221:22",
                        "alias" : "M",
                        "expression" : {
                           "localId" : "656",
                           "locator" : "221:10-221:20",
                           "name" : "Medications",
                           "type" : "OperandRef"
                        }
                     } ],
                     "relationship" : [ ],
                     "where" : {
                        "localId" : "664",
                        "locator" : "222:12-222:73",
                        "type" : "Or",
                        "operand" : [ {
                           "localId" : "660",
                           "locator" : "222:18-222:41",
                           "type" : "Is",
                           "operand" : {
                              "localId" : "658",
                              "locator" : "222:18",
                              "name" : "M",
                              "type" : "AliasRef"
                           },
                           "isTypeSpecifier" : {
                              "localId" : "659",
                              "locator" : "222:23-222:41",
                              "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "localId" : "663",
                           "locator" : "222:46-222:73",
                           "type" : "Is",
                           "operand" : {
                              "localId" : "661",
                              "locator" : "222:46",
                              "name" : "M",
                              "type" : "AliasRef"
                           },
                           "isTypeSpecifier" : {
                              "localId" : "662",
                              "locator" : "222:51-222:73",
                              "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDischarge",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     },
                     "return" : {
                        "localId" : "667",
                        "locator" : "223:12-223:37",
                        "expression" : {
                           "localId" : "666",
                           "locator" : "223:19-223:37",
                           "name" : "MedicationPeriod",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "localId" : "665",
                              "locator" : "223:36",
                              "name" : "M",
                              "type" : "AliasRef"
                           } ]
                        }
                     }
                  }, {
                     "localId" : "682",
                     "locator" : "225:16-231:10",
                     "name" : "RolloutIntervals",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "localId" : "681",
                        "locator" : "227:14-229:41",
                        "type" : "Query",
                        "source" : [ {
                           "localId" : "670",
                           "locator" : "227:14-227:26",
                           "alias" : "M",
                           "expression" : {
                              "localId" : "669",
                              "locator" : "227:14-227:24",
                              "name" : "Medications",
                              "type" : "OperandRef"
                           }
                        } ],
                        "relationship" : [ ],
                        "where" : {
                           "localId" : "677",
                           "locator" : "228:16-228:84",
                           "type" : "Or",
                           "operand" : [ {
                              "localId" : "673",
                              "locator" : "228:22-228:49",
                              "type" : "Is",
                              "operand" : {
                                 "localId" : "671",
                                 "locator" : "228:22",
                                 "name" : "M",
                                 "type" : "AliasRef"
                              },
                              "isTypeSpecifier" : {
                                 "localId" : "672",
                                 "locator" : "228:27-228:49",
                                 "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDispensed",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "localId" : "676",
                              "locator" : "228:54-228:84",
                              "type" : "Is",
                              "operand" : {
                                 "localId" : "674",
                                 "locator" : "228:54",
                                 "name" : "M",
                                 "type" : "AliasRef"
                              },
                              "isTypeSpecifier" : {
                                 "localId" : "675",
                                 "locator" : "228:59-228:84",
                                 "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        },
                        "return" : {
                           "localId" : "680",
                           "locator" : "229:16-229:41",
                           "expression" : {
                              "localId" : "679",
                              "locator" : "229:23-229:41",
                              "name" : "MedicationPeriod",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "localId" : "678",
                                 "locator" : "229:40",
                                 "name" : "M",
                                 "type" : "AliasRef"
                              } ]
                           }
                        }
                     } ]
                  } ]
               } ]
            },
            "operand" : [ {
               "name" : "Medications",
               "operandTypeSpecifier" : {
                  "localId" : "655",
                  "locator" : "215:69-219:7",
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "localId" : "654",
                     "locator" : "215:74-219:6",
                     "type" : "ChoiceTypeSpecifier",
                     "choice" : [ {
                        "localId" : "650",
                        "locator" : "215:81-215:99",
                        "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "localId" : "651",
                        "locator" : "216:8-216:30",
                        "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDispensed",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "localId" : "652",
                        "locator" : "217:8-217:30",
                        "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationDischarge",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "localId" : "653",
                        "locator" : "218:8-218:33",
                        "name" : "{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered",
                        "type" : "NamedTypeSpecifier"
                     } ]
                  }
               }
            } ]
         } ]
      }
   }
}