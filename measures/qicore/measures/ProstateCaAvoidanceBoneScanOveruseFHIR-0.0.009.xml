<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,EnableResultTypes" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="79">
         <a:s>library ProstateCaAvoidanceBoneScanOveruseFHIR version '0.0.009'</a:s>
      </a:s>
   </annotation>
   <identifier id="ProstateCaAvoidanceBoneScanOveruseFHIR" version="0.0.009"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:28" localIdentifier="QICore" uri="http://hl7.org/fhir">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>QICore</a:s>
               </a:s>
               <a:s> version '4.1.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:56" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.1.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.1.000' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="6:1-6:61" localIdentifier="SDE" path="SupplementalDataElements" version="3.1.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>SupplementalDataElements</a:s>
               </a:s>
               <a:s> version '3.1.000' called SDE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="7:1-7:54" localIdentifier="FHIRCommon" path="FHIRCommon" version="4.1.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRCommon</a:s>
               </a:s>
               <a:s> version '4.1.000' called FHIRCommon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="8:1-8:58" localIdentifier="QICoreCommon" path="QICoreCommon" version="1.2.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>QICoreCommon</a:s>
               </a:s>
               <a:s> version '1.2.000' called QICoreCommon</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="30" locator="28:1-28:49" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="30">
               <a:s>parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="29">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="28">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <parameterTypeSpecifier localId="29" locator="28:32-28:49" xsi:type="IntervalTypeSpecifier">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <pointType localId="28" locator="28:41-28:48" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="6" locator="10:1-10:38" resultTypeName="t:CodeSystem" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>codesystem &quot;LOINC&quot;: 'http://loinc.org'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="11:1-11:47" resultTypeName="t:CodeSystem" name="SNOMEDCT" id="http://snomed.info/sct" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>codesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="8" locator="13:1-13:90" resultTypeName="t:ValueSet" name="Bone Scan" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.320" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>valueset &quot;Bone Scan&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.320'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="14:1-14:112" resultTypeName="t:ValueSet" name="Pain Related to Prostate Cancer" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.451" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>valueset &quot;Pain Related to Prostate Cancer&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.451'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="15:1-15:96" resultTypeName="t:ValueSet" name="Prostate Cancer" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.319" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>valueset &quot;Prostate Cancer&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.319'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="16:1-16:106" resultTypeName="t:ValueSet" name="Prostate Cancer Treatment" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.398" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>valueset &quot;Prostate Cancer Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.398'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="12" locator="17:1-17:111" resultTypeName="t:ValueSet" name="Prostate Specific Antigen Test" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.401" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="12">
               <a:s>valueset &quot;Prostate Specific Antigen Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.401'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="13" locator="18:1-18:96" resultTypeName="t:ValueSet" name="Salvage Therapy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.399" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>valueset &quot;Salvage Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.399'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="15" locator="20:1-20:116" resultTypeName="t:Code" name="Gleason score in Specimen Qualitative" id="35266-6" display="Gleason score in Specimen Qualitative" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="15">
               <a:s>code &quot;Gleason score in Specimen Qualitative&quot;: '35266-6' from </a:s>
               <a:s r="14">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Gleason score in Specimen Qualitative'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="14" locator="20:62-20:68" resultTypeName="t:CodeSystem" name="LOINC"/>
      </def>
      <def localId="17" locator="21:1-21:253" resultTypeName="t:Code" name="Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)" id="433351000124101" display="Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="17">
               <a:s>code &quot;Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)&quot;: '433351000124101' from </a:s>
               <a:s r="16">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="16" locator="21:133-21:142" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
      <def localId="19" locator="22:1-22:261" resultTypeName="t:Code" name="Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)" id="433361000124104" display="Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="19">
               <a:s>code &quot;Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)&quot;: '433361000124104' from </a:s>
               <a:s r="18">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="18" locator="22:137-22:146" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
      <def localId="21" locator="23:1-23:135" resultTypeName="t:Code" name="Procedure reason record (record artifact)" id="433611000124109" display="Procedure reason record (record artifact)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="21">
               <a:s>code &quot;Procedure reason record (record artifact)&quot;: '433611000124109' from </a:s>
               <a:s r="20">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Procedure reason record (record artifact)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="20" locator="23:74-23:83" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
      <def localId="23" locator="24:1-24:231" resultTypeName="t:Code" name="T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)" id="369833007" display="T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="23">
               <a:s>code &quot;T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)&quot;: '369833007' from </a:s>
               <a:s r="22">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="22" locator="24:119-24:128" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
      <def localId="25" locator="25:1-25:219" resultTypeName="t:Code" name="T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)" id="369834001" display="T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="25">
               <a:s>code &quot;T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)&quot;: '369834001' from </a:s>
               <a:s r="24">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="24" locator="25:113-25:122" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
      <def localId="27" locator="26:1-26:105" resultTypeName="t:Code" name="Tumor staging (tumor staging)" id="254292007" display="Tumor staging (tumor staging)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="27">
               <a:s>code &quot;Tumor staging (tumor staging)&quot;: '254292007' from </a:s>
               <a:s r="26">
                  <a:s>&quot;SNOMEDCT&quot;</a:s>
               </a:s>
               <a:s> display 'Tumor staging (tumor staging)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="26" locator="26:56-26:65" resultTypeName="t:CodeSystem" name="SNOMEDCT"/>
      </def>
   </codes>
   <contexts>
      <def locator="30:1-30:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="30:1-30:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="30:1-30:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="33" locator="32:1-33:21" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="33">
               <a:s>define &quot;SDE Ethnicity&quot;:
  </a:s>
               <a:s r="32">
                  <a:s r="31">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="32">
                     <a:s>&quot;SDE Ethnicity&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="codes">
               <elementType xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </element>
            <element name="display">
               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="32" locator="33:3-33:21" name="SDE Ethnicity" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="codes">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="display">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="36" locator="35:1-36:17" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="36">
               <a:s>define &quot;SDE Payer&quot;:
  </a:s>
               <a:s r="35">
                  <a:s r="34">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="35">
                     <a:s>&quot;SDE Payer&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="code">
                  <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="period">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="35" locator="36:3-36:17" name="SDE Payer" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="code">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="period">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="39" locator="38:1-39:16" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="39">
               <a:s>define &quot;SDE Race&quot;:
  </a:s>
               <a:s r="38">
                  <a:s r="37">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="38">
                     <a:s>&quot;SDE Race&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="codes">
               <elementType xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </element>
            <element name="display">
               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="38" locator="39:3-39:16" name="SDE Race" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="codes">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="display">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="42" locator="41:1-42:15" resultTypeName="t:Code" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="42">
               <a:s>define &quot;SDE Sex&quot;:
  </a:s>
               <a:s r="41">
                  <a:s r="40">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="41">
                     <a:s>&quot;SDE Sex&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="41" locator="42:3-42:15" resultTypeName="t:Code" name="SDE Sex" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="59" locator="103:1-106:61" name="Prostate Cancer Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="59">
               <a:s>define &quot;Prostate Cancer Diagnosis&quot;:
  </a:s>
               <a:s r="58">
                  <a:s>
                     <a:s r="46">
                        <a:s r="45">
                           <a:s r="45">
                              <a:s>[Condition: </a:s>
                              <a:s>
                                 <a:s>&quot;Prostate Cancer&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ProstateCancer</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="57">
                     <a:s>where </a:s>
                     <a:s r="57">
                        <a:s r="51">
                           <a:s r="49">
                              <a:s r="47">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="49">
                                 <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                 <a:s r="48">
                                    <a:s>ProstateCancer</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="51"> overlaps day of </a:s>
                           <a:s r="50">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="56">
                           <a:s r="53">
                              <a:s r="52">
                                 <a:s>ProstateCancer</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="53">
                                 <a:s>clinicalStatus</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="55">
                              <a:s r="54">
                                 <a:s>FHIRCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="55">
                                 <a:s>&quot;active&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="58" locator="104:3-106:61" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="46" locator="104:3-104:47" alias="ProstateCancer">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="45" locator="104:3-104:32" dataType="fhir:Condition" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="104:15-104:31" resultTypeName="t:ValueSet" name="Prostate Cancer" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="57" locator="105:5-106:61" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="51" locator="105:11-105:101" resultTypeName="t:Boolean" precision="Day" xsi:type="Overlaps">
                  <operand localId="49" locator="105:11-105:64" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand localId="48" locator="105:49-105:62" resultTypeName="fhir:Condition" name="ProstateCancer" xsi:type="AliasRef"/>
                  </operand>
                  <operand localId="50" locator="105:82-105:101" name="Measurement Period" xsi:type="ParameterRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
               <operand localId="56" locator="106:11-106:61" resultTypeName="t:Boolean" xsi:type="Equivalent">
                  <operand localId="53" locator="106:11-106:39" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand path="clinicalStatus" scope="ProstateCancer" xsi:type="Property"/>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand localId="55" locator="106:43-106:61" resultTypeName="t:Code" name="active" libraryName="FHIRCommon" xsi:type="CodeRef"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="79" locator="116:1-121:3" resultTypeName="t:Boolean" name="Has Diagnosis of Pain Related to Prostate Cancer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="79">
               <a:s>define &quot;Has Diagnosis of Pain Related to Prostate Cancer&quot;:
  </a:s>
               <a:s r="78">
                  <a:s>exists </a:s>
                  <a:s r="77">
                     <a:s>( </a:s>
                     <a:s r="77">
                        <a:s>
                           <a:s r="44">
                              <a:s r="43">
                                 <a:s r="43">
                                    <a:s>[&quot;Condition&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Pain Related to Prostate Cancer&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ProstateCancerPain</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="76">
                           <a:s>with </a:s>
                           <a:s r="61">
                              <a:s r="60">
                                 <a:s>
                                    <a:s>&quot;Prostate Cancer Diagnosis&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ActiveProstateCancer</a:s>
                           </a:s>
                           <a:s>
        such that </a:s>
                           <a:s r="75">
                              <a:s r="69">
                                 <a:s r="64">
                                    <a:s r="62">
                                       <a:s>QICoreCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="64">
                                       <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                       <a:s r="63">
                                          <a:s>ProstateCancerPain</a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="69"> starts after </a:s>
                                 <a:s r="68">
                                    <a:s>start of </a:s>
                                    <a:s r="67">
                                       <a:s r="65">
                                          <a:s>QICoreCommon</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="67">
                                          <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                          <a:s r="66">
                                             <a:s>ActiveProstateCancer</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          and </a:s>
                              <a:s r="74">
                                 <a:s r="71">
                                    <a:s r="70">
                                       <a:s>ProstateCancerPain</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="71">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="73">
                                    <a:s r="72">
                                       <a:s>FHIRCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="73">
                                       <a:s>&quot;active&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="78" locator="117:3-121:3" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="77" locator="117:10-121:3" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="44" locator="117:12-117:78" alias="ProstateCancerPain">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="43" locator="117:12-117:59" dataType="fhir:Condition" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <codes locator="117:26-117:58" resultTypeName="t:ValueSet" name="Pain Related to Prostate Cancer" preserve="true" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="76" locator="118:7-120:69" alias="ActiveProstateCancer" xsi:type="With">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="60" locator="118:12-118:38" name="Prostate Cancer Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
                  <suchThat localId="75" locator="119:19-120:69" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="69" locator="119:19-119:159" resultTypeName="t:Boolean" xsi:type="After">
                        <operand locator="119:78-119:83" xsi:type="Start">
                           <operand localId="64" locator="119:19-119:76" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand localId="63" locator="119:57-119:74" resultTypeName="fhir:Condition" name="ProstateCancerPain" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                        <operand localId="68" locator="119:91-119:159" resultTypeName="t:DateTime" xsi:type="Start">
                           <operand localId="67" locator="119:100-119:159" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand localId="66" locator="119:138-119:157" resultTypeName="fhir:Condition" name="ActiveProstateCancer" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="74" locator="120:15-120:69" resultTypeName="t:Boolean" xsi:type="Equivalent">
                        <operand localId="71" locator="120:15-120:47" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand path="clinicalStatus" scope="ProstateCancerPain" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <operand localId="73" locator="120:51-120:69" resultTypeName="t:Code" name="active" libraryName="FHIRCommon" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="97" locator="55:1-59:3" resultTypeName="t:Boolean" name="Has Salvage Therapy Performed After Prostate Cancer Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="97">
               <a:s>define &quot;Has Salvage Therapy Performed After Prostate Cancer Diagnosis&quot;:
  </a:s>
               <a:s r="96">
                  <a:s>exists </a:s>
                  <a:s r="95">
                     <a:s>( </a:s>
                     <a:s r="95">
                        <a:s>
                           <a:s r="82">
                              <a:s r="81">
                                 <a:s r="81">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Salvage Therapy&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> SalvageTherapy</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="94">
                           <a:s>with </a:s>
                           <a:s r="84">
                              <a:s r="83">
                                 <a:s>
                                    <a:s>&quot;Prostate Cancer Diagnosis&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ActiveProstateCancer</a:s>
                           </a:s>
                           <a:s>
        such that </a:s>
                           <a:s r="93">
                              <a:s r="88">
                                 <a:s r="85">
                                    <a:s>QICoreCommon</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="88">
                                    <a:s>&quot;ToInterval&quot; ( </a:s>
                                    <a:s r="87">
                                       <a:s r="86">
                                          <a:s>SalvageTherapy</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="87">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="93"> starts after </a:s>
                              <a:s r="92">
                                 <a:s>start of </a:s>
                                 <a:s r="91">
                                    <a:s r="89">
                                       <a:s>QICoreCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="91">
                                       <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                       <a:s r="90">
                                          <a:s>ActiveProstateCancer</a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="96" locator="56:3-59:3" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="95" locator="56:10-59:3" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="82" locator="56:12-56:58" alias="SalvageTherapy">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="81" locator="56:12-56:43" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <codes locator="56:26-56:42" resultTypeName="t:ValueSet" name="Salvage Therapy" preserve="true" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <relationship localId="94" locator="57:7-58:155" alias="ActiveProstateCancer" xsi:type="With">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="83" locator="57:12-57:38" name="Prostate Cancer Diagnosis" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
                  <suchThat localId="93" locator="58:19-58:155" resultTypeName="t:Boolean" xsi:type="After">
                     <operand locator="58:74-58:79" xsi:type="Start">
                        <operand localId="88" locator="58:19-58:72" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <operand localId="87" locator="58:47-58:70" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                              <operand path="performed" scope="SalvageTherapy" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="92" locator="58:87-58:155" resultTypeName="t:DateTime" xsi:type="Start">
                        <operand localId="91" locator="58:96-58:155" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <operand localId="90" locator="58:134-58:153" resultTypeName="fhir:Condition" name="ActiveProstateCancer" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="115" locator="98:1-101:147" name="Bone Scan Study Performed" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="115">
               <a:s>define &quot;Bone Scan Study Performed&quot;:
  </a:s>
               <a:s r="114">
                  <a:s>
                     <a:s r="101">
                        <a:s r="100">
                           <a:s r="100">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>&quot;Bone Scan&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> BoneScan</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="113">
                     <a:s>with </a:s>
                     <a:s r="103">
                        <a:s r="102">
                           <a:s>
                              <a:s>&quot;Prostate Cancer Diagnosis&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ActiveProstateCancer</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="112">
                        <a:s r="107">
                           <a:s r="104">
                              <a:s>QICoreCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="107">
                              <a:s>&quot;ToInterval&quot; ( </a:s>
                              <a:s r="106">
                                 <a:s r="105">
                                    <a:s>BoneScan</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="106">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="112"> starts after </a:s>
                        <a:s r="111">
                           <a:s>start of </a:s>
                           <a:s r="110">
                              <a:s r="108">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="110">
                                 <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                 <a:s r="109">
                                    <a:s>ActiveProstateCancer</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="114" locator="99:3-101:147" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="101" locator="99:3-99:37" alias="BoneScan">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="100" locator="99:3-99:28" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="99:17-99:27" resultTypeName="t:ValueSet" name="Bone Scan" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <relationship localId="113" locator="100:5-101:147" alias="ActiveProstateCancer" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="102" locator="100:10-100:36" name="Prostate Cancer Diagnosis" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="112" locator="101:17-101:147" resultTypeName="t:Boolean" xsi:type="After">
                  <operand locator="101:66-101:71" xsi:type="Start">
                     <operand localId="107" locator="101:17-101:64" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand xsi:type="Case">
                           <caseItem>
                              <when isType="t:DateTime" xsi:type="Is">
                                 <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                 </operand>
                              </when>
                              <then xsi:type="As">
                                 <operand asType="t:DateTime" xsi:type="As">
                                    <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <caseItem>
                              <when xsi:type="Is">
                                 <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                 </operand>
                                 <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </isTypeSpecifier>
                              </when>
                              <then xsi:type="As">
                                 <operand xsi:type="As">
                                    <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                    </operand>
                                    <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </asTypeSpecifier>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <caseItem>
                              <when isType="t:DateTime" xsi:type="Is">
                                 <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                 </operand>
                              </when>
                              <then xsi:type="As">
                                 <operand asType="t:DateTime" xsi:type="As">
                                    <operand localId="106" locator="101:45-101:62" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="BoneScan" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <else xsi:type="Null">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                           </else>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="111" locator="101:79-101:147" resultTypeName="t:DateTime" xsi:type="Start">
                     <operand localId="110" locator="101:88-101:147" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="109" locator="101:126-101:145" resultTypeName="fhir:Condition" name="ActiveProstateCancer" xsi:type="AliasRef"/>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="124" locator="94:1-96:84" resultTypeName="t:Boolean" name="Has Bone Scan Study Performed with Documented Reason" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="124">
               <a:s>define &quot;Has Bone Scan Study Performed with Documented Reason&quot;:
  </a:s>
               <a:s r="123">
                  <a:s>exists </a:s>
                  <a:s r="122">
                     <a:s>
                        <a:s r="117">
                           <a:s r="116">
                              <a:s>
                                 <a:s>&quot;Bone Scan Study Performed&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> BoneScanAfterDiagnosis</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="121">
                        <a:s>where </a:s>
                        <a:s r="121">
                           <a:s r="119">
                              <a:s r="118">
                                 <a:s>BoneScanAfterDiagnosis</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="119">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="120">
                              <a:s>&quot;Procedure reason record (record artifact)&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="123" locator="95:3-96:84" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="122" locator="95:10-96:84" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="117" locator="95:10-95:59" alias="BoneScanAfterDiagnosis">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="116" locator="95:10-95:36" name="Bone Scan Study Performed" xsi:type="ExpressionRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </expression>
               </source>
               <where localId="121" locator="96:5-96:84" resultTypeName="t:Boolean" xsi:type="Equivalent">
                  <operand asType="t:Concept" xsi:type="As">
                     <operand localId="119" locator="96:11-96:38" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                        <operand path="value" scope="BoneScanAfterDiagnosis" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand localId="120" locator="96:42-96:84" resultTypeName="t:Code" name="Procedure reason record (record artifact)" xsi:type="CodeRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="127" locator="44:1-47:61" resultTypeName="t:Boolean" name="Denominator Exceptions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="127">
               <a:s>define &quot;Denominator Exceptions&quot;:
  </a:s>
               <a:s r="126">
                  <a:s r="99">
                     <a:s r="80">
                        <a:s>&quot;Has Diagnosis of Pain Related to Prostate Cancer&quot;</a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="98">
                        <a:s>&quot;Has Salvage Therapy Performed After Prostate Cancer Diagnosis&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="125">
                     <a:s>&quot;Has Bone Scan Study Performed with Documented Reason&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="126" locator="45:3-47:61" resultTypeName="t:Boolean" xsi:type="Or">
            <operand localId="99" locator="45:3-46:70" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="80" locator="45:3-45:52" resultTypeName="t:Boolean" name="Has Diagnosis of Pain Related to Prostate Cancer" xsi:type="ExpressionRef"/>
               <operand localId="98" locator="46:8-46:70" resultTypeName="t:Boolean" name="Has Salvage Therapy Performed After Prostate Cancer Diagnosis" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="125" locator="47:8-47:61" resultTypeName="t:Boolean" name="Has Bone Scan Study Performed with Documented Reason" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="144" locator="49:1-53:3" resultTypeName="fhir:Procedure" name="First Prostate Cancer Treatment During Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="144">
               <a:s>define &quot;First Prostate Cancer Treatment During Measurement Period&quot;:
  </a:s>
               <a:s r="143">
                  <a:s>First(</a:s>
                  <a:s r="142">
                     <a:s>
                        <a:s r="129">
                           <a:s r="128">
                              <a:s r="128">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Prostate Cancer Treatment&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> ProstateCancerTreatment</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
      </a:s>
                     <a:s r="135">
                        <a:s>where </a:s>
                        <a:s r="135">
                           <a:s r="133">
                              <a:s r="130">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="133">
                                 <a:s>&quot;ToInterval&quot;(</a:s>
                                 <a:s r="132">
                                    <a:s r="131">
                                       <a:s>ProstateCancerTreatment</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="132">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="135"> ends during </a:s>
                           <a:s r="134">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
      </a:s>
                     <a:s r="141">
                        <a:s>sort by </a:s>
                        <a:s r="140">
                           <a:s r="139">
                              <a:s>start of </a:s>
                              <a:s r="138">
                                 <a:s r="136">
                                    <a:s>QICoreCommon</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="138">
                                    <a:s>&quot;ToInterval&quot;(</a:s>
                                    <a:s r="137">
                                       <a:s>performed</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="143" locator="50:3-53:3" resultTypeName="fhir:Procedure" xsi:type="First">
            <source localId="142" locator="50:9-52:59" xsi:type="Query">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <source localId="129" locator="50:9-50:74" alias="ProstateCancerTreatment">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <expression localId="128" locator="50:9-50:50" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <codes locator="50:23-50:49" resultTypeName="t:ValueSet" name="Prostate Cancer Treatment" preserve="true" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="135" locator="51:7-51:105" resultTypeName="t:Boolean" xsi:type="In">
                  <operand locator="51:74-51:77" xsi:type="End">
                     <operand localId="133" locator="51:13-51:72" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="132" locator="51:39-51:71" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="performed" scope="ProstateCancerTreatment" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="134" locator="51:86-51:105" name="Measurement Period" xsi:type="ParameterRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </where>
               <sort localId="141" locator="52:7-52:59">
                  <by localId="140" locator="52:15-52:59" resultTypeName="t:DateTime" direction="asc" xsi:type="ByExpression">
                     <expression localId="139" locator="52:15-52:59" resultTypeName="t:DateTime" xsi:type="Start">
                        <operand localId="138" locator="52:24-52:59" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <operand localId="137" locator="52:50-52:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                              <operand name="performed" xsi:type="IdentifierRef"/>
                           </operand>
                        </operand>
                     </expression>
                  </by>
               </sort>
            </source>
         </expression>
      </def>
      <def localId="147" locator="61:1-62:36" resultTypeName="t:Boolean" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="147">
               <a:s>define &quot;Initial Population&quot;:
  </a:s>
               <a:s r="146">
                  <a:s>exists </a:s>
                  <a:s r="145">
                     <a:s>&quot;Prostate Cancer Diagnosis&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="146" locator="62:3-62:36" resultTypeName="t:Boolean" xsi:type="Exists">
            <operand localId="145" locator="62:10-62:36" name="Prostate Cancer Diagnosis" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="180" locator="64:1-70:49" resultTypeName="t:Boolean" name="Most Recent Gleason Score is Low" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="180">
               <a:s>define &quot;Most Recent Gleason Score is Low&quot;:
  </a:s>
               <a:s r="179">
                  <a:s>
                     <a:s r="171">
                        <a:s r="170">
                           <a:s>( </a:s>
                           <a:s r="170">
                              <a:s>Last(</a:s>
                              <a:s r="169">
                                 <a:s>
                                    <a:s r="149">
                                       <a:s r="148">
                                          <a:s r="148">
                                             <a:s>[&quot;Observation&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Gleason score in Specimen Qualitative&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> GleasonScore</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="162">
                                    <a:s>with </a:s>
                                    <a:s r="151">
                                       <a:s r="150">
                                          <a:s>
                                             <a:s>&quot;First Prostate Cancer Treatment During Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> FirstProstateCancerTreatment</a:s>
                                    </a:s>
                                    <a:s>
        such that </a:s>
                                    <a:s r="161">
                                       <a:s r="155">
                                          <a:s r="152">
                                             <a:s>QICoreCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="155">
                                             <a:s>&quot;ToInterval&quot;(</a:s>
                                             <a:s r="154">
                                                <a:s r="153">
                                                   <a:s>GleasonScore</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="154">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="161"> starts before </a:s>
                                       <a:s r="160">
                                          <a:s>start of </a:s>
                                          <a:s r="159">
                                             <a:s r="156">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="159">
                                                <a:s>&quot;ToInterval&quot;(</a:s>
                                                <a:s r="158">
                                                   <a:s r="157">
                                                      <a:s>FirstProstateCancerTreatment</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="158">
                                                      <a:s>performed</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="168">
                                    <a:s>sort by </a:s>
                                    <a:s r="167">
                                       <a:s r="166">
                                          <a:s>start of </a:s>
                                          <a:s r="165">
                                             <a:s r="163">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="165">
                                                <a:s>&quot;ToInterval&quot;(</a:s>
                                                <a:s r="164">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> LastGleasonScore</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="178">
                     <a:s>return </a:s>
                     <a:s r="177">
                        <a:s r="175">
                           <a:s r="173">
                              <a:s r="172">
                                 <a:s>LastGleasonScore</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="173">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> as </a:s>
                           <a:s r="174">
                              <a:s>Integer</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="176"> &lt;= 6</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="179" locator="65:3-70:49" resultTypeName="t:Boolean" xsi:type="Query">
            <source localId="171" locator="65:3-69:22" resultTypeName="fhir:Observation" alias="LastGleasonScore">
               <expression localId="170" locator="65:3-69:5" resultTypeName="fhir:Observation" xsi:type="Last">
                  <source localId="169" locator="65:10-68:59" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="149" locator="65:10-65:78" alias="GleasonScore">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="148" locator="65:10-65:65" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <codes xsi:type="ToList">
                              <operand locator="65:26-65:64" resultTypeName="t:Code" name="Gleason score in Specimen Qualitative" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <relationship localId="162" locator="66:7-67:156" resultTypeName="fhir:Procedure" alias="FirstProstateCancerTreatment" xsi:type="With">
                        <expression localId="150" locator="66:12-66:70" resultTypeName="fhir:Procedure" name="First Prostate Cancer Treatment During Measurement Period" xsi:type="ExpressionRef"/>
                        <suchThat localId="161" locator="67:19-67:156" resultTypeName="t:Boolean" xsi:type="Before">
                           <operand locator="67:69-67:74" xsi:type="Start">
                              <operand localId="155" locator="67:19-67:67" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Case">
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when xsi:type="Is">
                                          <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                          </operand>
                                          <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </isTypeSpecifier>
                                       </when>
                                       <then xsi:type="As">
                                          <operand xsi:type="As">
                                             <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                             </operand>
                                             <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="154" locator="67:45-67:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="GleasonScore" xsi:type="Property"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <else xsi:type="Null">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </else>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="160" locator="67:83-67:156" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="159" locator="67:92-67:156" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand localId="158" locator="67:118-67:155" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                    </resultTypeSpecifier>
                                    <operand path="performed" scope="FirstProstateCancerTreatment" xsi:type="Property"/>
                                 </operand>
                              </operand>
                           </operand>
                        </suchThat>
                     </relationship>
                     <sort localId="168" locator="68:7-68:59">
                        <by localId="167" locator="68:15-68:59" resultTypeName="t:DateTime" direction="asc" xsi:type="ByExpression">
                           <expression localId="166" locator="68:15-68:59" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="165" locator="68:24-68:59" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Case">
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when xsi:type="Is">
                                          <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                          <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </isTypeSpecifier>
                                       </when>
                                       <then xsi:type="As">
                                          <operand xsi:type="As">
                                             <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                             <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="164" locator="68:50-68:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <else xsi:type="Null">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </else>
                                 </operand>
                              </operand>
                           </expression>
                        </by>
                     </sort>
                  </source>
               </expression>
            </source>
            <return localId="178" locator="70:5-70:49" resultTypeName="t:Boolean">
               <expression localId="177" locator="70:12-70:49" resultTypeName="t:Boolean" xsi:type="LessOrEqual">
                  <operand localId="175" locator="70:12-70:44" resultTypeName="t:Integer" strict="false" xsi:type="As">
                     <operand localId="173" locator="70:12-70:33" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                        <operand path="value" scope="LastGleasonScore" xsi:type="Property"/>
                     </operand>
                     <asTypeSpecifier localId="174" locator="70:38-70:44" resultTypeName="t:Integer" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </operand>
                  <operand localId="176" locator="70:49" resultTypeName="t:Integer" valueType="t:Integer" value="6" xsi:type="Literal"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="225" locator="72:1-82:5" resultTypeName="fhir:Observation" name="Most Recent Prostate Cancer Staging Tumor Size T1a to T2a" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="225">
               <a:s>define &quot;Most Recent Prostate Cancer Staging Tumor Size T1a to T2a&quot;:
  </a:s>
               <a:s r="224">
                  <a:s>
                     <a:s r="204">
                        <a:s r="203">
                           <a:s>( </a:s>
                           <a:s r="203">
                              <a:s>Last(</a:s>
                              <a:s r="202">
                                 <a:s>
                                    <a:s r="182">
                                       <a:s r="181">
                                          <a:s r="181">
                                             <a:s>[&quot;Observation&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Tumor staging (tumor staging)&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ProstateCancerStaging</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="195">
                                    <a:s>with </a:s>
                                    <a:s r="184">
                                       <a:s r="183">
                                          <a:s>
                                             <a:s>&quot;First Prostate Cancer Treatment During Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> FirstProstateCancerTreatment</a:s>
                                    </a:s>
                                    <a:s>
        such that </a:s>
                                    <a:s r="194">
                                       <a:s r="188">
                                          <a:s r="185">
                                             <a:s>QICoreCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="188">
                                             <a:s>&quot;ToInterval&quot;(</a:s>
                                             <a:s r="187">
                                                <a:s r="186">
                                                   <a:s>ProstateCancerStaging</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="187">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="194"> starts before </a:s>
                                       <a:s r="193">
                                          <a:s>start of </a:s>
                                          <a:s r="192">
                                             <a:s r="189">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="192">
                                                <a:s>&quot;ToInterval&quot;(</a:s>
                                                <a:s r="191">
                                                   <a:s r="190">
                                                      <a:s>FirstProstateCancerTreatment</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="191">
                                                      <a:s>performed</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="201">
                                    <a:s>sort by </a:s>
                                    <a:s r="200">
                                       <a:s r="199">
                                          <a:s>start of </a:s>
                                          <a:s r="198">
                                             <a:s r="196">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="198">
                                                <a:s>&quot;ToInterval&quot;(</a:s>
                                                <a:s r="197">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> LastProstateCancerStaging</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="223">
                     <a:s>where </a:s>
                     <a:s r="223">
                        <a:s>( </a:s>
                        <a:s r="223">
                           <a:s r="218">
                              <a:s r="213">
                                 <a:s r="208">
                                    <a:s r="206">
                                       <a:s r="205">
                                          <a:s>LastProstateCancerStaging</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="206">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="207">
                                       <a:s>&quot;T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
        or </a:s>
                                 <a:s r="212">
                                    <a:s r="210">
                                       <a:s r="209">
                                          <a:s>LastProstateCancerStaging</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="210">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="211">
                                       <a:s>&quot;T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        or </a:s>
                              <a:s r="217">
                                 <a:s r="215">
                                    <a:s r="214">
                                       <a:s>LastProstateCancerStaging</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="215">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="216">
                                    <a:s>&quot;Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        or </a:s>
                           <a:s r="222">
                              <a:s r="220">
                                 <a:s r="219">
                                    <a:s>LastProstateCancerStaging</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="220">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="221">
                                 <a:s>&quot;Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="224" locator="73:3-82:5" resultTypeName="fhir:Observation" xsi:type="Query">
            <source localId="204" locator="73:3-77:31" resultTypeName="fhir:Observation" alias="LastProstateCancerStaging">
               <expression localId="203" locator="73:3-77:5" resultTypeName="fhir:Observation" xsi:type="Last">
                  <source localId="202" locator="73:10-76:59" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="182" locator="73:10-73:79" alias="ProstateCancerStaging">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="181" locator="73:10-73:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <codes xsi:type="ToList">
                              <operand locator="73:26-73:56" resultTypeName="t:Code" name="Tumor staging (tumor staging)" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <relationship localId="195" locator="74:7-75:165" resultTypeName="fhir:Procedure" alias="FirstProstateCancerTreatment" xsi:type="With">
                        <expression localId="183" locator="74:12-74:70" resultTypeName="fhir:Procedure" name="First Prostate Cancer Treatment During Measurement Period" xsi:type="ExpressionRef"/>
                        <suchThat localId="194" locator="75:19-75:165" resultTypeName="t:Boolean" xsi:type="Before">
                           <operand locator="75:78-75:83" xsi:type="Start">
                              <operand localId="188" locator="75:19-75:76" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Case">
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when xsi:type="Is">
                                          <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                          <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </isTypeSpecifier>
                                       </when>
                                       <then xsi:type="As">
                                          <operand xsi:type="As">
                                             <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                             </operand>
                                             <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="187" locator="75:45-75:75" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand path="effective" scope="ProstateCancerStaging" xsi:type="Property"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <else xsi:type="Null">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </else>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="193" locator="75:92-75:165" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="192" locator="75:101-75:165" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand localId="191" locator="75:127-75:164" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                    </resultTypeSpecifier>
                                    <operand path="performed" scope="FirstProstateCancerTreatment" xsi:type="Property"/>
                                 </operand>
                              </operand>
                           </operand>
                        </suchThat>
                     </relationship>
                     <sort localId="201" locator="76:7-76:59">
                        <by localId="200" locator="76:15-76:59" resultTypeName="t:DateTime" direction="asc" xsi:type="ByExpression">
                           <expression localId="199" locator="76:15-76:59" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="198" locator="76:24-76:59" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Case">
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when xsi:type="Is">
                                          <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                          <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </isTypeSpecifier>
                                       </when>
                                       <then xsi:type="As">
                                          <operand xsi:type="As">
                                             <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                             <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="197" locator="76:50-76:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <else xsi:type="Null">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </else>
                                 </operand>
                              </operand>
                           </expression>
                        </by>
                     </sort>
                  </source>
               </expression>
            </source>
            <where localId="223" locator="78:5-82:5" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="218" locator="78:13-80:147" resultTypeName="t:Boolean" xsi:type="Or">
                  <operand localId="213" locator="78:13-79:133" resultTypeName="t:Boolean" xsi:type="Or">
                     <operand localId="208" locator="78:13-78:140" resultTypeName="t:Boolean" xsi:type="Equivalent">
                        <operand asType="t:Concept" xsi:type="As">
                           <operand localId="206" locator="78:13-78:43" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                              <operand path="value" scope="LastProstateCancerStaging" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <operand localId="207" locator="78:47-78:140" resultTypeName="t:Code" name="T1a: Prostate tumor incidental histologic finding in 5% or less of tissue resected (finding)" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="212" locator="79:12-79:133" resultTypeName="t:Boolean" xsi:type="Equivalent">
                        <operand asType="t:Concept" xsi:type="As">
                           <operand localId="210" locator="79:12-79:42" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                              <operand path="value" scope="LastProstateCancerStaging" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand xsi:type="ToConcept">
                           <operand localId="211" locator="79:46-79:133" resultTypeName="t:Code" name="T1b: Prostate tumor incidental histologic finding in > 5% of tissue resected (finding)" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="217" locator="80:12-80:147" resultTypeName="t:Boolean" xsi:type="Equivalent">
                     <operand asType="t:Concept" xsi:type="As">
                        <operand localId="215" locator="80:12-80:42" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="value" scope="LastProstateCancerStaging" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand xsi:type="ToConcept">
                        <operand localId="216" locator="80:46-80:147" resultTypeName="t:Code" name="Neoplasm of prostate primary tumor staging category T1c: Tumor identified by needle biopsy (finding)" xsi:type="CodeRef"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="222" locator="81:12-81:151" resultTypeName="t:Boolean" xsi:type="Equivalent">
                  <operand asType="t:Concept" xsi:type="As">
                     <operand localId="220" locator="81:12-81:42" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                        <operand path="value" scope="LastProstateCancerStaging" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToConcept">
                     <operand localId="221" locator="81:46-81:151" resultTypeName="t:Code" name="Neoplasm of prostate primary tumor staging category T2a: Involves one-half of one lobe or less (finding)" xsi:type="CodeRef"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="229" locator="84:1-85:40" resultTypeName="t:Boolean" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="229">
               <a:s>define &quot;Numerator&quot;:
  </a:s>
               <a:s r="228">
                  <a:s>not </a:s>
                  <a:s r="227">
                     <a:s>exists </a:s>
                     <a:s r="226">
                        <a:s>&quot;Bone Scan Study Performed&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="228" locator="85:3-85:40" resultTypeName="t:Boolean" xsi:type="Not">
            <operand localId="227" locator="85:7-85:40" resultTypeName="t:Boolean" xsi:type="Exists">
               <operand localId="226" locator="85:14-85:40" name="Bone Scan Study Performed" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="268" locator="108:1-114:53" resultTypeName="t:Boolean" name="Most Recent PSA Test Result is Low" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="268">
               <a:s>define &quot;Most Recent PSA Test Result is Low&quot;:
  </a:s>
               <a:s r="267">
                  <a:s>
                     <a:s r="259">
                        <a:s r="258">
                           <a:s>( </a:s>
                           <a:s r="258">
                              <a:s>Last(</a:s>
                              <a:s r="257">
                                 <a:s>
                                    <a:s r="238">
                                       <a:s r="237">
                                          <a:s r="237">
                                             <a:s>[Observation: </a:s>
                                             <a:s>
                                                <a:s>&quot;Prostate Specific Antigen Test&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> PSATest</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="250">
                                    <a:s>with </a:s>
                                    <a:s r="240">
                                       <a:s r="239">
                                          <a:s>
                                             <a:s>&quot;Most Recent Prostate Cancer Staging Tumor Size T1a to T2a&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> MostRecentProstateCancerStaging</a:s>
                                    </a:s>
                                    <a:s>
        such that </a:s>
                                    <a:s r="249">
                                       <a:s r="244">
                                          <a:s r="241">
                                             <a:s>QICoreCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="244">
                                             <a:s>&quot;ToInterval&quot;(</a:s>
                                             <a:s r="243">
                                                <a:s r="242">
                                                   <a:s>PSATest</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="243">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="249"> starts before </a:s>
                                       <a:s r="248">
                                          <a:s r="245">
                                             <a:s>QICoreCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="248">
                                             <a:s>&quot;ToInterval&quot;(</a:s>
                                             <a:s r="247">
                                                <a:s r="246">
                                                   <a:s>MostRecentProstateCancerStaging</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="247">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="256">
                                    <a:s>sort by </a:s>
                                    <a:s r="255">
                                       <a:s r="254">
                                          <a:s>start of </a:s>
                                          <a:s r="253">
                                             <a:s r="251">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="253">
                                                <a:s>&quot;ToInterval&quot;(</a:s>
                                                <a:s r="252">
                                                   <a:s>effective</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> LastPSATest</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="266">
                     <a:s>return </a:s>
                     <a:s r="265">
                        <a:s r="263">
                           <a:s r="261">
                              <a:s r="260">
                                 <a:s>LastPSATest</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="261">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> as </a:s>
                           <a:s r="262">
                              <a:s>Quantity</a:s>
                           </a:s>
                        </a:s>
                        <a:s> &lt; </a:s>
                        <a:s r="264">
                           <a:s>10 'ng/mL'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="267" locator="109:3-114:53" resultTypeName="t:Boolean" xsi:type="Query">
            <source localId="259" locator="109:3-113:17" resultTypeName="fhir:Observation" alias="LastPSATest">
               <expression localId="258" locator="109:3-113:5" resultTypeName="fhir:Observation" xsi:type="Last">
                  <source localId="257" locator="109:10-112:59" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="238" locator="109:10-109:64" alias="PSATest">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="237" locator="109:10-109:56" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <codes locator="109:24-109:55" resultTypeName="t:ValueSet" name="Prostate Specific Antigen Test" preserve="true" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <relationship localId="250" locator="110:7-111:145" resultTypeName="fhir:Observation" alias="MostRecentProstateCancerStaging" xsi:type="With">
                        <expression localId="239" locator="110:12-110:70" resultTypeName="fhir:Observation" name="Most Recent Prostate Cancer Staging Tumor Size T1a to T2a" xsi:type="ExpressionRef"/>
                        <suchThat localId="249" locator="111:19-111:145" resultTypeName="t:Boolean" xsi:type="Before">
                           <operand xsi:type="If">
                              <condition xsi:type="IsNull">
                                 <operand locator="111:64-111:69" xsi:type="Start">
                                    <operand localId="244" locator="111:19-111:62" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Case">
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                                <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </isTypeSpecifier>
                                             </when>
                                             <then xsi:type="As">
                                                <operand xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                   <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </asTypeSpecifier>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <else xsi:type="Null">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                             </resultTypeSpecifier>
                                          </else>
                                       </operand>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="Null">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </then>
                              <else lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low locator="111:64-111:69" xsi:type="Start">
                                    <operand localId="244" locator="111:19-111:62" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Case">
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                                <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </isTypeSpecifier>
                                             </when>
                                             <then xsi:type="As">
                                                <operand xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                   <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </asTypeSpecifier>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <else xsi:type="Null">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                             </resultTypeSpecifier>
                                          </else>
                                       </operand>
                                    </operand>
                                 </low>
                                 <high locator="111:64-111:69" xsi:type="Start">
                                    <operand localId="244" locator="111:19-111:62" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Case">
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                                <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </isTypeSpecifier>
                                             </when>
                                             <then xsi:type="As">
                                                <operand xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                   <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </asTypeSpecifier>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <caseItem>
                                             <when isType="t:DateTime" xsi:type="Is">
                                                <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      <choice xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </choice>
                                                      <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                </operand>
                                             </when>
                                             <then xsi:type="As">
                                                <operand asType="t:DateTime" xsi:type="As">
                                                   <operand localId="243" locator="111:45-111:61" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand path="effective" scope="PSATest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                </asTypeSpecifier>
                                             </then>
                                          </caseItem>
                                          <else xsi:type="Null">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                             </resultTypeSpecifier>
                                          </else>
                                       </operand>
                                    </operand>
                                 </high>
                              </else>
                           </operand>
                           <operand localId="248" locator="111:78-111:145" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand xsi:type="Case">
                                 <caseItem>
                                    <when isType="t:DateTime" xsi:type="Is">
                                       <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                       </operand>
                                    </when>
                                    <then xsi:type="As">
                                       <operand asType="t:DateTime" xsi:type="As">
                                          <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <caseItem>
                                    <when xsi:type="Is">
                                       <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                       </operand>
                                       <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </isTypeSpecifier>
                                    </when>
                                    <then xsi:type="As">
                                       <operand xsi:type="As">
                                          <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                          <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </asTypeSpecifier>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <caseItem>
                                    <when isType="t:DateTime" xsi:type="Is">
                                       <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                       </operand>
                                    </when>
                                    <then xsi:type="As">
                                       <operand asType="t:DateTime" xsi:type="As">
                                          <operand localId="247" locator="111:104-111:144" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="MostRecentProstateCancerStaging" xsi:type="Property"/>
                                          </operand>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <else xsi:type="Null">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                    </resultTypeSpecifier>
                                 </else>
                              </operand>
                           </operand>
                        </suchThat>
                     </relationship>
                     <sort localId="256" locator="112:7-112:59">
                        <by localId="255" locator="112:15-112:59" resultTypeName="t:DateTime" direction="asc" xsi:type="ByExpression">
                           <expression localId="254" locator="112:15-112:59" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="253" locator="112:24-112:59" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Case">
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when xsi:type="Is">
                                          <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                          <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </isTypeSpecifier>
                                       </when>
                                       <then xsi:type="As">
                                          <operand xsi:type="As">
                                             <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                             <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <caseItem>
                                       <when isType="t:DateTime" xsi:type="Is">
                                          <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand name="effective" xsi:type="IdentifierRef"/>
                                          </operand>
                                       </when>
                                       <then xsi:type="As">
                                          <operand asType="t:DateTime" xsi:type="As">
                                             <operand localId="252" locator="112:50-112:58" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </choice>
                                                   <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <operand name="effective" xsi:type="IdentifierRef"/>
                                             </operand>
                                          </operand>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                          </asTypeSpecifier>
                                       </then>
                                    </caseItem>
                                    <else xsi:type="Null">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </else>
                                 </operand>
                              </operand>
                           </expression>
                        </by>
                     </sort>
                  </source>
               </expression>
            </source>
            <return localId="266" locator="114:5-114:53" resultTypeName="t:Boolean">
               <expression localId="265" locator="114:12-114:53" resultTypeName="t:Boolean" xsi:type="Less">
                  <operand localId="263" locator="114:12-114:40" resultTypeName="t:Quantity" strict="false" xsi:type="As">
                     <operand localId="261" locator="114:12-114:28" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                        <operand path="value" scope="LastPSATest" xsi:type="Property"/>
                     </operand>
                     <asTypeSpecifier localId="262" locator="114:33-114:40" resultTypeName="t:Quantity" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                  </operand>
                  <operand localId="264" locator="114:44-114:53" resultTypeName="t:Quantity" value="10" unit="ng/mL" xsi:type="Quantity"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="273" locator="87:1-92:42" resultTypeName="t:Boolean" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="273">
               <a:s>define &quot;Denominator&quot;:
  </a:s>
               <a:s r="272">
                  <a:s r="270">
                     <a:s r="236">
                        <a:s r="233">
                           <a:s r="230">
                              <a:s>&quot;Initial Population&quot;</a:s>
                           </a:s>
                           <a:s>
    and </a:s>
                           <a:s r="232">
                              <a:s r="231">
                                 <a:s>&quot;First Prostate Cancer Treatment During Measurement Period&quot;</a:s>
                              </a:s>
                              <a:s> is not null</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    and </a:s>
                        <a:s r="235">
                           <a:s r="234">
                              <a:s>&quot;Most Recent Prostate Cancer Staging Tumor Size T1a to T2a&quot;</a:s>
                           </a:s>
                           <a:s> is not null</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="269">
                        <a:s>&quot;Most Recent PSA Test Result is Low&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="271">
                     <a:s>&quot;Most Recent Gleason Score is Low&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="272" locator="88:3-92:42" resultTypeName="t:Boolean" xsi:type="And">
            <operand localId="270" locator="88:3-91:44" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="236" locator="88:3-90:79" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="233" locator="88:3-89:79" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="230" locator="88:3-88:22" resultTypeName="t:Boolean" name="Initial Population" xsi:type="ExpressionRef"/>
                     <operand localId="232" locator="89:9-89:79" resultTypeName="t:Boolean" xsi:type="Not">
                        <operand locator="89:9-89:79" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="231" locator="89:9-89:67" resultTypeName="fhir:Procedure" name="First Prostate Cancer Treatment During Measurement Period" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="235" locator="90:9-90:79" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="90:9-90:79" resultTypeName="t:Boolean" xsi:type="IsNull">
                        <operand localId="234" locator="90:9-90:67" resultTypeName="fhir:Observation" name="Most Recent Prostate Cancer Staging Tumor Size T1a to T2a" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="269" locator="91:9-91:44" resultTypeName="t:Boolean" name="Most Recent PSA Test Result is Low" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="271" locator="92:9-92:42" resultTypeName="t:Boolean" name="Most Recent Gleason Score is Low" xsi:type="ExpressionRef"/>
         </expression>
      </def>
   </statements>
</library>