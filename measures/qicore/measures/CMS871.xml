<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorVersion="2.10.0" translatorOptions="EnableAnnotations,EnableLocators,EnableResultTypes" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="608">
         <a:s>library HospitalHarmHyperglycemiainHospitalizedPatientsFHIR version '0.0.000'</a:s>
      </a:s>
   </annotation>
   <identifier id="HospitalHarmHyperglycemiainHospitalizedPatientsFHIR" version="0.0.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:28" localIdentifier="QICore" uri="http://hl7.org/fhir">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>QICore</a:s>
               </a:s>
               <a:s> version '4.1.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:61" localIdentifier="SDE" path="SupplementalDataElements" version="3.4.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>SupplementalDataElements</a:s>
               </a:s>
               <a:s> version '3.4.000' called SDE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="6:1-6:52" localIdentifier="CQMCommon" path="CQMCommon" version="1.4.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CQMCommon</a:s>
               </a:s>
               <a:s> version '1.4.000' called CQMCommon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="7:1-7:58" localIdentifier="QICoreCommon" path="QICoreCommon" version="1.5.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>QICoreCommon</a:s>
               </a:s>
               <a:s> version '1.5.000' called QICoreCommon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="8:1-8:56" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.3.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.3.000' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="16" locator="20:1-20:49" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="16">
               <a:s>parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="15">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="14">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <parameterTypeSpecifier localId="15" locator="20:32-20:49" xsi:type="IntervalTypeSpecifier">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <pointType localId="14" locator="20:41-20:48" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="6" locator="10:1-10:38" resultTypeName="t:CodeSystem" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>codesystem &quot;LOINC&quot;: 'http://loinc.org'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="7" locator="12:1-12:91" resultTypeName="t:ValueSet" name="birth date" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.560.100.4" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>valueset &quot;birth date&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.560.100.4'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="13:1-13:100" resultTypeName="t:ValueSet" name="Diabetes" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>valueset &quot;Diabetes&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="14:1-14:100" resultTypeName="t:ValueSet" name="Encounter Inpatient" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>valueset &quot;Encounter Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="15:1-15:113" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>valueset &quot;Glucose Lab Test Mass Per Volume&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="16:1-16:117" resultTypeName="t:ValueSet" name="Hypoglycemics Treatment Medications" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>valueset &quot;Hypoglycemics Treatment Medications&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="13" locator="18:1-18:62" resultTypeName="t:Code" name="Birth date" id="21112-8" display="Birth date" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>code &quot;Birth date&quot;: '21112-8' from </a:s>
               <a:s r="12">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Birth date'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="12" locator="18:35-18:41" resultTypeName="t:CodeSystem" name="LOINC"/>
      </def>
   </codes>
   <contexts>
      <def locator="22:1-22:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="22:1-22:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="22:1-22:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="37" locator="203:1-207:48" name="Qualifying Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="37">
               <a:s>define &quot;Qualifying Encounter&quot;:
  </a:s>
               <a:s r="36">
                  <a:s>
                     <a:s r="18">
                        <a:s r="17">
                           <a:s r="17">
                              <a:s>[&quot;Encounter&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Encounter Inpatient&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InpatientEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="35">
                     <a:s>where </a:s>
                     <a:s r="35">
                        <a:s r="30">
                           <a:s r="25">
                              <a:s r="23">
                                 <a:s>AgeInYearsAt(</a:s>
                                 <a:s r="22">
                                    <a:s>date from </a:s>
                                    <a:s r="21">
                                       <a:s>start of </a:s>
                                       <a:s r="20">
                                          <a:s r="19">
                                             <a:s>InpatientEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="20">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s r="24"> >= 18</a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="29">
                              <a:s r="27">
                                 <a:s r="26">
                                    <a:s>InpatientEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="27">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="29"> ends during day of </a:s>
                              <a:s r="28">
                                 <a:s>&quot;Measurement Period&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="34">
                           <a:s r="32">
                              <a:s r="31">
                                 <a:s>InpatientEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="32">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="33">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="36" locator="204:3-207:48" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="18" locator="204:3-204:57" alias="InpatientEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="17" locator="204:3-204:38" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" codeProperty="type" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="204:17-204:37" resultTypeName="t:ValueSet" name="Encounter Inpatient" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="35" locator="205:5-207:48" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="30" locator="205:11-206:75" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="25" locator="205:11-205:74" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                     <operand localId="23" locator="205:11-205:68" resultTypeName="t:Integer" precision="Year" xsi:type="CalculateAgeAt">
                        <operand path="value" xsi:type="Property">
                           <source path="birthDate" xsi:type="Property">
                              <source name="Patient" xsi:type="ExpressionRef"/>
                           </source>
                        </operand>
                        <operand localId="22" locator="205:24-205:67" resultTypeName="t:Date" xsi:type="DateFrom">
                           <operand localId="21" locator="205:34-205:67" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="20" locator="205:43-205:67" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="period" scope="InpatientEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="24" locator="205:73-205:74" resultTypeName="t:Integer" valueType="t:Integer" value="18" xsi:type="Literal"/>
                  </operand>
                  <operand localId="29" locator="206:11-206:75" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                     <operand locator="206:37-206:40" xsi:type="End">
                        <operand localId="27" locator="206:11-206:35" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <operand path="period" scope="InpatientEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="28" locator="206:56-206:75" name="Measurement Period" xsi:type="ParameterRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
               </operand>
               <operand localId="34" locator="207:11-207:48" resultTypeName="t:Boolean" xsi:type="Equal">
                  <operand localId="32" locator="207:11-207:35" resultTypeName="fhir:EncounterStatus" path="value" xsi:type="Property">
                     <source path="status" scope="InpatientEncounter" xsi:type="Property"/>
                  </operand>
                  <operand localId="33" locator="207:39-207:48" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="47" locator="133:1-138:5" name="Encounter with Hospitalization Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="47">
               <a:s>/**
 * Create paring of encounters to hospitalization period so this calculation can be inspected and the result 
 * can be reused, making the logic faster.*/
define &quot;Encounter with Hospitalization Period&quot;:
  </a:s>
               <a:s r="46">
                  <a:s>
                     <a:s r="39">
                        <a:s r="38">
                           <a:s>
                              <a:s>&quot;Qualifying Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingHospitalization</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="45">
                     <a:s>return </a:s>
                     <a:s r="44">
                        <a:s>Tuple {
      </a:s>
                        <a:s>
                           <a:s>encounter: </a:s>
                           <a:s r="40">
                              <a:s>QualifyingHospitalization</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>hospitalizationPeriod: </a:s>
                           <a:s r="43">
                              <a:s r="41">
                                 <a:s>CQMCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="43">
                                 <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                                 <a:s r="42">
                                    <a:s>QualifyingHospitalization</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="encounter">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="hospitalizationPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="46" locator="134:3-138:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="encounter">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="hospitalizationPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="39" locator="134:3-134:50" alias="QualifyingHospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="38" locator="134:3-134:24" name="Qualifying Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <return localId="45" locator="135:5-138:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="44" locator="135:12-138:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </resultTypeSpecifier>
                  <element name="encounter">
                     <value localId="40" locator="136:18-136:42" resultTypeName="fhir:Encounter" name="QualifyingHospitalization" xsi:type="AliasRef"/>
                  </element>
                  <element name="hospitalizationPeriod">
                     <value localId="43" locator="137:30-137:101" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="42" locator="137:75-137:99" resultTypeName="fhir:Encounter" name="QualifyingHospitalization" xsi:type="AliasRef"/>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="64" locator="116:1-120:36" name="Encounter with Existing Diabetes Diagnosis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="64">
               <a:s>/**
 * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with 
 * diabetes and return the encounter.*/
define &quot;Encounter with Existing Diabetes Diagnosis&quot;:
  </a:s>
               <a:s r="63">
                  <a:s>
                     <a:s r="49">
                        <a:s r="48">
                           <a:s>
                              <a:s>&quot;Encounter with Hospitalization Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Hospitalization</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="59">
                     <a:s>with </a:s>
                     <a:s r="51">
                        <a:s r="50">
                           <a:s r="50">
                              <a:s>[&quot;Condition&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Diabetes&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Diabetes</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="58">
                        <a:s>( </a:s>
                        <a:s r="58">
                           <a:s r="54">
                              <a:s r="52">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="54">
                                 <a:s>&quot;ToPrevalenceInterval&quot; ( </a:s>
                                 <a:s r="53">
                                    <a:s>Diabetes</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="58"> starts before </a:s>
                           <a:s r="57">
                              <a:s>end of </a:s>
                              <a:s r="56">
                                 <a:s r="55">
                                    <a:s>Hospitalization</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="56">
                                    <a:s>hospitalizationPeriod</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="62">
                     <a:s>return </a:s>
                     <a:s r="61">
                        <a:s r="60">
                           <a:s>Hospitalization</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="61">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="63" locator="117:3-120:36" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="49" locator="117:3-117:57" alias="Hospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="48" locator="117:3-117:41" name="Encounter with Hospitalization Period" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hospitalizationPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="59" locator="118:5-119:127" alias="Diabetes" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="50" locator="118:10-118:34" dataType="fhir:Condition" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="118:24-118:33" resultTypeName="t:ValueSet" name="Diabetes" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
               <suchThat localId="58" locator="119:17-119:127" resultTypeName="t:Boolean" xsi:type="Before">
                  <operand locator="119:68-119:73" xsi:type="Start">
                     <operand localId="54" locator="119:19-119:66" name="ToPrevalenceInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="53" locator="119:57-119:64" resultTypeName="fhir:Condition" name="Diabetes" xsi:type="AliasRef"/>
                     </operand>
                  </operand>
                  <operand localId="57" locator="119:82-119:125" resultTypeName="t:DateTime" xsi:type="End">
                     <operand localId="56" locator="119:89-119:125" path="hospitalizationPeriod" scope="Hospitalization" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
            <return localId="62" locator="120:5-120:36">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="61" locator="120:12-120:36" resultTypeName="fhir:Encounter" path="encounter" scope="Hospitalization" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="91" locator="155:1-162:36" name="Encounter with Hypoglycemic Medication" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="91">
               <a:s>/**
 * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with 
 * hypoglycemic medicatons and return the encounter.*/
define &quot;Encounter with Hypoglycemic Medication&quot;:
  </a:s>
               <a:s r="90">
                  <a:s>
                     <a:s>from
    </a:s>
                     <a:s r="67">
                        <a:s r="66">
                           <a:s>
                              <a:s>&quot;Encounter with Hospitalization Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Hospitalization</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="69">
                        <a:s r="68">
                           <a:s r="68">
                              <a:s>[&quot;MedicationAdministration&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Hypoglycemics Treatment Medications&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> HypoglycemicMed</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="86">
                     <a:s>where </a:s>
                     <a:s r="86">
                        <a:s r="78">
                           <a:s r="73">
                              <a:s r="71">
                                 <a:s r="70">
                                    <a:s>HypoglycemicMed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="71">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="72">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="77">
                              <a:s r="75">
                                 <a:s r="74">
                                    <a:s>HypoglycemicMed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="75">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> != </a:s>
                              <a:s r="76">
                                 <a:s>'not-done'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="85">
                           <a:s r="82">
                              <a:s r="79">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="82">
                                 <a:s>&quot;ToInterval&quot; ( </a:s>
                                 <a:s r="81">
                                    <a:s r="80">
                                       <a:s>HypoglycemicMed</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="81">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="85"> during </a:s>
                           <a:s r="84">
                              <a:s r="83">
                                 <a:s>Hospitalization</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="84">
                                 <a:s>hospitalizationPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="89">
                     <a:s>return </a:s>
                     <a:s r="88">
                        <a:s r="87">
                           <a:s>Hospitalization</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="88">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="90" locator="156:3-162:36" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="67" locator="157:5-157:59" alias="Hospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="66" locator="157:5-157:43" name="Encounter with Hospitalization Period" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hospitalizationPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <source localId="69" locator="158:5-158:87" alias="HypoglycemicMed">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="68" locator="158:5-158:71" xsi:type="Union">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand dataType="fhir:MedicationAdministration" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="158:34-158:70" resultTypeName="t:ValueSet" name="Hypoglycemics Treatment Medications" preserve="true" xsi:type="ValueSetRef"/>
                  </operand>
                  <operand locator="158:5-158:71" dataType="fhir:MedicationAdministration" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <codes locator="158:34-158:70" resultTypeName="t:ValueSet" name="Hypoglycemics Treatment Medications" preserve="true" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <where localId="86" locator="159:5-161:110" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="78" locator="159:11-160:46" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="73" locator="159:11-159:46" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand localId="71" locator="159:11-159:32" resultTypeName="fhir:MedicationAdministrationStatus" path="value" xsi:type="Property">
                        <source path="status" scope="HypoglycemicMed" xsi:type="Property"/>
                     </operand>
                     <operand localId="72" locator="159:36-159:46" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
                  <operand localId="77" locator="160:11-160:46" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="160:11-160:46" resultTypeName="t:Boolean" xsi:type="Equal">
                        <operand localId="75" locator="160:11-160:32" resultTypeName="fhir:MedicationAdministrationStatus" path="value" xsi:type="Property">
                           <source path="status" scope="HypoglycemicMed" xsi:type="Property"/>
                        </operand>
                        <operand localId="76" locator="160:37-160:46" resultTypeName="t:String" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="85" locator="161:11-161:110" resultTypeName="t:Boolean" xsi:type="IncludedIn">
                  <operand localId="82" locator="161:11-161:65" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand localId="81" locator="161:39-161:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                        <operand path="effective" scope="HypoglycemicMed" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="84" locator="161:74-161:110" path="hospitalizationPeriod" scope="Hospitalization" xsi:type="Property">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
            <return localId="89" locator="162:5-162:36">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="88" locator="162:12-162:36" resultTypeName="fhir:Encounter" path="encounter" scope="Hospitalization" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="128" locator="102:1-109:36" name="Encounter with Elevated Glucose Greater Than or Equal to 200" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="128">
               <a:s>/**
 * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with 
 * any elevated (>= 200) blood glucose reading during the hospitalization*/
define &quot;Encounter with Elevated Glucose Greater Than or Equal to 200&quot;:
  </a:s>
               <a:s r="127">
                  <a:s>
                     <a:s r="95">
                        <a:s r="94">
                           <a:s>
                              <a:s>&quot;Encounter with Hospitalization Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Hospitalization</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="123">
                     <a:s>with </a:s>
                     <a:s r="97">
                        <a:s r="96">
                           <a:s r="96">
                              <a:s>[&quot;Observation&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> GlucoseTest</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="122">
                        <a:s r="117">
                           <a:s r="112">
                              <a:s r="104">
                                 <a:s r="101">
                                    <a:s r="98">
                                       <a:s>QICoreCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="101">
                                       <a:s>&quot;Earliest&quot; ( </a:s>
                                       <a:s r="100">
                                          <a:s r="99">
                                             <a:s>GlucoseTest</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="100">
                                             <a:s>effective</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="104"> during </a:s>
                                 <a:s r="103">
                                    <a:s r="102">
                                       <a:s>Hospitalization</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="103">
                                       <a:s>hospitalizationPeriod</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        and </a:s>
                              <a:s r="111">
                                 <a:s r="106">
                                    <a:s r="105">
                                       <a:s>GlucoseTest</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="106">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="110">
                                    <a:s>{ </a:s>
                                    <a:s r="107">
                                       <a:s>'final'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="108">
                                       <a:s>'amended'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="109">
                                       <a:s>'corrected'</a:s>
                                    </a:s>
                                    <a:s> }</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        and </a:s>
                           <a:s r="116">
                              <a:s r="114">
                                 <a:s r="113">
                                    <a:s>GlucoseTest</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="114">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> != </a:s>
                              <a:s r="115">
                                 <a:s>'cancelled'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="121">
                           <a:s r="119">
                              <a:s r="118">
                                 <a:s>GlucoseTest</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="119">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> >= </a:s>
                           <a:s r="120">
                              <a:s>200 'mg/dL'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="126">
                     <a:s>return </a:s>
                     <a:s r="125">
                        <a:s r="124">
                           <a:s>Hospitalization</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="125">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="127" locator="103:3-109:36" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="95" locator="103:3-103:57" alias="Hospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="94" locator="103:3-103:41" name="Encounter with Hospitalization Period" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hospitalizationPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="123" locator="104:5-108:44" alias="GlucoseTest" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="96" locator="104:10-104:60" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="104:26-104:59" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
               <suchThat localId="122" locator="105:17-108:44" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="117" locator="105:17-107:45" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="112" locator="105:17-106:69" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="104" locator="105:17-105:110" resultTypeName="t:Boolean" xsi:type="In">
                           <operand localId="101" locator="105:17-105:65" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                              <operand xsi:type="Case">
                                 <caseItem>
                                    <when isType="t:DateTime" xsi:type="Is">
                                       <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                       </operand>
                                    </when>
                                    <then xsi:type="As">
                                       <operand asType="t:DateTime" xsi:type="As">
                                          <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                          </operand>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <caseItem>
                                    <when xsi:type="Is">
                                       <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                       </operand>
                                       <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </isTypeSpecifier>
                                    </when>
                                    <then xsi:type="As">
                                       <operand xsi:type="As">
                                          <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                          </operand>
                                          <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </asTypeSpecifier>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <caseItem>
                                    <when isType="t:DateTime" xsi:type="Is">
                                       <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </choice>
                                             <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                       </operand>
                                    </when>
                                    <then xsi:type="As">
                                       <operand asType="t:DateTime" xsi:type="As">
                                          <operand localId="100" locator="105:43-105:63" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                <choice xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </choice>
                                                <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                          </operand>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </asTypeSpecifier>
                                    </then>
                                 </caseItem>
                                 <else xsi:type="Null">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                    </resultTypeSpecifier>
                                 </else>
                              </operand>
                           </operand>
                           <operand localId="103" locator="105:74-105:110" path="hospitalizationPeriod" scope="Hospitalization" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="111" locator="106:13-106:69" resultTypeName="t:Boolean" xsi:type="In">
                           <operand localId="106" locator="106:13-106:30" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                              <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                           </operand>
                           <operand localId="110" locator="106:35-106:69" xsi:type="List">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <element localId="107" locator="106:37-106:43" resultTypeName="t:String" valueType="t:String" value="final" xsi:type="Literal"/>
                              <element localId="108" locator="106:46-106:54" resultTypeName="t:String" valueType="t:String" value="amended" xsi:type="Literal"/>
                              <element localId="109" locator="106:57-106:67" resultTypeName="t:String" valueType="t:String" value="corrected" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="116" locator="107:13-107:45" resultTypeName="t:Boolean" xsi:type="Not">
                        <operand locator="107:13-107:45" resultTypeName="t:Boolean" xsi:type="Equal">
                           <operand localId="114" locator="107:13-107:30" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                              <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                           </operand>
                           <operand localId="115" locator="107:35-107:45" resultTypeName="t:String" valueType="t:String" value="cancelled" xsi:type="Literal"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="121" locator="108:13-108:44" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                     <operand asType="t:Quantity" xsi:type="As">
                        <operand localId="119" locator="108:13-108:29" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="value" scope="GlucoseTest" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="120" locator="108:34-108:44" resultTypeName="t:Quantity" value="200" unit="mg/dL" xsi:type="Quantity"/>
                  </operand>
               </suchThat>
            </relationship>
            <return localId="126" locator="109:5-109:36">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="125" locator="109:12-109:36" resultTypeName="fhir:Encounter" path="encounter" scope="Hospitalization" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="131" locator="192:1-195:72" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="131">
               <a:s>define &quot;Initial Population&quot;:
  </a:s>
               <a:s r="130">
                  <a:s r="93">
                     <a:s r="65">
                        <a:s>&quot;Encounter with Existing Diabetes Diagnosis&quot;</a:s>
                     </a:s>
                     <a:s>
    union </a:s>
                     <a:s r="92">
                        <a:s>&quot;Encounter with Hypoglycemic Medication&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    union </a:s>
                  <a:s r="129">
                     <a:s>&quot;Encounter with Elevated Glucose Greater Than or Equal to 200&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="130" locator="193:3-195:72" xsi:type="Union">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <operand localId="93" locator="193:3-194:50" xsi:type="Union">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <operand localId="65" locator="193:3-193:46" name="Encounter with Existing Diabetes Diagnosis" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
               <operand localId="92" locator="194:11-194:50" name="Encounter with Hypoglycemic Medication" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
            </operand>
            <operand localId="129" locator="195:11-195:72" name="Encounter with Elevated Glucose Greater Than or Equal to 200" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="133" locator="91:1-92:22" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="133">
               <a:s>define &quot;Denominator&quot;:
  </a:s>
               <a:s r="132">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="132" locator="92:3-92:22" name="Initial Population" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="135" locator="197:1-198:15" name="Measurement Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="135">
               <a:s>define &quot;Measurement Population&quot;:
  </a:s>
               <a:s r="134">
                  <a:s>&quot;Denominator&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="134" locator="198:3-198:15" name="Denominator" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="156" locator="225:1-228:4" name="Hospital Days Max 10" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="156">
               <a:s>/**
 * Crops an interval to a maximum length of 10 days.*/
define function &quot;Hospital Days Max 10&quot;(Period </a:s>
               <a:s r="144">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="143">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="155">
                  <a:s r="155">
                     <a:s>Interval[</a:s>
                     <a:s r="146">
                        <a:s>start of </a:s>
                        <a:s r="145">
                           <a:s>Period</a:s>
                        </a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="154">
                        <a:s>Min(</a:s>
                        <a:s r="153">
                           <a:s>{ 
    </a:s>
                           <a:s r="148">
                              <a:s>end of </a:s>
                              <a:s r="147">
                                 <a:s>Period</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="152">
                              <a:s r="150">
                                 <a:s>start of </a:s>
                                 <a:s r="149">
                                    <a:s>Period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="151">
                                 <a:s>10 days</a:s>
                              </a:s>
                           </a:s>
                           <a:s> }</a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                     <a:s>]</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="155" locator="226:3-228:4" lowClosed="true" highClosed="true" xsi:type="Interval">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <low localId="146" locator="226:12-226:26" resultTypeName="t:DateTime" xsi:type="Start">
               <operand localId="145" locator="226:21-226:26" name="Period" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
            </low>
            <high localId="154" locator="226:29-228:3" resultTypeName="t:DateTime" xsi:type="Min">
               <source localId="153" locator="226:33-227:46" xsi:type="List">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <element localId="148" locator="227:5-227:17" resultTypeName="t:DateTime" xsi:type="End">
                     <operand localId="147" locator="227:12-227:17" name="Period" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </element>
                  <element localId="152" locator="227:20-227:44" resultTypeName="t:DateTime" xsi:type="Add">
                     <operand localId="150" locator="227:20-227:34" resultTypeName="t:DateTime" xsi:type="Start">
                        <operand localId="149" locator="227:29-227:34" name="Period" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                     <operand localId="151" locator="227:38-227:44" resultTypeName="t:Quantity" value="10" unit="days" xsi:type="Quantity"/>
                  </element>
               </source>
            </high>
         </expression>
         <operand name="Period">
            <operandTypeSpecifier localId="144" locator="225:47-225:64" xsi:type="IntervalTypeSpecifier">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <pointType localId="143" locator="225:56-225:63" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="182" locator="235:1-237:27" name="Interval To Day Numbers" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="182">
               <a:s>/**
 * Creates a list of integers from 1 to how many days are in the interval. Note, this wont create an index for
 * the final day if it is less than 24 hours. This also includes the first 24 hour period.*/
define function &quot;Interval To Day Numbers&quot;(Period </a:s>
               <a:s r="167">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="166">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="181">
                  <a:s r="181">
                     <a:s>
                        <a:s r="177">
                           <a:s r="176">
                              <a:s>( </a:s>
                              <a:s r="176">
                                 <a:s>expand </a:s>
                                 <a:s r="175">
                                    <a:s>{ </a:s>
                                    <a:s r="174">
                                       <a:s r="168">Interval[1, </a:s>
                                       <a:s r="173">
                                          <a:s>duration in days between </a:s>
                                          <a:s r="170">
                                             <a:s>start of </a:s>
                                             <a:s r="169">
                                                <a:s>Period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> and </a:s>
                                          <a:s r="172">
                                             <a:s>end of </a:s>
                                             <a:s r="171">
                                                <a:s>Period</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                    <a:s>}</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> DayExpand</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="180">
                        <a:s>return </a:s>
                        <a:s r="179">
                           <a:s>end of </a:s>
                           <a:s r="178">
                              <a:s>DayExpand</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="181" locator="236:3-237:27" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="177" locator="236:3-236:97" alias="DayExpand">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="176" locator="236:3-236:87" xsi:type="Expand">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </resultTypeSpecifier>
                  <operand localId="175" locator="236:12-236:85" xsi:type="List">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </resultTypeSpecifier>
                     <element localId="174" locator="236:14-236:84" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <low localId="168" locator="236:23" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                        <high localId="173" locator="236:26-236:83" resultTypeName="t:Integer" precision="Day" xsi:type="DurationBetween">
                           <operand localId="170" locator="236:51-236:65" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="169" locator="236:60-236:65" name="Period" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                           <operand localId="172" locator="236:71-236:83" resultTypeName="t:DateTime" xsi:type="End">
                              <operand localId="171" locator="236:78-236:83" name="Period" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </high>
                     </element>
                  </operand>
                  <operand resultTypeName="t:Quantity" xsi:type="Null"/>
               </expression>
            </source>
            <return localId="180" locator="237:5-237:27">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="179" locator="237:12-237:27" resultTypeName="t:Integer" xsi:type="End">
                  <operand localId="178" locator="237:19-237:27" name="DayExpand" xsi:type="AliasRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </return>
         </expression>
         <operand name="Period">
            <operandTypeSpecifier localId="167" locator="235:50-235:67" xsi:type="IntervalTypeSpecifier">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <pointType localId="166" locator="235:59-235:66" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="216" locator="275:1-283:5" name="Days In Period" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="216">
               <a:s>/**
 * Creates a list of 24 hour long intervals in an interval paired with the index (1 indexed) to which 24 hour interval it is.*/
define function &quot;Days In Period&quot;(Period </a:s>
               <a:s r="164">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="163">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="215">
                  <a:s r="215">
                     <a:s>
                        <a:s r="184">
                           <a:s r="183">
                              <a:s>( </a:s>
                              <a:s r="183">
                                 <a:s>&quot;Interval To Day Numbers&quot;(</a:s>
                                 <a:s r="165">
                                    <a:s>Period</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> DayNumber</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s>
                        <a:s>let </a:s>
                        <a:s r="193">
                           <a:s>startPeriod: </a:s>
                           <a:s r="192">
                              <a:s r="186">
                                 <a:s>start of </a:s>
                                 <a:s r="185">
                                    <a:s>Period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="191">
                                 <a:s>( </a:s>
                                 <a:s r="191">
                                    <a:s r="187">
                                       <a:s>24 hours</a:s>
                                    </a:s>
                                    <a:s> * </a:s>
                                    <a:s r="190">
                                       <a:s>( </a:s>
                                       <a:s r="190">
                                          <a:s r="188">
                                             <a:s>DayNumber</a:s>
                                          </a:s>
                                          <a:s r="189"> - 1</a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s r="208">
                           <a:s>endPeriod: </a:s>
                           <a:s r="207">
                              <a:s>if </a:s>
                              <a:s r="199">
                                 <a:s>( </a:s>
                                 <a:s r="199">
                                    <a:s r="197">
                                       <a:s>hours between </a:s>
                                       <a:s r="194">
                                          <a:s>startPeriod</a:s>
                                       </a:s>
                                       <a:s> and </a:s>
                                       <a:s r="196">
                                          <a:s>end of </a:s>
                                          <a:s r="195">
                                             <a:s>Period</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="198"> &lt; 24</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                              <a:s> then </a:s>
                              <a:s r="200">
                                 <a:s>startPeriod</a:s>
                              </a:s>
                              <a:s> 
      else </a:s>
                              <a:s r="206">
                                 <a:s r="202">
                                    <a:s>start of </a:s>
                                    <a:s r="201">
                                       <a:s>Period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="205">
                                    <a:s>( </a:s>
                                    <a:s r="205">
                                       <a:s r="203">
                                          <a:s>24 hours</a:s>
                                       </a:s>
                                       <a:s> * </a:s>
                                       <a:s r="204">
                                          <a:s>DayNumber</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="214">
                        <a:s>return </a:s>
                        <a:s r="213">
                           <a:s>Tuple {
      </a:s>
                           <a:s>
                              <a:s>dayNumber: </a:s>
                              <a:s r="209">
                                 <a:s>DayNumber</a:s>
                              </a:s>
                           </a:s>
                           <a:s>,
      </a:s>
                           <a:s>
                              <a:s>dayPeriod: </a:s>
                              <a:s r="212">
                                 <a:s>Interval[</a:s>
                                 <a:s r="210">
                                    <a:s>startPeriod</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="211">
                                    <a:s>endPeriod</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    }</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="dayNumber">
                  <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="dayPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="215" locator="276:3-283:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="dayNumber">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="dayPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="184" locator="276:3-276:49" alias="DayNumber">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="183" locator="276:3-276:39" name="Interval To Day Numbers" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="165" locator="276:31-276:36" name="Period" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <let localId="193" locator="277:9-277:71" resultTypeName="t:DateTime" identifier="startPeriod">
               <expression localId="192" locator="277:22-277:71" resultTypeName="t:DateTime" xsi:type="Add">
                  <operand localId="186" locator="277:22-277:36" resultTypeName="t:DateTime" xsi:type="Start">
                     <operand localId="185" locator="277:31-277:36" name="Period" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </operand>
                  <operand localId="191" locator="277:40-277:71" resultTypeName="t:Quantity" xsi:type="Multiply">
                     <operand localId="187" locator="277:42-277:49" resultTypeName="t:Quantity" value="24" unit="hours" xsi:type="Quantity"/>
                     <operand xsi:type="ToQuantity">
                        <operand localId="190" locator="277:53-277:69" resultTypeName="t:Integer" xsi:type="Subtract">
                           <operand localId="188" locator="277:55-277:63" resultTypeName="t:Integer" name="DayNumber" xsi:type="AliasRef"/>
                           <operand localId="189" locator="277:67" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                        </operand>
                     </operand>
                  </operand>
               </expression>
            </let>
            <let localId="208" locator="278:5-279:53" resultTypeName="t:DateTime" identifier="endPeriod">
               <expression localId="207" locator="278:16-279:53" resultTypeName="t:DateTime" xsi:type="If">
                  <condition localId="199" locator="278:19-278:70" resultTypeName="t:Boolean" xsi:type="Less">
                     <operand localId="197" locator="278:21-278:63" resultTypeName="t:Integer" precision="Hour" xsi:type="DurationBetween">
                        <operand localId="194" locator="278:35-278:45" resultTypeName="t:DateTime" name="startPeriod" xsi:type="QueryLetRef"/>
                        <operand localId="196" locator="278:51-278:63" resultTypeName="t:DateTime" xsi:type="End">
                           <operand localId="195" locator="278:58-278:63" name="Period" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="198" locator="278:67-278:68" resultTypeName="t:Integer" valueType="t:Integer" value="24" xsi:type="Literal"/>
                  </condition>
                  <then localId="200" locator="278:77-278:87" resultTypeName="t:DateTime" name="startPeriod" xsi:type="QueryLetRef"/>
                  <else localId="206" locator="279:12-279:53" resultTypeName="t:DateTime" xsi:type="Add">
                     <operand localId="202" locator="279:12-279:26" resultTypeName="t:DateTime" xsi:type="Start">
                        <operand localId="201" locator="279:21-279:26" name="Period" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                     <operand localId="205" locator="279:30-279:53" resultTypeName="t:Quantity" xsi:type="Multiply">
                        <operand localId="203" locator="279:32-279:39" resultTypeName="t:Quantity" value="24" unit="hours" xsi:type="Quantity"/>
                        <operand xsi:type="ToQuantity">
                           <operand localId="204" locator="279:43-279:51" resultTypeName="t:Integer" name="DayNumber" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </else>
               </expression>
            </let>
            <return localId="214" locator="280:5-283:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="dayNumber">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="dayPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="213" locator="280:12-283:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="dayNumber">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="dayPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </resultTypeSpecifier>
                  <element name="dayNumber">
                     <value localId="209" locator="281:18-281:26" resultTypeName="t:Integer" name="DayNumber" xsi:type="AliasRef"/>
                  </element>
                  <element name="dayPeriod">
                     <value localId="212" locator="282:18-282:50" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <low localId="210" locator="282:27-282:37" resultTypeName="t:DateTime" name="startPeriod" xsi:type="QueryLetRef"/>
                        <high localId="211" locator="282:40-282:48" resultTypeName="t:DateTime" name="endPeriod" xsi:type="QueryLetRef"/>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="Period">
            <operandTypeSpecifier localId="164" locator="275:41-275:58" xsi:type="IntervalTypeSpecifier">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <pointType localId="163" locator="275:50-275:57" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="221" locator="27:1-36:5" name="Days in Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>/***/
define &quot;Days in Hospitalization&quot;:
  </a:s>
               <a:s r="220">
                  <a:s>
                     <a:s r="137">
                        <a:s r="136">
                           <a:s>
                              <a:s>&quot;Measurement Population&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EligibleInpatientHospitalization</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="141">
                        <a:s>period: </a:s>
                        <a:s r="140">
                           <a:s r="138">
                              <a:s>CQMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="140">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="139">
                                 <a:s>EligibleInpatientHospitalization</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="158">
                        <a:s>relevantPeriod: </a:s>
                        <a:s r="157">
                           <a:s>&quot;Hospital Days Max 10&quot;(</a:s>
                           <a:s r="142">
                              <a:s>period</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="219">
                     <a:s>return </a:s>
                     <a:s r="218">
                        <a:s>Tuple {
      </a:s>
                        <a:s>
                           <a:s>encounter: </a:s>
                           <a:s r="159">
                              <a:s>EligibleInpatientHospitalization</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>hospitalizationPeriod: </a:s>
                           <a:s r="160">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>relevantPeriod: </a:s>
                           <a:s r="161">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>relevantDays: </a:s>
                           <a:s r="217">
                              <a:s>&quot;Days In Period&quot;(</a:s>
                              <a:s r="162">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="encounter">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="hospitalizationPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="relevantPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="relevantDays">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="dayNumber">
                           <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="dayPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="220" locator="28:3-36:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="encounter">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="hospitalizationPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="relevantPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="relevantDays">
                     <elementType xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayNumber">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                        </elementType>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="137" locator="28:3-28:59" alias="EligibleInpatientHospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="136" locator="28:3-28:26" name="Measurement Population" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="141" locator="29:9-29:95" identifier="period">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="140" locator="29:17-29:95" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="139" locator="29:62-29:93" resultTypeName="fhir:Encounter" name="EligibleInpatientHospitalization" xsi:type="AliasRef"/>
               </expression>
            </let>
            <let localId="158" locator="30:5-30:50" identifier="relevantPeriod">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="157" locator="30:21-30:50" name="Hospital Days Max 10" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="142" locator="30:44-30:49" name="period" xsi:type="QueryLetRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </let>
            <return localId="219" locator="31:5-36:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="218" locator="31:12-36:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </resultTypeSpecifier>
                  <element name="encounter">
                     <value localId="159" locator="32:18-32:49" resultTypeName="fhir:Encounter" name="EligibleInpatientHospitalization" xsi:type="AliasRef"/>
                  </element>
                  <element name="hospitalizationPeriod">
                     <value localId="160" locator="33:30-33:35" name="period" xsi:type="QueryLetRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
                  <element name="relevantPeriod">
                     <value localId="161" locator="34:23-34:36" name="relevantPeriod" xsi:type="QueryLetRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
                  <element name="relevantDays">
                     <value localId="217" locator="35:21-35:52" name="Days In Period" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="162" locator="35:38-35:51" name="relevantPeriod" xsi:type="QueryLetRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="323" locator="38:1-66:5" name="Days with Glucose Results" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="323">
               <a:s>define &quot;Days with Glucose Results&quot;:
  </a:s>
               <a:s r="322">
                  <a:s>
                     <a:s r="223">
                        <a:s r="222">
                           <a:s>
                              <a:s>&quot;Days in Hospitalization&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InpatientHospitalDays</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="321">
                     <a:s>return </a:s>
                     <a:s r="320">
                        <a:s>Tuple {
      </a:s>
                        <a:s>
                           <a:s>encounter: </a:s>
                           <a:s r="225">
                              <a:s r="224">
                                 <a:s>InpatientHospitalDays</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="225">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>relevantPeriod: </a:s>
                           <a:s r="227">
                              <a:s r="226">
                                 <a:s>InpatientHospitalDays</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="227">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>relevantDays: </a:s>
                           <a:s r="319">
                              <a:s>( </a:s>
                              <a:s r="319">
                                 <a:s>
                                    <a:s r="229">
                                       <a:s r="228">
                                          <a:s>
                                             <a:s>InpatientHospitalDays.relevantDays</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> EncounterDay</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
          </a:s>
                                 <a:s r="318">
                                    <a:s>return </a:s>
                                    <a:s r="317">
                                       <a:s>Tuple {
            </a:s>
                                       <a:s>
                                          <a:s>dayNumber: </a:s>
                                          <a:s r="231">
                                             <a:s r="230">
                                                <a:s>EncounterDay</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="231">
                                                <a:s>dayNumber</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s>
                                          <a:s>dayPeriod: </a:s>
                                          <a:s r="233">
                                             <a:s r="232">
                                                <a:s>EncounterDay</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="233">
                                                <a:s>dayPeriod</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s>
                                          <a:s>hasSevereResult: </a:s>
                                          <a:s r="262">
                                             <a:s>exists </a:s>
                                             <a:s r="261">
                                                <a:s>( </a:s>
                                                <a:s r="261">
                                                   <a:s>
                                                      <a:s r="235">
                                                         <a:s r="234">
                                                            <a:s r="234">
                                                               <a:s>[&quot;Observation&quot;: </a:s>
                                                               <a:s>
                                                                  <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                                                               </a:s>
                                                               <a:s>]</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> GlucoseTest</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
                </a:s>
                                                   <a:s r="260">
                                                      <a:s>where </a:s>
                                                      <a:s r="260">
                                                         <a:s r="252">
                                                            <a:s r="247">
                                                               <a:s r="242">
                                                                  <a:s r="237">
                                                                     <a:s r="236">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="237">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> in </a:s>
                                                                  <a:s r="241">
                                                                     <a:s>{ </a:s>
                                                                     <a:s r="238">
                                                                        <a:s>'final'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="239">
                                                                        <a:s>'amended'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="240">
                                                                        <a:s>'corrected'</a:s>
                                                                     </a:s>
                                                                     <a:s> }</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>
                  and </a:s>
                                                               <a:s r="246">
                                                                  <a:s r="244">
                                                                     <a:s r="243">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="244">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> != </a:s>
                                                                  <a:s r="245">
                                                                     <a:s>'cancelled'</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>
                  and </a:s>
                                                            <a:s r="251">
                                                               <a:s r="249">
                                                                  <a:s r="248">
                                                                     <a:s>GlucoseTest</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="249">
                                                                     <a:s>value</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> > </a:s>
                                                               <a:s r="250">
                                                                  <a:s>300 'mg/dL'</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
                  and </a:s>
                                                         <a:s r="259">
                                                            <a:s r="256">
                                                               <a:s r="253">
                                                                  <a:s>QICoreCommon</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="256">
                                                                  <a:s>&quot;Earliest&quot; ( </a:s>
                                                                  <a:s r="255">
                                                                     <a:s r="254">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="255">
                                                                        <a:s>effective</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s r="259"> during </a:s>
                                                            <a:s r="258">
                                                               <a:s r="257">
                                                                  <a:s>EncounterDay</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="258">
                                                                  <a:s>dayPeriod</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
            )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s>
                                          <a:s>hasElevatedResult: </a:s>
                                          <a:s r="291">
                                             <a:s>exists </a:s>
                                             <a:s r="290">
                                                <a:s>( </a:s>
                                                <a:s r="290">
                                                   <a:s>
                                                      <a:s r="264">
                                                         <a:s r="263">
                                                            <a:s r="263">
                                                               <a:s>[&quot;Observation&quot;: </a:s>
                                                               <a:s>
                                                                  <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                                                               </a:s>
                                                               <a:s>]</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> GlucoseTest</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
                </a:s>
                                                   <a:s r="289">
                                                      <a:s>where </a:s>
                                                      <a:s r="289">
                                                         <a:s r="281">
                                                            <a:s r="276">
                                                               <a:s r="271">
                                                                  <a:s r="266">
                                                                     <a:s r="265">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="266">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> in </a:s>
                                                                  <a:s r="270">
                                                                     <a:s>{ </a:s>
                                                                     <a:s r="267">
                                                                        <a:s>'final'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="268">
                                                                        <a:s>'amended'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="269">
                                                                        <a:s>'corrected'</a:s>
                                                                     </a:s>
                                                                     <a:s> }</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>
                  and </a:s>
                                                               <a:s r="275">
                                                                  <a:s r="273">
                                                                     <a:s r="272">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="273">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> != </a:s>
                                                                  <a:s r="274">
                                                                     <a:s>'cancelled'</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>
                  and </a:s>
                                                            <a:s r="280">
                                                               <a:s r="278">
                                                                  <a:s r="277">
                                                                     <a:s>GlucoseTest</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="278">
                                                                     <a:s>value</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> >= </a:s>
                                                               <a:s r="279">
                                                                  <a:s>200 'mg/dL'</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
                  and </a:s>
                                                         <a:s r="288">
                                                            <a:s r="285">
                                                               <a:s r="282">
                                                                  <a:s>QICoreCommon</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="285">
                                                                  <a:s>&quot;Earliest&quot; ( </a:s>
                                                                  <a:s r="284">
                                                                     <a:s r="283">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="284">
                                                                        <a:s>effective</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s r="288"> during </a:s>
                                                            <a:s r="287">
                                                               <a:s r="286">
                                                                  <a:s>EncounterDay</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="287">
                                                                  <a:s>dayPeriod</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
            )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s>
                                          <a:s>hasNoGlucoseTest: </a:s>
                                          <a:s r="316">
                                             <a:s>not </a:s>
                                             <a:s r="315">
                                                <a:s>exists </a:s>
                                                <a:s r="314">
                                                   <a:s>( </a:s>
                                                   <a:s r="314">
                                                      <a:s>
                                                         <a:s r="293">
                                                            <a:s r="292">
                                                               <a:s r="292">
                                                                  <a:s>[&quot;Observation&quot;: </a:s>
                                                                  <a:s>
                                                                     <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                                                                  </a:s>
                                                                  <a:s>]</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> GlucoseTest</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
                </a:s>
                                                      <a:s r="313">
                                                         <a:s>where </a:s>
                                                         <a:s r="313">
                                                            <a:s r="305">
                                                               <a:s r="300">
                                                                  <a:s r="295">
                                                                     <a:s r="294">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="295">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> in </a:s>
                                                                  <a:s r="299">
                                                                     <a:s>{ </a:s>
                                                                     <a:s r="296">
                                                                        <a:s>'final'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="297">
                                                                        <a:s>'amended'</a:s>
                                                                     </a:s>
                                                                     <a:s>, </a:s>
                                                                     <a:s r="298">
                                                                        <a:s>'corrected'</a:s>
                                                                     </a:s>
                                                                     <a:s> }</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>
                  and </a:s>
                                                               <a:s r="304">
                                                                  <a:s r="302">
                                                                     <a:s r="301">
                                                                        <a:s>GlucoseTest</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="302">
                                                                        <a:s>status</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> != </a:s>
                                                                  <a:s r="303">
                                                                     <a:s>'cancelled'</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>
                  and </a:s>
                                                            <a:s r="312">
                                                               <a:s r="309">
                                                                  <a:s r="306">
                                                                     <a:s>QICoreCommon</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="309">
                                                                     <a:s>&quot;Earliest&quot; ( </a:s>
                                                                     <a:s r="308">
                                                                        <a:s r="307">
                                                                           <a:s>GlucoseTest</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="308">
                                                                           <a:s>effective</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="312"> during </a:s>
                                                               <a:s r="311">
                                                                  <a:s r="310">
                                                                     <a:s>EncounterDay</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="311">
                                                                     <a:s>dayPeriod</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
            )</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
          }</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      )</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="encounter">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="relevantPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="relevantDays">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="dayNumber">
                           <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="dayPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="hasSevereResult">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hasElevatedResult">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hasNoGlucoseTest">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </elementType>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="322" locator="39:3-66:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="encounter">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="relevantPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="relevantDays">
                     <elementType xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayNumber">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasSevereResult">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hasElevatedResult">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hasNoGlucoseTest">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </elementType>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="223" locator="39:3-39:49" alias="InpatientHospitalDays">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalizationPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="222" locator="39:3-39:27" name="Days in Hospitalization" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hospitalizationPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="relevantPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="relevantDays">
                           <elementType xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayNumber">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                              </elementType>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <return localId="321" locator="40:5-66:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasSevereResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasElevatedResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="320" locator="40:12-66:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasSevereResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasElevatedResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </resultTypeSpecifier>
                  <element name="encounter">
                     <value localId="225" locator="41:18-41:48" resultTypeName="fhir:Encounter" path="encounter" scope="InpatientHospitalDays" xsi:type="Property"/>
                  </element>
                  <element name="relevantPeriod">
                     <value localId="227" locator="42:23-42:58" path="relevantPeriod" scope="InpatientHospitalDays" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
                  <element name="relevantDays">
                     <value localId="319" locator="43:21-65:7" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasSevereResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasElevatedResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="229" locator="43:23-43:69" alias="EncounterDay">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayNumber">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="228" locator="43:23-43:56" path="relevantDays" scope="InpatientHospitalDays" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayNumber">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="318" locator="44:11-64:11">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayNumber">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasSevereResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasElevatedResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasNoGlucoseTest">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="317" locator="44:18-64:11" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="dayNumber">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasSevereResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasElevatedResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasNoGlucoseTest">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="dayNumber">
                                 <value localId="231" locator="45:24-45:45" resultTypeName="t:Integer" path="dayNumber" scope="EncounterDay" xsi:type="Property"/>
                              </element>
                              <element name="dayPeriod">
                                 <value localId="233" locator="46:24-46:45" path="dayPeriod" scope="EncounterDay" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </value>
                              </element>
                              <element name="hasSevereResult">
                                 <value localId="262" locator="47:30-52:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="261" locator="47:37-52:13" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="235" locator="47:39-47:101" alias="GlucoseTest">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="234" locator="47:39-47:89" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <codes locator="47:55-47:88" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
                                          </expression>
                                       </source>
                                       <where localId="260" locator="48:17-51:101" resultTypeName="t:Boolean" xsi:type="And">
                                          <operand localId="252" locator="48:23-50:53" resultTypeName="t:Boolean" xsi:type="And">
                                             <operand localId="247" locator="48:23-49:55" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="242" locator="48:23-48:79" resultTypeName="t:Boolean" xsi:type="In">
                                                   <operand localId="237" locator="48:23-48:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                      <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                   </operand>
                                                   <operand localId="241" locator="48:45-48:79" xsi:type="List">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <element localId="238" locator="48:47-48:53" resultTypeName="t:String" valueType="t:String" value="final" xsi:type="Literal"/>
                                                      <element localId="239" locator="48:56-48:64" resultTypeName="t:String" valueType="t:String" value="amended" xsi:type="Literal"/>
                                                      <element localId="240" locator="48:67-48:77" resultTypeName="t:String" valueType="t:String" value="corrected" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                                <operand localId="246" locator="49:23-49:55" resultTypeName="t:Boolean" xsi:type="Not">
                                                   <operand locator="49:23-49:55" resultTypeName="t:Boolean" xsi:type="Equal">
                                                      <operand localId="244" locator="49:23-49:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                         <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                      </operand>
                                                      <operand localId="245" locator="49:45-49:55" resultTypeName="t:String" valueType="t:String" value="cancelled" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                             </operand>
                                             <operand localId="251" locator="50:23-50:53" resultTypeName="t:Boolean" xsi:type="Greater">
                                                <operand asType="t:Quantity" xsi:type="As">
                                                   <operand localId="249" locator="50:23-50:39" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                      </resultTypeSpecifier>
                                                      <operand path="value" scope="GlucoseTest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <operand localId="250" locator="50:43-50:53" resultTypeName="t:Quantity" value="300" unit="mg/dL" xsi:type="Quantity"/>
                                             </operand>
                                          </operand>
                                          <operand localId="259" locator="51:23-51:101" resultTypeName="t:Boolean" xsi:type="In">
                                             <operand localId="256" locator="51:23-51:71" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                                <operand xsi:type="Case">
                                                   <caseItem>
                                                      <when isType="t:DateTime" xsi:type="Is">
                                                         <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand asType="t:DateTime" xsi:type="As">
                                                            <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <caseItem>
                                                      <when xsi:type="Is">
                                                         <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                         <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </isTypeSpecifier>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand xsi:type="As">
                                                            <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                            <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </asTypeSpecifier>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <caseItem>
                                                      <when isType="t:DateTime" xsi:type="Is">
                                                         <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand asType="t:DateTime" xsi:type="As">
                                                            <operand localId="255" locator="51:49-51:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <else xsi:type="Null">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                      </resultTypeSpecifier>
                                                   </else>
                                                </operand>
                                             </operand>
                                             <operand localId="258" locator="51:80-51:101" path="dayPeriod" scope="EncounterDay" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </operand>
                                       </where>
                                    </operand>
                                 </value>
                              </element>
                              <element name="hasElevatedResult">
                                 <value localId="291" locator="53:32-58:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="290" locator="53:39-58:13" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="264" locator="53:41-53:103" alias="GlucoseTest">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="263" locator="53:41-53:91" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <codes locator="53:57-53:90" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
                                          </expression>
                                       </source>
                                       <where localId="289" locator="54:17-57:101" resultTypeName="t:Boolean" xsi:type="And">
                                          <operand localId="281" locator="54:23-56:54" resultTypeName="t:Boolean" xsi:type="And">
                                             <operand localId="276" locator="54:23-55:55" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="271" locator="54:23-54:79" resultTypeName="t:Boolean" xsi:type="In">
                                                   <operand localId="266" locator="54:23-54:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                      <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                   </operand>
                                                   <operand localId="270" locator="54:45-54:79" xsi:type="List">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <element localId="267" locator="54:47-54:53" resultTypeName="t:String" valueType="t:String" value="final" xsi:type="Literal"/>
                                                      <element localId="268" locator="54:56-54:64" resultTypeName="t:String" valueType="t:String" value="amended" xsi:type="Literal"/>
                                                      <element localId="269" locator="54:67-54:77" resultTypeName="t:String" valueType="t:String" value="corrected" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                                <operand localId="275" locator="55:23-55:55" resultTypeName="t:Boolean" xsi:type="Not">
                                                   <operand locator="55:23-55:55" resultTypeName="t:Boolean" xsi:type="Equal">
                                                      <operand localId="273" locator="55:23-55:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                         <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                      </operand>
                                                      <operand localId="274" locator="55:45-55:55" resultTypeName="t:String" valueType="t:String" value="cancelled" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                             </operand>
                                             <operand localId="280" locator="56:23-56:54" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                                                <operand asType="t:Quantity" xsi:type="As">
                                                   <operand localId="278" locator="56:23-56:39" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                      </resultTypeSpecifier>
                                                      <operand path="value" scope="GlucoseTest" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                                <operand localId="279" locator="56:44-56:54" resultTypeName="t:Quantity" value="200" unit="mg/dL" xsi:type="Quantity"/>
                                             </operand>
                                          </operand>
                                          <operand localId="288" locator="57:23-57:101" resultTypeName="t:Boolean" xsi:type="In">
                                             <operand localId="285" locator="57:23-57:71" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                                <operand xsi:type="Case">
                                                   <caseItem>
                                                      <when isType="t:DateTime" xsi:type="Is">
                                                         <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand asType="t:DateTime" xsi:type="As">
                                                            <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <caseItem>
                                                      <when xsi:type="Is">
                                                         <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                         <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </isTypeSpecifier>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand xsi:type="As">
                                                            <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                            <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </asTypeSpecifier>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <caseItem>
                                                      <when isType="t:DateTime" xsi:type="Is">
                                                         <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                         </operand>
                                                      </when>
                                                      <then xsi:type="As">
                                                         <operand asType="t:DateTime" xsi:type="As">
                                                            <operand localId="284" locator="57:49-57:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </operand>
                                                         <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </asTypeSpecifier>
                                                      </then>
                                                   </caseItem>
                                                   <else xsi:type="Null">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                         <choice xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                         </choice>
                                                      </resultTypeSpecifier>
                                                   </else>
                                                </operand>
                                             </operand>
                                             <operand localId="287" locator="57:80-57:101" path="dayPeriod" scope="EncounterDay" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </operand>
                                       </where>
                                    </operand>
                                 </value>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <value localId="316" locator="59:31-63:13" resultTypeName="t:Boolean" xsi:type="Not">
                                    <operand localId="315" locator="59:35-63:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="314" locator="59:42-63:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <source localId="293" locator="59:44-59:106" alias="GlucoseTest">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="292" locator="59:44-59:94" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <codes locator="59:60-59:93" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
                                             </expression>
                                          </source>
                                          <where localId="313" locator="60:17-62:101" resultTypeName="t:Boolean" xsi:type="And">
                                             <operand localId="305" locator="60:23-61:55" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="300" locator="60:23-60:79" resultTypeName="t:Boolean" xsi:type="In">
                                                   <operand localId="295" locator="60:23-60:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                      <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                   </operand>
                                                   <operand localId="299" locator="60:45-60:79" xsi:type="List">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <element localId="296" locator="60:47-60:53" resultTypeName="t:String" valueType="t:String" value="final" xsi:type="Literal"/>
                                                      <element localId="297" locator="60:56-60:64" resultTypeName="t:String" valueType="t:String" value="amended" xsi:type="Literal"/>
                                                      <element localId="298" locator="60:67-60:77" resultTypeName="t:String" valueType="t:String" value="corrected" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                                <operand localId="304" locator="61:23-61:55" resultTypeName="t:Boolean" xsi:type="Not">
                                                   <operand locator="61:23-61:55" resultTypeName="t:Boolean" xsi:type="Equal">
                                                      <operand localId="302" locator="61:23-61:40" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                                                         <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                                                      </operand>
                                                      <operand localId="303" locator="61:45-61:55" resultTypeName="t:String" valueType="t:String" value="cancelled" xsi:type="Literal"/>
                                                   </operand>
                                                </operand>
                                             </operand>
                                             <operand localId="312" locator="62:23-62:101" resultTypeName="t:Boolean" xsi:type="In">
                                                <operand localId="309" locator="62:23-62:71" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                                   <operand xsi:type="Case">
                                                      <caseItem>
                                                         <when isType="t:DateTime" xsi:type="Is">
                                                            <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </when>
                                                         <then xsi:type="As">
                                                            <operand asType="t:DateTime" xsi:type="As">
                                                               <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </choice>
                                                                     <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                               </operand>
                                                            </operand>
                                                            <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                            </asTypeSpecifier>
                                                         </then>
                                                      </caseItem>
                                                      <caseItem>
                                                         <when xsi:type="Is">
                                                            <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                            <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </isTypeSpecifier>
                                                         </when>
                                                         <then xsi:type="As">
                                                            <operand xsi:type="As">
                                                               <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </choice>
                                                                     <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                               </operand>
                                                               <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </asTypeSpecifier>
                                                            </operand>
                                                            <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                            </asTypeSpecifier>
                                                         </then>
                                                      </caseItem>
                                                      <caseItem>
                                                         <when isType="t:DateTime" xsi:type="Is">
                                                            <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </choice>
                                                                  <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                            </operand>
                                                         </when>
                                                         <then xsi:type="As">
                                                            <operand asType="t:DateTime" xsi:type="As">
                                                               <operand localId="308" locator="62:49-62:69" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </choice>
                                                                     <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                                                               </operand>
                                                            </operand>
                                                            <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                               <choice xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                               </choice>
                                                            </asTypeSpecifier>
                                                         </then>
                                                      </caseItem>
                                                      <else xsi:type="Null">
                                                         <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                            <choice xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                                            </choice>
                                                         </resultTypeSpecifier>
                                                      </else>
                                                   </operand>
                                                </operand>
                                                <operand localId="311" locator="62:80-62:101" path="dayPeriod" scope="EncounterDay" xsi:type="Property">
                                                   <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                </operand>
                                             </operand>
                                          </where>
                                       </operand>
                                    </operand>
                                 </value>
                              </element>
                           </expression>
                        </return>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="371" locator="71:1-89:5" name="Days with Hyperglycemic Events" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="371">
               <a:s>/*# hyper days uses &quot;Relevant Encounters With Glucose Result Days&quot; to find if hyper event on each day. Skips 1st day in 'RelevantDays`. Returns boolean based on: Today high result OR Today no result AND Yesterday high result AND 2 days ago high result*/
define &quot;Days with Hyperglycemic Events&quot;:
  </a:s>
               <a:s r="370">
                  <a:s>
                     <a:s r="325">
                        <a:s r="324">
                           <a:s>
                              <a:s>&quot;Days with Glucose Results&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EncounterWithResultDays</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="362">
                        <a:s>eligibleEventDays: </a:s>
                        <a:s r="361">
                           <a:s>
                              <a:s r="327">
                                 <a:s r="326">
                                    <a:s>
                                       <a:s>EncounterWithResultDays.relevantDays</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> EncounterDay</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="331">
                              <a:s>where </a:s>
                              <a:s r="331">
                                 <a:s r="329">
                                    <a:s r="328">
                                       <a:s>EncounterDay</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="329">
                                       <a:s>dayNumber</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="330"> > 1</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="360">
                              <a:s>return </a:s>
                              <a:s r="359">
                                 <a:s>Tuple {
        </a:s>
                                 <a:s>
                                    <a:s>dayIndex: </a:s>
                                    <a:s r="333">
                                       <a:s r="332">
                                          <a:s>EncounterDay</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="333">
                                          <a:s>dayNumber</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
        </a:s>
                                 <a:s>
                                    <a:s>dayPeriod: </a:s>
                                    <a:s r="335">
                                       <a:s r="334">
                                          <a:s>EncounterDay</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="335">
                                          <a:s>dayPeriod</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
        </a:s>
                                 <a:s>
                                    <a:s>hasHyperglycemicEvent: </a:s>
                                    <a:s r="358">
                                       <a:s>( </a:s>
                                       <a:s r="358">
                                          <a:s r="337">
                                             <a:s r="336">
                                                <a:s>EncounterDay</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="337">
                                                <a:s>hasSevereResult</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>
            or </a:s>
                                          <a:s r="357">
                                             <a:s>( </a:s>
                                             <a:s r="357">
                                                <a:s r="348">
                                                   <a:s r="339">
                                                      <a:s r="338">
                                                         <a:s>EncounterDay</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="339">
                                                         <a:s>hasNoGlucoseTest</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
                and </a:s>
                                                   <a:s r="347">
                                                      <a:s r="346">
                                                         <a:s r="341">
                                                            <a:s r="340">
                                                               <a:s>EncounterWithResultDays</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="341">
                                                               <a:s>relevantDays</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>[</a:s>
                                                         <a:s r="345">
                                                            <a:s r="343">
                                                               <a:s r="342">
                                                                  <a:s>EncounterDay</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="343">
                                                                  <a:s>dayNumber</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s r="344"> - 2</a:s>
                                                         </a:s>
                                                         <a:s>]</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="347">
                                                         <a:s>hasElevatedResult</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
                and </a:s>
                                                <a:s r="356">
                                                   <a:s r="355">
                                                      <a:s r="350">
                                                         <a:s r="349">
                                                            <a:s>EncounterWithResultDays</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="350">
                                                            <a:s>relevantDays</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>[</a:s>
                                                      <a:s r="354">
                                                         <a:s r="352">
                                                            <a:s r="351">
                                                               <a:s>EncounterDay</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="352">
                                                               <a:s>dayNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="353"> - 3</a:s>
                                                      </a:s>
                                                      <a:s>]</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="356">
                                                      <a:s>hasElevatedResult</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
            )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
        )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="369">
                     <a:s>return </a:s>
                     <a:s r="368">
                        <a:s>Tuple {
      </a:s>
                        <a:s>
                           <a:s>encounter: </a:s>
                           <a:s r="364">
                              <a:s r="363">
                                 <a:s>EncounterWithResultDays</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="364">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>relevantPeriod: </a:s>
                           <a:s r="366">
                              <a:s r="365">
                                 <a:s>EncounterWithResultDays</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="366">
                                 <a:s>relevantPeriod</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>eligibleEventDays: </a:s>
                           <a:s r="367">
                              <a:s>eligibleEventDays</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="encounter">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="relevantPeriod">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="eligibleEventDays">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="dayIndex">
                           <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="dayPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="hasHyperglycemicEvent">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </elementType>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="370" locator="72:3-89:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="encounter">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="relevantPeriod">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="eligibleEventDays">
                     <elementType xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayIndex">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasHyperglycemicEvent">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </elementType>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="325" locator="72:3-72:53" alias="EncounterWithResultDays">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="relevantDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasSevereResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasElevatedResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="324" locator="72:3-72:29" name="Days with Glucose Results" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="relevantPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="relevantDays">
                           <elementType xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayNumber">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasSevereResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasElevatedResult">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="hasNoGlucoseTest">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </elementType>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="362" locator="73:9-84:7" identifier="eligibleEventDays">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="dayIndex">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="dayPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="hasHyperglycemicEvent">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="361" locator="73:28-84:7" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="dayIndex">
                           <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="dayPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="hasHyperglycemicEvent">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="327" locator="73:28-73:76" alias="EncounterDay">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayNumber">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasSevereResult">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hasElevatedResult">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hasNoGlucoseTest">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="326" locator="73:28-73:63" path="relevantDays" scope="EncounterWithResultDays" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayNumber">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasSevereResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasElevatedResult">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="hasNoGlucoseTest">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="331" locator="74:7-74:38" resultTypeName="t:Boolean" xsi:type="Greater">
                     <operand localId="329" locator="74:13-74:34" resultTypeName="t:Integer" path="dayNumber" scope="EncounterDay" xsi:type="Property"/>
                     <operand localId="330" locator="74:38" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                  </where>
                  <return localId="360" locator="75:7-84:7">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayIndex">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasHyperglycemicEvent">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="359" locator="75:14-84:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="dayIndex">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasHyperglycemicEvent">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </resultTypeSpecifier>
                        <element name="dayIndex">
                           <value localId="333" locator="76:19-76:40" resultTypeName="t:Integer" path="dayNumber" scope="EncounterDay" xsi:type="Property"/>
                        </element>
                        <element name="dayPeriod">
                           <value localId="335" locator="77:20-77:41" path="dayPeriod" scope="EncounterDay" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </value>
                        </element>
                        <element name="hasHyperglycemicEvent">
                           <value localId="358" locator="78:32-83:9" resultTypeName="t:Boolean" xsi:type="Or">
                              <operand localId="337" locator="78:34-78:61" resultTypeName="t:Boolean" path="hasSevereResult" scope="EncounterDay" xsi:type="Property"/>
                              <operand localId="357" locator="79:16-82:13" resultTypeName="t:Boolean" xsi:type="And">
                                 <operand localId="348" locator="79:18-80:102" resultTypeName="t:Boolean" xsi:type="And">
                                    <operand localId="339" locator="79:18-79:46" resultTypeName="t:Boolean" path="hasNoGlucoseTest" scope="EncounterDay" xsi:type="Property"/>
                                    <operand localId="347" locator="80:21-80:102" resultTypeName="t:Boolean" path="hasElevatedResult" xsi:type="Property">
                                       <source localId="346" locator="80:21-80:84" xsi:type="Indexer">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="dayNumber">
                                                <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="dayPeriod">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </element>
                                             <element name="hasSevereResult">
                                                <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="hasElevatedResult">
                                                <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="hasNoGlucoseTest">
                                                <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                          </resultTypeSpecifier>
                                          <operand localId="341" locator="80:21-80:56" path="relevantDays" scope="EncounterWithResultDays" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="dayNumber">
                                                      <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="dayPeriod">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </element>
                                                   <element name="hasSevereResult">
                                                      <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="hasElevatedResult">
                                                      <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="hasNoGlucoseTest">
                                                      <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </operand>
                                          <operand localId="345" locator="80:58-80:83" resultTypeName="t:Integer" xsi:type="Subtract">
                                             <operand localId="343" locator="80:58-80:79" resultTypeName="t:Integer" path="dayNumber" scope="EncounterDay" xsi:type="Property"/>
                                             <operand localId="344" locator="80:83" resultTypeName="t:Integer" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                          </operand>
                                       </source>
                                    </operand>
                                 </operand>
                                 <operand localId="356" locator="81:21-81:102" resultTypeName="t:Boolean" path="hasElevatedResult" xsi:type="Property">
                                    <source localId="355" locator="81:21-81:84" xsi:type="Indexer">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="dayNumber">
                                             <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="dayPeriod">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </element>
                                          <element name="hasSevereResult">
                                             <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="hasElevatedResult">
                                             <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="hasNoGlucoseTest">
                                             <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                       </resultTypeSpecifier>
                                       <operand localId="350" locator="81:21-81:56" path="relevantDays" scope="EncounterWithResultDays" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="TupleTypeSpecifier">
                                                <element name="dayNumber">
                                                   <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="dayPeriod">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </element>
                                                <element name="hasSevereResult">
                                                   <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="hasElevatedResult">
                                                   <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="hasNoGlucoseTest">
                                                   <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                             </elementType>
                                          </resultTypeSpecifier>
                                       </operand>
                                       <operand localId="354" locator="81:58-81:83" resultTypeName="t:Integer" xsi:type="Subtract">
                                          <operand localId="352" locator="81:58-81:79" resultTypeName="t:Integer" path="dayNumber" scope="EncounterDay" xsi:type="Property"/>
                                          <operand localId="353" locator="81:83" resultTypeName="t:Integer" valueType="t:Integer" value="3" xsi:type="Literal"/>
                                       </operand>
                                    </source>
                                 </operand>
                              </operand>
                           </value>
                        </element>
                     </expression>
                  </return>
               </expression>
            </let>
            <return localId="369" locator="85:5-89:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="eligibleEventDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayIndex">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasHyperglycemicEvent">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="368" locator="85:12-89:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="eligibleEventDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayIndex">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasHyperglycemicEvent">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </resultTypeSpecifier>
                  <element name="encounter">
                     <value localId="364" locator="86:18-86:50" resultTypeName="fhir:Encounter" path="encounter" scope="EncounterWithResultDays" xsi:type="Property"/>
                  </element>
                  <element name="relevantPeriod">
                     <value localId="366" locator="87:23-87:60" path="relevantPeriod" scope="EncounterWithResultDays" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
                  <element name="eligibleEventDays">
                     <value localId="367" locator="88:26-88:42" name="eligibleEventDays" xsi:type="QueryLetRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayIndex">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasHyperglycemicEvent">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="416" locator="164:1-173:22" name="Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="416">
               <a:s>define &quot;Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;:
  </a:s>
               <a:s r="415">
                  <a:s>
                     <a:s>from
    </a:s>
                     <a:s r="375">
                        <a:s r="374">
                           <a:s>
                              <a:s>&quot;Initial Population&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InpatientHospitalization</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="377">
                        <a:s r="376">
                           <a:s r="376">
                              <a:s>[&quot;Observation&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> GlucoseTest</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="381">
                        <a:s>HospitalizationInterval: </a:s>
                        <a:s r="380">
                           <a:s r="378">
                              <a:s>CQMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="380">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="379">
                                 <a:s>InpatientHospitalization</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="386">
                        <a:s>GlucoseTestTime: </a:s>
                        <a:s r="385">
                           <a:s r="382">
                              <a:s>QICoreCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="385">
                              <a:s>&quot;Earliest&quot; ( </a:s>
                              <a:s r="384">
                                 <a:s r="383">
                                    <a:s>GlucoseTest</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="384">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="412">
                     <a:s>where </a:s>
                     <a:s r="412">
                        <a:s r="400">
                           <a:s r="392">
                              <a:s r="390">
                                 <a:s r="388">
                                    <a:s r="387">
                                       <a:s>GlucoseTest</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="388">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> as </a:s>
                                 <a:s r="389">
                                    <a:s>Quantity</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> >= </a:s>
                              <a:s r="391">
                                 <a:s>1000 'mg/dL'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="399">
                              <a:s r="394">
                                 <a:s r="393">
                                    <a:s>GlucoseTest</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="394">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="398">
                                 <a:s>{ </a:s>
                                 <a:s r="395">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="396">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="397">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="411">
                           <a:s r="401">
                              <a:s>GlucoseTestTime</a:s>
                           </a:s>
                           <a:s r="411"> during </a:s>
                           <a:s r="410">
                              <a:s>Interval[</a:s>
                              <a:s r="405">
                                 <a:s>( </a:s>
                                 <a:s r="405">
                                    <a:s r="403">
                                       <a:s>start of </a:s>
                                       <a:s r="402">
                                          <a:s>HospitalizationInterval</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> - </a:s>
                                    <a:s r="404">
                                       <a:s>1 hour</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="409">
                                 <a:s>( </a:s>
                                 <a:s r="409">
                                    <a:s r="407">
                                       <a:s>start of </a:s>
                                       <a:s r="406">
                                          <a:s>HospitalizationInterval</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="408">
                                       <a:s>6 hours</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="414">
                     <a:s>return </a:s>
                     <a:s r="413">
                        <a:s>GlucoseTest</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="415" locator="165:3-173:22" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="375" locator="166:5-166:49" alias="InpatientHospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="374" locator="166:5-166:24" name="Initial Population" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <source localId="377" locator="167:5-167:67" alias="GlucoseTest">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="376" locator="167:5-167:55" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="167:21-167:54" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <let localId="381" locator="168:9-168:104" identifier="HospitalizationInterval">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="380" locator="168:34-168:104" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="379" locator="168:79-168:102" resultTypeName="fhir:Encounter" name="InpatientHospitalization" xsi:type="AliasRef"/>
               </expression>
            </let>
            <let localId="386" locator="169:5-169:70" resultTypeName="t:DateTime" identifier="GlucoseTestTime">
               <expression localId="385" locator="169:22-169:70" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                  <operand xsi:type="Case">
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when xsi:type="Is">
                           <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                           </operand>
                           <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </isTypeSpecifier>
                        </when>
                        <then xsi:type="As">
                           <operand xsi:type="As">
                              <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                              </operand>
                              <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="384" locator="169:48-169:68" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseTest" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <else xsi:type="Null">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                     </else>
                  </operand>
               </expression>
            </let>
            <where localId="412" locator="170:5-172:136" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="400" locator="170:11-171:67" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="392" locator="170:11-170:55" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                     <operand localId="390" locator="170:11-170:39" resultTypeName="t:Quantity" strict="false" xsi:type="As">
                        <operand localId="388" locator="170:11-170:27" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="value" scope="GlucoseTest" xsi:type="Property"/>
                        </operand>
                        <asTypeSpecifier localId="389" locator="170:32-170:39" resultTypeName="t:Quantity" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                     <operand localId="391" locator="170:44-170:55" resultTypeName="t:Quantity" value="1000" unit="mg/dL" xsi:type="Quantity"/>
                  </operand>
                  <operand localId="399" locator="171:11-171:67" resultTypeName="t:Boolean" xsi:type="In">
                     <operand localId="394" locator="171:11-171:28" resultTypeName="fhir:ObservationStatus" path="value" xsi:type="Property">
                        <source path="status" scope="GlucoseTest" xsi:type="Property"/>
                     </operand>
                     <operand localId="398" locator="171:33-171:67" xsi:type="List">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <element localId="395" locator="171:35-171:41" resultTypeName="t:String" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="396" locator="171:44-171:52" resultTypeName="t:String" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="397" locator="171:55-171:65" resultTypeName="t:String" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="411" locator="172:11-172:136" resultTypeName="t:Boolean" xsi:type="In">
                  <operand localId="401" locator="172:11-172:25" resultTypeName="t:DateTime" name="GlucoseTestTime" xsi:type="QueryLetRef"/>
                  <operand localId="410" locator="172:34-172:136" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <low localId="405" locator="172:43-172:87" resultTypeName="t:DateTime" xsi:type="Subtract">
                        <operand localId="403" locator="172:45-172:76" resultTypeName="t:DateTime" xsi:type="Start">
                           <operand localId="402" locator="172:54-172:76" name="HospitalizationInterval" xsi:type="QueryLetRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="404" locator="172:80-172:85" resultTypeName="t:Quantity" value="1" unit="hour" xsi:type="Quantity"/>
                     </low>
                     <high localId="409" locator="172:90-172:135" resultTypeName="t:DateTime" xsi:type="Add">
                        <operand localId="407" locator="172:92-172:123" resultTypeName="t:DateTime" xsi:type="Start">
                           <operand localId="406" locator="172:101-172:123" name="HospitalizationInterval" xsi:type="QueryLetRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="408" locator="172:127-172:133" resultTypeName="t:Quantity" value="6" unit="hours" xsi:type="Quantity"/>
                     </high>
                  </operand>
               </operand>
            </where>
            <return localId="414" locator="173:5-173:22">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="413" locator="173:12-173:22" resultTypeName="fhir:Observation" name="GlucoseTest" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="471" locator="175:1-186:28" name="Glucose Tests Earlier Than Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="471">
               <a:s>define &quot;Glucose Tests Earlier Than Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;:
  </a:s>
               <a:s r="470">
                  <a:s>
                     <a:s>from
    </a:s>
                     <a:s r="422">
                        <a:s r="421">
                           <a:s>
                              <a:s>&quot;Initial Population&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InpatientHospitalization</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="424">
                        <a:s r="423">
                           <a:s>
                              <a:s>&quot;Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> GlucoseResult1000</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="426">
                        <a:s r="425">
                           <a:s r="425">
                              <a:s>[&quot;Observation&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Glucose Lab Test Mass Per Volume&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EarlierGlucoseTest</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="430">
                        <a:s>HospitalizationInterval: </a:s>
                        <a:s r="429">
                           <a:s r="427">
                              <a:s>CQMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="429">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="428">
                                 <a:s>InpatientHospitalization</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="435">
                        <a:s>GlucoseTest1000Time: </a:s>
                        <a:s r="434">
                           <a:s r="431">
                              <a:s>QICoreCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="434">
                              <a:s>&quot;Earliest&quot; ( </a:s>
                              <a:s r="433">
                                 <a:s r="432">
                                    <a:s>GlucoseResult1000</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="433">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="440">
                        <a:s>EarlierGlucoseTestTime: </a:s>
                        <a:s r="439">
                           <a:s r="436">
                              <a:s>QICoreCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="439">
                              <a:s>&quot;Earliest&quot; ( </a:s>
                              <a:s r="438">
                                 <a:s r="437">
                                    <a:s>EarlierGlucoseTest</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="438">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="467">
                     <a:s>where </a:s>
                     <a:s r="467">
                        <a:s r="460">
                           <a:s r="451">
                              <a:s r="441">
                                 <a:s>GlucoseTest1000Time</a:s>
                              </a:s>
                              <a:s r="451"> during </a:s>
                              <a:s r="450">
                                 <a:s>Interval[</a:s>
                                 <a:s r="445">
                                    <a:s>( </a:s>
                                    <a:s r="445">
                                       <a:s r="443">
                                          <a:s>start of </a:s>
                                          <a:s r="442">
                                             <a:s>HospitalizationInterval</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> - </a:s>
                                       <a:s r="444">
                                          <a:s>1 hour</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="449">
                                    <a:s>( </a:s>
                                    <a:s r="449">
                                       <a:s r="447">
                                          <a:s>start of </a:s>
                                          <a:s r="446">
                                             <a:s>HospitalizationInterval</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> + </a:s>
                                       <a:s r="448">
                                          <a:s>6 hour</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="459">
                              <a:s r="452">
                                 <a:s>EarlierGlucoseTestTime</a:s>
                              </a:s>
                              <a:s r="459"> during </a:s>
                              <a:s r="458">
                                 <a:s>Interval[</a:s>
                                 <a:s r="456">
                                    <a:s>( </a:s>
                                    <a:s r="456">
                                       <a:s r="454">
                                          <a:s>start of </a:s>
                                          <a:s r="453">
                                             <a:s>HospitalizationInterval</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> - </a:s>
                                       <a:s r="455">
                                          <a:s>1 hour</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="457">
                                    <a:s>GlucoseTest1000Time</a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="466">
                           <a:s r="462">
                              <a:s r="461">
                                 <a:s>EarlierGlucoseTest</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="462">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                           <a:s> !~ </a:s>
                           <a:s r="464">
                              <a:s r="463">
                                 <a:s>GlucoseResult1000</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="464">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="469">
                     <a:s>return </a:s>
                     <a:s r="468">
                        <a:s>GlucoseResult1000</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="470" locator="176:3-186:28" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="422" locator="177:5-177:49" alias="InpatientHospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="421" locator="177:5-177:24" name="Initial Population" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <source localId="424" locator="178:5-178:118" alias="GlucoseResult1000">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="423" locator="178:5-178:100" name="Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <source localId="426" locator="179:5-179:74" alias="EarlierGlucoseTest">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="425" locator="179:5-179:55" dataType="fhir:Observation" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="179:21-179:54" resultTypeName="t:ValueSet" name="Glucose Lab Test Mass Per Volume" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <let localId="430" locator="180:9-180:104" identifier="HospitalizationInterval">
               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="429" locator="180:34-180:104" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="428" locator="180:79-180:102" resultTypeName="fhir:Encounter" name="InpatientHospitalization" xsi:type="AliasRef"/>
               </expression>
            </let>
            <let localId="435" locator="181:5-181:80" resultTypeName="t:DateTime" identifier="GlucoseTest1000Time">
               <expression localId="434" locator="181:26-181:80" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                  <operand xsi:type="Case">
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when xsi:type="Is">
                           <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                           </operand>
                           <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </isTypeSpecifier>
                        </when>
                        <then xsi:type="As">
                           <operand xsi:type="As">
                              <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                              </operand>
                              <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="433" locator="181:52-181:78" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="GlucoseResult1000" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <else xsi:type="Null">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                     </else>
                  </operand>
               </expression>
            </let>
            <let localId="440" locator="182:5-182:84" resultTypeName="t:DateTime" identifier="EarlierGlucoseTestTime">
               <expression localId="439" locator="182:29-182:84" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                  <operand xsi:type="Case">
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when xsi:type="Is">
                           <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                           </operand>
                           <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </isTypeSpecifier>
                        </when>
                        <then xsi:type="As">
                           <operand xsi:type="As">
                              <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                              </operand>
                              <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <caseItem>
                        <when isType="t:DateTime" xsi:type="Is">
                           <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                           </operand>
                        </when>
                        <then xsi:type="As">
                           <operand asType="t:DateTime" xsi:type="As">
                              <operand localId="438" locator="182:55-182:82" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand path="effective" scope="EarlierGlucoseTest" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </asTypeSpecifier>
                        </then>
                     </caseItem>
                     <else xsi:type="Null">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </resultTypeSpecifier>
                     </else>
                  </operand>
               </expression>
            </let>
            <where localId="467" locator="183:5-185:55" resultTypeName="t:Boolean" xsi:type="And">
               <operand localId="460" locator="183:11-184:117" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="451" locator="183:11-183:139" resultTypeName="t:Boolean" xsi:type="In">
                     <operand localId="441" locator="183:11-183:29" resultTypeName="t:DateTime" name="GlucoseTest1000Time" xsi:type="QueryLetRef"/>
                     <operand localId="450" locator="183:38-183:139" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <low localId="445" locator="183:47-183:91" resultTypeName="t:DateTime" xsi:type="Subtract">
                           <operand localId="443" locator="183:49-183:80" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="442" locator="183:58-183:80" name="HospitalizationInterval" xsi:type="QueryLetRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                           <operand localId="444" locator="183:84-183:89" resultTypeName="t:Quantity" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="449" locator="183:94-183:138" resultTypeName="t:DateTime" xsi:type="Add">
                           <operand localId="447" locator="183:96-183:127" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="446" locator="183:105-183:127" name="HospitalizationInterval" xsi:type="QueryLetRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                           <operand localId="448" locator="183:131-183:136" resultTypeName="t:Quantity" value="6" unit="hour" xsi:type="Quantity"/>
                        </high>
                     </operand>
                  </operand>
                  <operand localId="459" locator="184:11-184:117" resultTypeName="t:Boolean" xsi:type="In">
                     <operand localId="452" locator="184:11-184:32" resultTypeName="t:DateTime" name="EarlierGlucoseTestTime" xsi:type="QueryLetRef"/>
                     <operand localId="458" locator="184:41-184:117" lowClosed="true" highClosed="false" xsi:type="Interval">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <low localId="456" locator="184:50-184:94" resultTypeName="t:DateTime" xsi:type="Subtract">
                           <operand localId="454" locator="184:52-184:83" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="453" locator="184:61-184:83" name="HospitalizationInterval" xsi:type="QueryLetRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                           <operand localId="455" locator="184:87-184:92" resultTypeName="t:Quantity" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="457" locator="184:97-184:115" resultTypeName="t:DateTime" name="GlucoseTest1000Time" xsi:type="QueryLetRef"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="466" locator="185:11-185:55" resultTypeName="t:Boolean" xsi:type="Not">
                  <operand localId="465" locator="185:11-185:55" resultTypeName="t:Boolean" xsi:type="Equivalent">
                     <operand localId="462" locator="185:11-185:31" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="id" scope="EarlierGlucoseTest" xsi:type="Property"/>
                     </operand>
                     <operand localId="464" locator="185:36-185:55" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="id" scope="GlucoseResult1000" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="469" locator="186:5-186:28">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="468" locator="186:12-186:28" resultTypeName="fhir:Observation" name="GlucoseResult1000" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="477" locator="188:1-190:168" name="Initial Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="477">
               <a:s>define &quot;Initial Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;:
  </a:s>
               <a:s r="476">
                  <a:s>
                     <a:s r="418">
                        <a:s r="417">
                           <a:s>
                              <a:s>&quot;Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> GlucoseResult1000</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="475">
                     <a:s>where </a:s>
                     <a:s r="475">
                        <a:s>not </a:s>
                        <a:s r="474">
                           <a:s>( </a:s>
                           <a:s r="474">
                              <a:s r="420">
                                 <a:s r="419">
                                    <a:s>GlucoseResult1000</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="420">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="473">
                                 <a:s r="472">
                                    <a:s>&quot;Glucose Tests Earlier Than Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="473">
                                    <a:s>id</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="476" locator="189:3-190:168" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="418" locator="189:3-189:116" alias="GlucoseResult1000">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="417" locator="189:3-189:98" name="Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="475" locator="190:5-190:168" resultTypeName="t:Boolean" xsi:type="Not">
               <operand localId="474" locator="190:15-190:168" resultTypeName="t:Boolean" xsi:type="In">
                  <operand localId="420" locator="190:17-190:36" resultTypeName="t:String" path="value" xsi:type="Property">
                     <source path="id" scope="GlucoseResult1000" xsi:type="Property"/>
                  </operand>
                  <operand localId="473" locator="190:41-190:166" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source alias="$this">
                        <expression localId="472" locator="190:41-190:163" name="Glucose Tests Earlier Than Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" xsi:type="ExpressionRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </expression>
                     </source>
                     <where xsi:type="Not">
                        <operand xsi:type="IsNull">
                           <operand path="value" xsi:type="Property">
                              <source path="id" xsi:type="Property">
                                 <source name="$this" xsi:type="AliasRef"/>
                              </source>
                           </operand>
                        </operand>
                     </where>
                     <return distinct="false">
                        <expression path="value" xsi:type="Property">
                           <source path="id" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </source>
                        </expression>
                     </return>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="507" locator="122:1-126:275" name="Encounter with First Glucose Greater Than or Equal to 1000" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="507">
               <a:s>define &quot;Encounter with First Glucose Greater Than or Equal to 1000&quot;:
  </a:s>
               <a:s r="506">
                  <a:s>
                     <a:s r="373">
                        <a:s r="372">
                           <a:s>
                              <a:s>&quot;Initial Population&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> InpatientHospitalization</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="505">
                     <a:s>with </a:s>
                     <a:s r="479">
                        <a:s r="478">
                           <a:s>
                              <a:s>&quot;Initial Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> FirstGlucoseResult</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="504">
                        <a:s r="485">
                           <a:s r="483">
                              <a:s r="481">
                                 <a:s r="480">
                                    <a:s>FirstGlucoseResult</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="481">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> as </a:s>
                              <a:s r="482">
                                 <a:s>Quantity</a:s>
                              </a:s>
                           </a:s>
                           <a:s> >= </a:s>
                           <a:s r="484">
                              <a:s>1000 'mg/dL'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="503">
                           <a:s r="489">
                              <a:s r="486">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="489">
                                 <a:s>&quot;Earliest&quot; ( </a:s>
                                 <a:s r="488">
                                    <a:s r="487">
                                       <a:s>FirstGlucoseResult</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="488">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="503"> during </a:s>
                           <a:s r="502">
                              <a:s>Interval[</a:s>
                              <a:s r="495">
                                 <a:s>( </a:s>
                                 <a:s r="495">
                                    <a:s r="493">
                                       <a:s>start of </a:s>
                                       <a:s r="492">
                                          <a:s r="490">
                                             <a:s>CQMCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="492">
                                             <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                                             <a:s r="491">
                                                <a:s>InpatientHospitalization</a:s>
                                             </a:s>
                                             <a:s> )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> - </a:s>
                                    <a:s r="494">
                                       <a:s>1 hour</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="501">
                                 <a:s>( </a:s>
                                 <a:s r="501">
                                    <a:s r="499">
                                       <a:s>start of </a:s>
                                       <a:s r="498">
                                          <a:s r="496">
                                             <a:s>CQMCommon</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="498">
                                             <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                                             <a:s r="497">
                                                <a:s>InpatientHospitalization</a:s>
                                             </a:s>
                                             <a:s> )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="500">
                                       <a:s>6 hours</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> )</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="506" locator="123:3-126:275" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="373" locator="123:3-123:47" alias="InpatientHospitalization">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="372" locator="123:3-123:22" name="Initial Population" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="505" locator="124:5-126:275" alias="FirstGlucoseResult" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="478" locator="124:10-124:113" name="Initial Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="504" locator="125:17-126:275" resultTypeName="t:Boolean" xsi:type="And">
                  <operand localId="485" locator="125:17-125:68" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
                     <operand localId="483" locator="125:17-125:52" resultTypeName="t:Quantity" strict="false" xsi:type="As">
                        <operand localId="481" locator="125:17-125:40" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice name="t:Ratio" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:SampledData" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Time" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="value" scope="FirstGlucoseResult" xsi:type="Property"/>
                        </operand>
                        <asTypeSpecifier localId="482" locator="125:45-125:52" resultTypeName="t:Quantity" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                     </operand>
                     <operand localId="484" locator="125:57-125:68" resultTypeName="t:Quantity" value="1000" unit="mg/dL" xsi:type="Quantity"/>
                  </operand>
                  <operand localId="503" locator="126:13-126:275" resultTypeName="t:Boolean" xsi:type="In">
                     <operand localId="489" locator="126:13-126:68" resultTypeName="t:DateTime" name="Earliest" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <operand xsi:type="Case">
                           <caseItem>
                              <when isType="t:DateTime" xsi:type="Is">
                                 <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                 </operand>
                              </when>
                              <then xsi:type="As">
                                 <operand asType="t:DateTime" xsi:type="As">
                                    <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <caseItem>
                              <when xsi:type="Is">
                                 <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                 </operand>
                                 <isTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </isTypeSpecifier>
                              </when>
                              <then xsi:type="As">
                                 <operand xsi:type="As">
                                    <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                    </operand>
                                    <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </asTypeSpecifier>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <caseItem>
                              <when isType="t:DateTime" xsi:type="Is">
                                 <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                 </operand>
                              </when>
                              <then xsi:type="As">
                                 <operand asType="t:DateTime" xsi:type="As">
                                    <operand localId="488" locator="126:39-126:66" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                          <choice name="fhir:Timing" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand path="effective" scope="FirstGlucoseResult" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </asTypeSpecifier>
                              </then>
                           </caseItem>
                           <else xsi:type="Null">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                           </else>
                        </operand>
                     </operand>
                     <operand localId="502" locator="126:77-126:275" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <low localId="495" locator="126:86-126:178" resultTypeName="t:DateTime" xsi:type="Subtract">
                           <operand localId="493" locator="126:88-126:167" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="492" locator="126:97-126:167" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand localId="491" locator="126:142-126:165" resultTypeName="fhir:Encounter" name="InpatientHospitalization" xsi:type="AliasRef"/>
                              </operand>
                           </operand>
                           <operand localId="494" locator="126:171-126:176" resultTypeName="t:Quantity" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="501" locator="126:181-126:274" resultTypeName="t:DateTime" xsi:type="Add">
                           <operand localId="499" locator="126:183-126:262" resultTypeName="t:DateTime" xsi:type="Start">
                              <operand localId="498" locator="126:192-126:262" name="HospitalizationWithObservation" libraryName="CQMCommon" xsi:type="FunctionRef">
                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand localId="497" locator="126:237-126:260" resultTypeName="fhir:Encounter" name="InpatientHospitalization" xsi:type="AliasRef"/>
                              </operand>
                           </operand>
                           <operand localId="500" locator="126:266-126:272" resultTypeName="t:Quantity" value="6" unit="hours" xsi:type="Quantity"/>
                        </high>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="509" locator="94:1-95:62" name="Denominator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="509">
               <a:s>define &quot;Denominator Exclusions&quot;:
  </a:s>
               <a:s r="508">
                  <a:s>&quot;Encounter with First Glucose Greater Than or Equal to 1000&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="508" locator="95:3-95:62" name="Encounter with First Glucose Greater Than or Equal to 1000" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="522" locator="143:1-148:43" name="Encounter with Hyperglycemic Events" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="522">
               <a:s>/***/
define &quot;Encounter with Hyperglycemic Events&quot;:
  </a:s>
               <a:s r="521">
                  <a:s>
                     <a:s r="511">
                        <a:s r="510">
                           <a:s>
                              <a:s>&quot;Days with Hyperglycemic Events&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> HyperglycemicEventDays</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="517">
                     <a:s>where </a:s>
                     <a:s r="517">
                        <a:s>exists </a:s>
                        <a:s r="516">
                           <a:s>( </a:s>
                           <a:s r="516">
                              <a:s>
                                 <a:s r="513">
                                    <a:s r="512">
                                       <a:s>
                                          <a:s>HyperglycemicEventDays.eligibleEventDays</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> EligibleEventDay</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="515">
                                 <a:s>where </a:s>
                                 <a:s r="515">
                                    <a:s r="514">
                                       <a:s>EligibleEventDay</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="515">
                                       <a:s>hasHyperglycemicEvent</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="520">
                     <a:s>return </a:s>
                     <a:s r="519">
                        <a:s r="518">
                           <a:s>HyperglycemicEventDays</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="519">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="521" locator="144:3-148:43" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="511" locator="144:3-144:57" alias="HyperglycemicEventDays">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="encounter">
                        <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="relevantPeriod">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="eligibleEventDays">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayIndex">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasHyperglycemicEvent">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="510" locator="144:3-144:34" name="Days with Hyperglycemic Events" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="encounter">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="relevantPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="eligibleEventDays">
                           <elementType xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayIndex">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasHyperglycemicEvent">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </elementType>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="517" locator="145:5-147:5" resultTypeName="t:Boolean" xsi:type="Exists">
               <operand localId="516" locator="145:18-147:5" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="dayIndex">
                           <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="dayPeriod">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="hasHyperglycemicEvent">
                           <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="513" locator="145:20-145:76" alias="EligibleEventDay">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="dayIndex">
                              <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="dayPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="hasHyperglycemicEvent">
                              <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="512" locator="145:20-145:59" path="eligibleEventDays" scope="HyperglycemicEventDays" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="dayIndex">
                                 <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="dayPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="hasHyperglycemicEvent">
                                 <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="515" locator="146:9-146:52" resultTypeName="t:Boolean" path="hasHyperglycemicEvent" scope="EligibleEventDay" xsi:type="Property"/>
               </operand>
            </where>
            <return localId="520" locator="148:5-148:43">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="519" locator="148:12-148:43" resultTypeName="fhir:Encounter" path="encounter" scope="HyperglycemicEventDays" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="524" locator="200:1-201:39" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="524">
               <a:s>define &quot;Numerator&quot;:
  </a:s>
               <a:s r="523">
                  <a:s>&quot;Encounter with Hyperglycemic Events&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="523" locator="201:3-201:39" name="Encounter with Hyperglycemic Events" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="527" locator="209:1-210:21" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="527">
               <a:s>define &quot;SDE Ethnicity&quot;:
  </a:s>
               <a:s r="526">
                  <a:s r="525">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="526">
                     <a:s>&quot;SDE Ethnicity&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="codes">
               <elementType xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </element>
            <element name="display">
               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="526" locator="210:3-210:21" name="SDE Ethnicity" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="codes">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="display">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="530" locator="212:1-213:17" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="530">
               <a:s>define &quot;SDE Payer&quot;:
  </a:s>
               <a:s r="529">
                  <a:s r="528">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="529">
                     <a:s>&quot;SDE Payer&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="code">
                  <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="period">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="529" locator="213:3-213:17" name="SDE Payer" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="code">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="period">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="533" locator="215:1-216:16" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="533">
               <a:s>define &quot;SDE Race&quot;:
  </a:s>
               <a:s r="532">
                  <a:s r="531">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="532">
                     <a:s>&quot;SDE Race&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="codes">
               <elementType xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </element>
            <element name="display">
               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="532" locator="216:3-216:16" name="SDE Race" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="codes">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="display">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="536" locator="218:1-219:15" resultTypeName="t:Code" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="536">
               <a:s>define &quot;SDE Sex&quot;:
  </a:s>
               <a:s r="535">
                  <a:s r="534">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="535">
                     <a:s>&quot;SDE Sex&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="535" locator="219:3-219:15" resultTypeName="t:Code" name="SDE Sex" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="572" locator="244:1-252:3" resultTypeName="t:Integer" name="Denominator Observations" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="572">
               <a:s>/**
 * Counts the number of eligible days in an encounter. This simply filters and counts the data built in
 * &quot;Relevant Encounters With Hyperglycemic Event Days&quot;.*/
define function &quot;Denominator Observations&quot;(QualifyingEncounter </a:s>
               <a:s r="543">
                  <a:s>Encounter</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="571">
                  <a:s r="571">
                     <a:s>if </a:s>
                     <a:s r="548">
                        <a:s r="545">
                           <a:s r="544">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="545">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="547">
                           <a:s r="546">
                              <a:s>&quot;Denominator Exclusions&quot;</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="547">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="558">
                        <a:s>singleton from </a:s>
                        <a:s r="557">
                           <a:s>( </a:s>
                           <a:s r="557">
                              <a:s>
                                 <a:s r="550">
                                    <a:s r="549">
                                       <a:s>
                                          <a:s>&quot;Days with Hyperglycemic Events&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> EncounterWithEventDays</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="554">
                                 <a:s>where </a:s>
                                 <a:s r="554">
                                    <a:s r="552">
                                       <a:s r="551">
                                          <a:s>EncounterWithEventDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="552">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="553">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="556">
                                 <a:s r="555">return 0</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
    else </a:s>
                     <a:s r="570">
                        <a:s>singleton from </a:s>
                        <a:s r="569">
                           <a:s>( </a:s>
                           <a:s r="569">
                              <a:s>
                                 <a:s r="560">
                                    <a:s r="559">
                                       <a:s>
                                          <a:s>&quot;Days with Hyperglycemic Events&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> EncounterWithEventDays</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="564">
                                 <a:s>where </a:s>
                                 <a:s r="564">
                                    <a:s r="562">
                                       <a:s r="561">
                                          <a:s>EncounterWithEventDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="562">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="563">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="568">
                                 <a:s>return </a:s>
                                 <a:s r="567">
                                    <a:s>Count(</a:s>
                                    <a:s r="566">
                                       <a:s r="565">
                                          <a:s>EncounterWithEventDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="566">
                                          <a:s>eligibleEventDays</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="571" locator="245:3-252:3" resultTypeName="t:Integer" xsi:type="If">
            <condition localId="548" locator="245:6-245:58" resultTypeName="t:Boolean" xsi:type="In">
               <operand localId="545" locator="245:6-245:27" resultTypeName="t:String" path="value" xsi:type="Property">
                  <source path="id" xsi:type="Property">
                     <source localId="544" locator="245:6-245:24" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </source>
               </operand>
               <operand localId="547" locator="245:32-245:58" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source alias="$this">
                     <expression localId="546" locator="245:32-245:55" name="Denominator Exclusions" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where xsi:type="Not">
                     <operand xsi:type="IsNull">
                        <operand path="value" xsi:type="Property">
                           <source path="id" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </operand>
                  </where>
                  <return distinct="false">
                     <expression path="value" xsi:type="Property">
                        <source path="id" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </source>
                     </expression>
                  </return>
               </operand>
            </condition>
            <then localId="558" locator="245:65-248:3" resultTypeName="t:Integer" xsi:type="SingletonFrom">
               <operand localId="557" locator="245:80-248:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="550" locator="245:82-245:136" alias="EncounterWithEventDays">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="encounter">
                              <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="relevantPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="eligibleEventDays">
                              <elementType xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayIndex">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                    <element name="hasHyperglycemicEvent">
                                       <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </elementType>
                              </elementType>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="549" locator="245:82-245:113" name="Days with Hyperglycemic Events" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="encounter">
                                 <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="relevantPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="eligibleEventDays">
                                 <elementType xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="dayIndex">
                                          <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="dayPeriod">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </element>
                                       <element name="hasHyperglycemicEvent">
                                          <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </elementType>
                                 </elementType>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="554" locator="246:7-246:66" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand localId="552" locator="246:13-246:44" resultTypeName="fhir:Encounter" path="encounter" scope="EncounterWithEventDays" xsi:type="Property"/>
                     <operand localId="553" locator="246:48-246:66" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </where>
                  <return localId="556" locator="247:7-247:14">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="555" locator="247:14" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
                  </return>
               </operand>
            </then>
            <else localId="570" locator="249:10-252:3" resultTypeName="t:Integer" xsi:type="SingletonFrom">
               <operand localId="569" locator="249:25-252:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="560" locator="249:27-249:81" alias="EncounterWithEventDays">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="encounter">
                              <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="relevantPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="eligibleEventDays">
                              <elementType xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayIndex">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                    <element name="hasHyperglycemicEvent">
                                       <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </elementType>
                              </elementType>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="559" locator="249:27-249:58" name="Days with Hyperglycemic Events" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="encounter">
                                 <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="relevantPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="eligibleEventDays">
                                 <elementType xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="dayIndex">
                                          <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="dayPeriod">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </element>
                                       <element name="hasHyperglycemicEvent">
                                          <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </elementType>
                                 </elementType>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="564" locator="250:7-250:66" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand localId="562" locator="250:13-250:44" resultTypeName="fhir:Encounter" path="encounter" scope="EncounterWithEventDays" xsi:type="Property"/>
                     <operand localId="563" locator="250:48-250:66" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </where>
                  <return localId="568" locator="251:7-251:60">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="567" locator="251:14-251:60" resultTypeName="t:Integer" xsi:type="Count">
                        <source localId="566" locator="251:20-251:59" path="eligibleEventDays" scope="EncounterWithEventDays" xsi:type="Property">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayIndex">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasHyperglycemicEvent">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                        </source>
                     </expression>
                  </return>
               </operand>
            </else>
         </expression>
         <operand name="QualifyingEncounter">
            <operandTypeSpecifier localId="543" locator="244:64-244:72" resultTypeName="fhir:Encounter" name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="605" locator="259:1-269:3" resultTypeName="t:Integer" name="Numerator Observations" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="605">
               <a:s>/**
 * Counts the number of eligible days with a hyperglycemic event in an encounter. This simply filters and counts the data built in
 * &quot;Relevant Encounters With Hyperglycemic Event Days&quot;.*/
define function &quot;Numerator Observations&quot;(QualifyingEncounter </a:s>
               <a:s r="573">
                  <a:s>Encounter</a:s>
               </a:s>
               <a:s>):
  </a:s>
               <a:s r="604">
                  <a:s r="604">
                     <a:s>if </a:s>
                     <a:s r="578">
                        <a:s r="575">
                           <a:s r="574">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="575">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="577">
                           <a:s r="576">
                              <a:s>&quot;Denominator Exclusions&quot;</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="577">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="588">
                        <a:s>singleton from </a:s>
                        <a:s r="587">
                           <a:s>( </a:s>
                           <a:s r="587">
                              <a:s>
                                 <a:s r="580">
                                    <a:s r="579">
                                       <a:s>
                                          <a:s>&quot;Days with Hyperglycemic Events&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> EncounterWithEventDays</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="584">
                                 <a:s>where </a:s>
                                 <a:s r="584">
                                    <a:s r="582">
                                       <a:s r="581">
                                          <a:s>EncounterWithEventDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="582">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="583">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="586">
                                 <a:s r="585">return 0</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
    else </a:s>
                     <a:s r="603">
                        <a:s>singleton from </a:s>
                        <a:s r="602">
                           <a:s>( </a:s>
                           <a:s r="602">
                              <a:s>
                                 <a:s r="590">
                                    <a:s r="589">
                                       <a:s>
                                          <a:s>&quot;Days with Hyperglycemic Events&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> EncounterWithEventDays</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="594">
                                 <a:s>where </a:s>
                                 <a:s r="594">
                                    <a:s r="592">
                                       <a:s r="591">
                                          <a:s>EncounterWithEventDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="592">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="593">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="601">
                                 <a:s>return </a:s>
                                 <a:s r="600">
                                    <a:s>Count(</a:s>
                                    <a:s r="599">
                                       <a:s>
                                          <a:s r="596">
                                             <a:s r="595">
                                                <a:s>
                                                   <a:s>EncounterWithEventDays.eligibleEventDays</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> EligibleEventDay</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
          </a:s>
                                       <a:s r="598">
                                          <a:s>where </a:s>
                                          <a:s r="598">
                                             <a:s r="597">
                                                <a:s>EligibleEventDay</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="598">
                                                <a:s>hasHyperglycemicEvent</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      )</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="604" locator="260:3-269:3" resultTypeName="t:Integer" xsi:type="If">
            <condition localId="578" locator="260:6-260:58" resultTypeName="t:Boolean" xsi:type="In">
               <operand localId="575" locator="260:6-260:27" resultTypeName="t:String" path="value" xsi:type="Property">
                  <source path="id" xsi:type="Property">
                     <source localId="574" locator="260:6-260:24" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </source>
               </operand>
               <operand localId="577" locator="260:32-260:58" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source alias="$this">
                     <expression localId="576" locator="260:32-260:55" name="Denominator Exclusions" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where xsi:type="Not">
                     <operand xsi:type="IsNull">
                        <operand path="value" xsi:type="Property">
                           <source path="id" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </operand>
                  </where>
                  <return distinct="false">
                     <expression path="value" xsi:type="Property">
                        <source path="id" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </source>
                     </expression>
                  </return>
               </operand>
            </condition>
            <then localId="588" locator="260:65-263:3" resultTypeName="t:Integer" xsi:type="SingletonFrom">
               <operand localId="587" locator="260:80-263:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="580" locator="260:82-260:136" alias="EncounterWithEventDays">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="encounter">
                              <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="relevantPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="eligibleEventDays">
                              <elementType xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayIndex">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                    <element name="hasHyperglycemicEvent">
                                       <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </elementType>
                              </elementType>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="579" locator="260:82-260:113" name="Days with Hyperglycemic Events" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="encounter">
                                 <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="relevantPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="eligibleEventDays">
                                 <elementType xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="dayIndex">
                                          <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="dayPeriod">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </element>
                                       <element name="hasHyperglycemicEvent">
                                          <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </elementType>
                                 </elementType>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="584" locator="261:7-261:66" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand localId="582" locator="261:13-261:44" resultTypeName="fhir:Encounter" path="encounter" scope="EncounterWithEventDays" xsi:type="Property"/>
                     <operand localId="583" locator="261:48-261:66" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </where>
                  <return localId="586" locator="262:7-262:14">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="585" locator="262:14" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
                  </return>
               </operand>
            </then>
            <else localId="603" locator="264:10-269:3" resultTypeName="t:Integer" xsi:type="SingletonFrom">
               <operand localId="602" locator="264:25-269:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="590" locator="264:27-264:81" alias="EncounterWithEventDays">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="encounter">
                              <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="relevantPeriod">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="eligibleEventDays">
                              <elementType xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayIndex">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                    <element name="hasHyperglycemicEvent">
                                       <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </elementType>
                              </elementType>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="589" locator="264:27-264:58" name="Days with Hyperglycemic Events" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="encounter">
                                 <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="relevantPeriod">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </element>
                              <element name="eligibleEventDays">
                                 <elementType xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="dayIndex">
                                          <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="dayPeriod">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </element>
                                       <element name="hasHyperglycemicEvent">
                                          <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </elementType>
                                 </elementType>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="594" locator="265:7-265:66" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand localId="592" locator="265:13-265:44" resultTypeName="fhir:Encounter" path="encounter" scope="EncounterWithEventDays" xsi:type="Property"/>
                     <operand localId="593" locator="265:48-265:66" resultTypeName="fhir:Encounter" name="QualifyingEncounter" xsi:type="OperandRef"/>
                  </where>
                  <return localId="601" locator="266:7-268:7">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="600" locator="266:14-268:7" resultTypeName="t:Integer" xsi:type="Count">
                        <source localId="599" locator="266:20-267:54" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="dayIndex">
                                    <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="dayPeriod">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </element>
                                 <element name="hasHyperglycemicEvent">
                                    <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <source localId="596" locator="266:20-266:76" alias="EligibleEventDay">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="dayIndex">
                                       <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="dayPeriod">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </element>
                                    <element name="hasHyperglycemicEvent">
                                       <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <expression localId="595" locator="266:20-266:59" path="eligibleEventDays" scope="EncounterWithEventDays" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="dayIndex">
                                          <elementType name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="dayPeriod">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </element>
                                       <element name="hasHyperglycemicEvent">
                                          <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                              </expression>
                           </source>
                           <where localId="598" locator="267:11-267:54" resultTypeName="t:Boolean" path="hasHyperglycemicEvent" scope="EligibleEventDay" xsi:type="Property"/>
                        </source>
                     </expression>
                  </return>
               </operand>
            </else>
         </expression>
         <operand name="QualifyingEncounter">
            <operandTypeSpecifier localId="573" locator="259:62-259:70" resultTypeName="fhir:Encounter" name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
   </statements>
</library>